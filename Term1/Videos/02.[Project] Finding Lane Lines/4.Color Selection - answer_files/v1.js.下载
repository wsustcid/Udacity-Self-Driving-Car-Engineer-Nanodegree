(function(){if(Userback!==undefined&&Userback.is_loaded===true){return}(function(t,e,n){"use strict";function r(t,e,n){var r,a=t.runtimeStyle&&t.runtimeStyle[e],o=t.style;return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(r=o.left,a&&(t.runtimeStyle.left=t.currentStyle.left),o.left="fontSize"===e?"1em":n||0,n=o.pixelLeft+"px",o.left=r,a&&(t.runtimeStyle.left=a)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function a(t){return parseInt(t,10)}function o(t,e,a,o){if(t=(t||"").split(","),t=t[o||0]||t[0]||"auto",t=u.Util.trimText(t).split(" "),"backgroundSize"!==a||t[0]&&!t[0].match(/cover|contain|auto/)){if(t[0]=-1===t[0].indexOf("%")?r(e,a+"X",t[0]):t[0],t[1]===n){if("backgroundSize"===a)return t[1]="auto",t;t[1]=t[0]}t[1]=-1===t[1].indexOf("%")?r(e,a+"Y",t[1]):t[1]}else;return t}function i(t,e,n,r,a,o){var i,l,s,c,d=u.Util.getCSS(e,t,a);if(1===d.length&&(c=d[0],d=[],d[0]=c,d[1]=c),-1!==(""+d[0]).indexOf("%"))s=parseFloat(d[0])/100,l=n.width*s,"backgroundSize"!==t&&(l-=(o||r).width*s);else if("backgroundSize"===t)if("auto"===d[0])l=r.width;else if(/contain|cover/.test(d[0])){var h=u.Util.resizeBounds(r.width,r.height,n.width,n.height,d[0]);l=h.width,i=h.height}else l=parseInt(d[0],10);else l=parseInt(d[0],10);return"auto"===d[1]?i=l/r.width*r.height:-1!==(""+d[1]).indexOf("%")?(s=parseFloat(d[1])/100,i=n.height*s,"backgroundSize"!==t&&(i-=(o||r).height*s)):i=parseInt(d[1],10),[l,i]}function l(t,e){var n=[];return{storage:n,width:t,height:e,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var t=[];return n.push({type:"function",name:"drawShape",arguments:t}),{moveTo:function(){t.push({name:"moveTo",arguments:arguments})},lineTo:function(){t.push({name:"lineTo",arguments:arguments})},arcTo:function(){t.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){t.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){t.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(t,e){return n.push({type:"variable",name:t,arguments:e}),e}}}function s(t){return{zindex:t,children:[]}}var c,d,u={};u.Util={},u.Util.log=function(e){u.logging&&t.console&&t.console.log&&t.console.log(e)},u.Util.trimText=function(t){return function(e){return t?t.apply(e):((e||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),u.Util.asFloat=function(t){return parseFloat(t)},function(){var t=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,e=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g;u.Util.parseTextShadows=function(n){if(!n||"none"===n)return[];for(var r=n.match(t),a=[],o=0;r&&r.length>o;o++){var i=r[o].match(e);a.push({color:i[0],offsetX:i[1]?i[1].replace("px",""):0,offsetY:i[2]?i[2].replace("px",""):0,blur:i[3]?i[3].replace("px",""):0})}return a}}(),u.Util.parseBackgroundImage=function(t){var e,n,r,a,o,i,l,s,c=" \r\n   ",d=[],u=0,h=0,f=function(){e&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&s.push(n),"-"===e.substr(0,1)&&(a=e.indexOf("-",1)+1)>0&&(r=e.substr(0,a),e=e.substr(a)),d.push({prefix:r,method:e.toLowerCase(),value:o,args:s})),s=[],e=r=n=o=""};f();for(var p=0,g=t.length;g>p;p++)if(i=t[p],!(0===u&&c.indexOf(i)>-1)){switch(i){case'"':l?l===i&&(l=null):l=i;break;case"(":if(l)break;if(0===u){u=1,o+=i;continue}h++;break;case")":if(l)break;if(1===u){if(0===h){u=0,o+=i,f();continue}h--}break;case",":if(l)break;if(0===u){f();continue}if(1===u&&0===h&&!e.match(/^url$/i)){s.push(n),n="",o+=i;continue}}o+=i,0===u?e+=i:n+=i}return f(),d},u.Util.Bounds=function(t){var e,n={};return t.getBoundingClientRect&&(e=t.getBoundingClientRect(),n.top=e.top,n.bottom=e.bottom||e.top+e.height,n.left=e.left,n.width=t.offsetWidth,n.height=t.offsetHeight),n},u.Util.OffsetBounds=function(t){var e=t.offsetParent?u.Util.OffsetBounds(t.offsetParent):{top:0,left:0};return{top:t.offsetTop+e.top,bottom:t.offsetTop+t.offsetHeight+e.top,left:t.offsetLeft+e.left,width:t.offsetWidth,height:t.offsetHeight}},u.Util.getCSS=function(t,n,r){c!==t&&(d=e.defaultView.getComputedStyle(t,null));var i=d[n];if(/^background(Size|Position)$/.test(n))return o(i,t,n,r);if(/border(Top|Bottom)(Left|Right)Radius/.test(n)){var l=i.split(" ");return 1>=l.length&&(l[1]=l[0]),l.map(a)}return i},u.Util.resizeBounds=function(t,e,n,r,a){var o,i,l=n/r,s=t/e;return a&&"auto"!==a?s>l^"contain"===a?(i=r,o=r*s):(o=n,i=n/s):(o=n,i=r),{width:o,height:i}},u.Util.BackgroundPosition=function(t,e,n,r,a){var o=i("backgroundPosition",t,e,n,r,a);return{left:o[0],top:o[1]}},u.Util.BackgroundSize=function(t,e,n,r){var a=i("backgroundSize",t,e,n,r);return{width:a[0],height:a[1]}},u.Util.Extend=function(t,e){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},u.Util.Children=function(t){var e;try{e=t.nodeName&&"IFRAME"===t.nodeName.toUpperCase()?t.contentDocument||t.contentWindow.document:function(t){var e=[];return null!==t&&function(t,e){var r=t.length,a=0;if("number"==typeof e.length)for(var o=e.length;o>a;a++)t[r++]=e[a];else for(;e[a]!==n;)t[r++]=e[a++];return t.length=r,t}(e,t),e}(t.childNodes)}catch(r){u.Util.log("html2canvas.Util.Children failed with exception: "+r.message),e=[]}return e},u.Util.isTransparent=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t},u.Util.Font=function(){var t={};return function(e,r,a){if(t[e+"-"+r]!==n)return t[e+"-"+r];var o,i,l,s=a.createElement("div"),c=a.createElement("img"),d=a.createElement("span"),u="Hidden Text";return s.style.visibility="hidden",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin=0,s.style.padding=0,a.body.appendChild(s),c.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",c.width=1,c.height=1,c.style.margin=0,c.style.padding=0,c.style.verticalAlign="baseline",d.style.fontFamily=e,d.style.fontSize=r,d.style.margin=0,d.style.padding=0,d.appendChild(a.createTextNode(u)),s.appendChild(d),s.appendChild(c),o=c.offsetTop-d.offsetTop+1,s.removeChild(d),s.appendChild(a.createTextNode(u)),s.style.lineHeight="normal",c.style.verticalAlign="super",i=c.offsetTop-s.offsetTop+1,l={baseline:o,lineWidth:1,middle:i},t[e+"-"+r]=l,a.body.removeChild(s),l}}(),function(){function t(t){return function(e){try{t.addColorStop(e.stop,e.color)}catch(r){n.log(["failed to add color stop: ",r,"; tried to add: ",e])}}}var n=u.Util,r={};u.Generate=r;var a=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/];r.parseGradient=function(t,e){var n,r,o,i,l,s,c,d,u,h,f,p,g=a.length;for(r=0;g>r&&!(o=t.match(a[r]));r+=1);if(o)switch(o[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},l=o[2].match(/\w+/g))for(s=l.length,r=0;s>r;r+=1)switch(l[r]){case"top":n.y0=0,n.y1=e.height;break;case"right":n.x0=e.width,n.x1=0;break;case"bottom":n.y0=e.height,n.y1=0;break;case"left":n.x0=0,n.x1=e.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=e.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=e.height/2),l=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(s=l.length,c=1/Math.max(s-1,1),r=0;s>r;r+=1)d=l[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),d[2]?(i=parseFloat(d[2]),i/="%"===d[3]?100:e.width):i=r*c,n.colorStops.push({color:d[1],stop:i});break;case"-webkit-gradient":if(n={type:"radial"===o[2]?"circle":o[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},l=o[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),l&&(n.x0=l[1]*e.width/100,n.y0=l[2]*e.height/100,n.x1=l[3]*e.width/100,n.y1=l[4]*e.height/100),l=o[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(s=l.length,r=0;s>r;r+=1)d=l[r].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),i=parseFloat(d[2]),"from"===d[1]&&(i=0),"to"===d[1]&&(i=1),n.colorStops.push({color:d[3],stop:i});break;case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},l=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),l&&(n.x0=l[1]*e.width/100,n.y0=l[2]*e.height/100,n.x1=e.width-n.x0,n.y1=e.height-n.y0),l=o[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(s=l.length,c=1/Math.max(s-1,1),r=0;s>r;r+=1)d=l[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),d[2]?(i=parseFloat(d[2]),d[3]&&(i/=100)):i=r*c,n.colorStops.push({color:d[1],stop:i});break;case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:e.width,y1:e.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},l=o[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),l&&(n.cx=l[1]*e.width/100,n.cy=l[2]*e.height/100),l=o[3].match(/\w+/),d=o[4].match(/[a-z\-]*/),l&&d)switch(d[0]){case"farthest-corner":case"cover":case"":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(u,h,f,p);break;case"closest-corner":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),h=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),f=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(u,h,f,p);break;case"farthest-side":"circle"===l[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=l[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy));break;case"closest-side":case"contain":"circle"===l[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=l[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(l=o[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(s=l.length,c=1/Math.max(s-1,1),r=0;s>r;r+=1)d=l[r].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),d[2]?(i=parseFloat(d[2]),i/="%"===d[3]?100:e.width):i=r*c,n.colorStops.push({color:d[1],stop:i})}return n},r.Gradient=function(n,r){if(0!==r.width&&0!==r.height){var a,o,i=e.createElement("canvas"),l=i.getContext("2d");if(i.width=r.width,i.height=r.height,a=u.Generate.parseGradient(n,r))switch(a.type){case"linear":o=l.createLinearGradient(a.x0,a.y0,a.x1,a.y1),a.colorStops.forEach(t(o)),l.fillStyle=o,l.fillRect(0,0,r.width,r.height);break;case"circle":o=l.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.rx),a.colorStops.forEach(t(o)),l.fillStyle=o,l.fillRect(0,0,r.width,r.height);break;case"ellipse":var s=e.createElement("canvas"),c=s.getContext("2d"),d=Math.max(a.rx,a.ry),h=2*d;s.width=s.height=h,o=c.createRadialGradient(a.rx,a.ry,0,a.rx,a.ry,d),a.colorStops.forEach(t(o)),c.fillStyle=o,c.fillRect(0,0,h,h),l.fillStyle=a.colorStops[a.colorStops.length-1].color,l.fillRect(0,0,i.width,i.height),l.drawImage(s,a.cx-a.rx,a.cy-a.ry,2*a.rx,2*a.ry)}return i}},r.ListAlpha=function(t){var e,n="";do e=t%26,n=String.fromCharCode(e+64)+n,t/=26;while(26*t>26);return n},r.ListRoman=function(t){var e,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],r=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],a="",o=n.length;if(0>=t||t>=4e3)return t;for(e=0;o>e;e+=1)for(;t>=r[e];)t-=r[e],a+=n[e];return a}}(),u.Parse=function(r,a){function o(){return Math.max(Math.max(de.body.scrollWidth,de.documentElement.scrollWidth),Math.max(de.body.offsetWidth,de.documentElement.offsetWidth),Math.max(de.body.clientWidth,de.documentElement.clientWidth))}function i(){return Math.max(Math.max(de.body.scrollHeight,de.documentElement.scrollHeight),Math.max(de.body.offsetHeight,de.documentElement.offsetHeight),Math.max(de.body.clientHeight,de.documentElement.clientHeight))}function c(t,e){var n=parseInt(ge(t,e),10);return isNaN(n)?0:n}function d(t,e,n,r,a,o){"transparent"!==o&&(t.setVariable("fillStyle",o),t.fillRect(e,n,r,a),ce+=1)}function h(t,e,r){return t.length>0?e+r.toUpperCase():n}function f(t,e){switch(e){case"lowercase":return t.toLowerCase();case"capitalize":return t.replace(/(^|\s|:|-|\(|\))([a-z])/g,h);case"uppercase":return t.toUpperCase();default:return t}}function p(t){return/^(normal|none|0px)$/.test(t)}function g(t,e,n,r){null!==t&&ue.trimText(t).length>0&&(r.fillText(t,e,n),ce+=1)}function m(t,e,r,a){var o=!1,i=ge(e,"fontWeight"),l=ge(e,"fontFamily"),s=ge(e,"fontSize"),c=ue.parseTextShadows(ge(e,"textShadow"));switch(parseInt(i,10)){case 401:i="bold";break;case 400:i="normal"}return t.setVariable("fillStyle",a),t.setVariable("font",[ge(e,"fontStyle"),ge(e,"fontVariant"),i,s,l].join(" ")),t.setVariable("textAlign",o?"right":"left"),c.length&&(t.setVariable("shadowColor",c[0].color),t.setVariable("shadowOffsetX",c[0].offsetX),t.setVariable("shadowOffsetY",c[0].offsetY),t.setVariable("shadowBlur",c[0].blur)),"none"!==r?ue.Font(l,s,de):n}function y(t,e,n,r,a){switch(e){case"underline":d(t,n.left,Math.round(n.top+r.baseline+r.lineWidth),n.width,1,a);break;case"overline":d(t,n.left,Math.round(n.top),n.width,1,a);break;case"line-through":d(t,n.left,Math.ceil(n.top+r.middle+r.lineWidth),n.width,1,a)}}function b(t,e,n,r,a){var o;if(he.rangeBounds&&!a)("none"!==n||0!==ue.trimText(e).length)&&(o=w(e,t.node,t.textOffset)),t.textOffset+=e.length;else if(t.node&&"string"==typeof t.node.nodeValue){var i=r?t.node.splitText(e.length):null;o=x(t.node,a),t.node=i}return o}function w(t,e,n){var r=de.createRange();return r.setStart(e,n),r.setEnd(e,n+t.length),r.getBoundingClientRect()}function x(t,e){var n=t.parentNode,r=de.createElement("wrapper"),a=t.cloneNode(!0);r.appendChild(t.cloneNode(!0)),n.replaceChild(r,t);var o=e?ue.OffsetBounds(r):ue.Bounds(r);return n.replaceChild(a,r),o}function v(t,e,n){var r,o,i=n.ctx,l=ge(t,"color"),s=ge(t,"textDecoration"),c=ge(t,"textAlign"),d={node:e,textOffset:0};ue.trimText(e.nodeValue).length>0&&(e.nodeValue=f(e.nodeValue,ge(t,"textTransform")),c=c.replace(["-webkit-auto"],["auto"]),o=!a.letterRendering&&/^(left|right|justify|auto)$/.test(c)&&p(ge(t,"letterSpacing"))?e.nodeValue.split(/(\b| )/):e.nodeValue.split(""),r=m(i,t,s,l),a.chinese&&o.forEach(function(t,e){/.*[\u4E00-\u9FA5].*$/.test(t)&&(t=t.split(""),t.unshift(e,1),o.splice.apply(o,t))}),o.forEach(function(t,e){var a=b(d,t,s,o.length-1>e,n.transform.matrix);a&&(g(t,a.left,a.bottom,i),y(i,s,a,r,l))}))}function k(t,e){var n,r,a=de.createElement("boundelement");return a.style.display="inline",n=t.style.listStyleType,t.style.listStyleType="none",a.appendChild(de.createTextNode(e)),t.insertBefore(a,t.firstChild),r=ue.Bounds(a),t.removeChild(a),t.style.listStyleType=n,r}function C(t){var e=-1,n=1,r=t.parentNode.childNodes;if(t.parentNode){for(;r[++e]!==t;)1===r[e].nodeType&&n++;return n}return-1}function T(t,e){var n,r=C(t);switch(e){case"decimal":n=r;break;case"decimal-leading-zero":n=1===(""+r).length?r="0"+(""+r):""+r;break;case"upper-roman":n=u.Generate.ListRoman(r);break;case"lower-roman":n=u.Generate.ListRoman(r).toLowerCase();break;case"lower-alpha":n=u.Generate.ListAlpha(r).toLowerCase();break;case"upper-alpha":n=u.Generate.ListAlpha(r)}return n+". "}function S(t,e,n){var r,a,o,i=e.ctx,l=ge(t,"listStyleType");if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(l)){if(a=T(t,l),o=k(t,a),m(i,t,"none",ge(t,"color")),"inside"!==ge(t,"listStylePosition"))return;i.setVariable("textAlign","left"),r=n.left,g(a,r,o.bottom,i)}}function M(t){var e=r[t];return e&&e.succeeded===!0?e.img:!1}function R(t,e){var n=Math.max(t.left,e.left),r=Math.max(t.top,e.top),a=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height);return{left:n,top:r,width:a-n,height:o-r}}function E(t,e,n){var r,a="static"!==e.cssPosition,o=a?ge(t,"zIndex"):"auto",i=ge(t,"opacity"),l="none"!==ge(t,"cssFloat");e.zIndex=r=s(o),r.isPositioned=a,r.isFloated=l,r.opacity=i,r.ownStacking="auto"!==o||1>i,n&&n.zIndex.children.push(e)}function I(t,e,n,r,a){var o=c(e,"paddingLeft"),i=c(e,"paddingTop"),l=c(e,"paddingRight"),s=c(e,"paddingBottom");$(t,n,0,0,n.width,n.height,r.left+o+a[3].width,r.top+i+a[0].width,r.width-(a[1].width+a[3].width+o+l),r.height-(a[0].width+a[2].width+i+s))}function L(t){return["Top","Right","Bottom","Left"].map(function(e){return{width:c(t,"border"+e+"Width"),color:ge(t,"border"+e+"Color")}})}function O(t){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(e){return ge(t,"border"+e+"Radius")})}function z(t,e,n,r){var a=function(t,e,n){return{x:t.x+(e.x-t.x)*n,y:t.y+(e.y-t.y)*n}};return{start:t,startControl:e,endControl:n,end:r,subdivide:function(o){var i=a(t,e,o),l=a(e,n,o),s=a(n,r,o),c=a(i,l,o),d=a(l,s,o),u=a(c,d,o);return[z(t,i,c,u),z(u,d,s,r)]},curveTo:function(t){t.push(["bezierCurve",e.x,e.y,n.x,n.y,r.x,r.y])},curveToReversed:function(r){r.push(["bezierCurve",n.x,n.y,e.x,e.y,t.x,t.y])}}}function A(t,e,n,r,a,o,i){e[0]>0||e[1]>0?(t.push(["line",r[0].start.x,r[0].start.y]),r[0].curveTo(t),r[1].curveTo(t)):t.push(["line",o,i]),(n[0]>0||n[1]>0)&&t.push(["line",a[0].start.x,a[0].start.y])}function B(t,e,n,r,a,o,i){var l=[];return e[0]>0||e[1]>0?(l.push(["line",r[1].start.x,r[1].start.y]),r[1].curveTo(l)):l.push(["line",t.c1[0],t.c1[1]]),n[0]>0||n[1]>0?(l.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(l),l.push(["line",i[0].end.x,i[0].end.y]),i[0].curveToReversed(l)):(l.push(["line",t.c2[0],t.c2[1]]),l.push(["line",t.c3[0],t.c3[1]])),e[0]>0||e[1]>0?(l.push(["line",a[1].end.x,a[1].end.y]),a[1].curveToReversed(l)):l.push(["line",t.c4[0],t.c4[1]]),l}function U(t,e,n){var r=t.left,a=t.top,o=t.width,i=t.height,l=e[0][0],s=e[0][1],c=e[1][0],d=e[1][1],u=e[2][0],h=e[2][1],f=e[3][0],p=e[3][1],g=o-c,m=i-h,y=o-u,b=i-p;return{topLeftOuter:be(r,a,l,s).topLeft.subdivide(.5),topLeftInner:be(r+n[3].width,a+n[0].width,Math.max(0,l-n[3].width),Math.max(0,s-n[0].width)).topLeft.subdivide(.5),topRightOuter:be(r+g,a,c,d).topRight.subdivide(.5),topRightInner:be(r+Math.min(g,o+n[3].width),a+n[0].width,g>o+n[3].width?0:c-n[3].width,d-n[0].width).topRight.subdivide(.5),bottomRightOuter:be(r+y,a+m,u,h).bottomRight.subdivide(.5),bottomRightInner:be(r+Math.min(y,o+n[3].width),a+Math.min(m,i+n[0].width),Math.max(0,u-n[1].width),Math.max(0,h-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:be(r,a+b,f,p).bottomLeft.subdivide(.5),bottomLeftInner:be(r+n[3].width,a+b,Math.max(0,f-n[3].width),Math.max(0,p-n[2].width)).bottomLeft.subdivide(.5)}}function N(t,e,n,r,a){var o=ge(t,"backgroundClip"),i=[];switch(o){case"content-box":case"padding-box":A(i,r[0],r[1],e.topLeftInner,e.topRightInner,a.left+n[3].width,a.top+n[0].width),A(i,r[1],r[2],e.topRightInner,e.bottomRightInner,a.left+a.width-n[1].width,a.top+n[0].width),A(i,r[2],r[3],e.bottomRightInner,e.bottomLeftInner,a.left+a.width-n[1].width,a.top+a.height-n[2].width),A(i,r[3],r[0],e.bottomLeftInner,e.topLeftInner,a.left+n[3].width,a.top+a.height-n[2].width);break;default:A(i,r[0],r[1],e.topLeftOuter,e.topRightOuter,a.left,a.top),A(i,r[1],r[2],e.topRightOuter,e.bottomRightOuter,a.left+a.width,a.top),A(i,r[2],r[3],e.bottomRightOuter,e.bottomLeftOuter,a.left+a.width,a.top+a.height),A(i,r[3],r[0],e.bottomLeftOuter,e.topLeftOuter,a.left,a.top+a.height)}return i}function P(t,e,n){var r,a,o,i,l,s,c=e.left,d=e.top,u=e.width,h=e.height,f=O(t),p=U(e,f,n),g={clip:N(t,p,n,f,e),borders:[]};for(r=0;4>r;r++)if(n[r].width>0){switch(a=c,o=d,i=u,l=h-n[2].width,r){case 0:l=n[0].width,s=B({c1:[a,o],c2:[a+i,o],c3:[a+i-n[1].width,o+l],c4:[a+n[3].width,o+l]},f[0],f[1],p.topLeftOuter,p.topLeftInner,p.topRightOuter,p.topRightInner);break;case 1:a=c+u-n[1].width,i=n[1].width,s=B({c1:[a+i,o],c2:[a+i,o+l+n[2].width],c3:[a,o+l],c4:[a,o+n[0].width]},f[1],f[2],p.topRightOuter,p.topRightInner,p.bottomRightOuter,p.bottomRightInner);break;case 2:o=o+h-n[2].width,l=n[2].width,s=B({c1:[a+i,o+l],c2:[a,o+l],c3:[a+n[3].width,o],c4:[a+i-n[3].width,o]},f[2],f[3],p.bottomRightOuter,p.bottomRightInner,p.bottomLeftOuter,p.bottomLeftInner);break;case 3:i=n[3].width,s=B({c1:[a,o+l+n[2].width],c2:[a,o],c3:[a+i,o+n[0].width],c4:[a+i,o+l]},f[3],f[0],p.bottomLeftOuter,p.bottomLeftInner,p.topLeftOuter,p.topLeftInner)}g.borders.push({args:s,color:n[r].color})}return g}function F(t,e){var n=t.drawShape();return e.forEach(function(t,e){n[0===e?"moveTo":t[0]+"To"].apply(null,t.slice(1))}),n}function V(t,e,n){"transparent"!==n&&(t.setVariable("fillStyle",n),F(t,e),t.fill(),ce+=1)}function D(t,e,n){var r,a,o=de.createElement("valuewrap"),i=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"];i.forEach(function(e){try{o.style[e]=ge(t,e)}catch(n){ue.log("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}}),o.style.borderColor="black",o.style.borderStyle="solid",o.style.display="block",o.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(t.type)||"SELECT"===t.nodeName)&&(o.style.lineHeight=ge(t,"height")),o.style.top=e.top+"px",o.style.left=e.left+"px",r="SELECT"===t.nodeName?(t.options[t.selectedIndex]||0).text:t.value,r||(r=t.placeholder),a=de.createTextNode(r),o.appendChild(a),pe.appendChild(o),v(t,a,n),pe.removeChild(o)}function $(t){t.drawImage.apply(t,Array.prototype.slice.call(arguments,1)),ce+=1}function G(n,r){var a=t.getComputedStyle(n,r);if(a&&a.content&&"none"!==a.content&&"-moz-alt-content"!==a.content&&"none"!==a.display){var o=a.content+"",i=o.substr(0,1);i===o.substr(o.length-1)&&i.match(/'|"/)&&(o=o.substr(1,o.length-2));var l="url"===o.substr(0,3),s=e.createElement(l?"img":"span");return s.className=me+"-before "+me+"-after",Object.keys(a).filter(W).forEach(function(t){try{s.style[t]=a[t]}catch(e){ue.log(["Tried to assign readonly property ",t,"Error:",e])}}),l?s.src=ue.parseBackgroundImage(o)[0].args[0]:s.innerHTML=o,s}}function W(e){return isNaN(t.parseInt(e,10))}function H(t,e){var n=G(t,":before"),r=G(t,":after");(n||r)&&(n&&(t.className+=" "+me+"-before",t.parentNode.insertBefore(n,t),oe(n,e,!0),t.parentNode.removeChild(n),t.className=t.className.replace(me+"-before","").trim()),r&&(t.className+=" "+me+"-after",t.appendChild(r),oe(r,e,!0),t.removeChild(r),t.className=t.className.replace(me+"-after","").trim()))}function j(t,e,n,r){var a=Math.round(r.left+n.left),o=Math.round(r.top+n.top);t.createPattern(e),t.translate(a,o),t.fill(),t.translate(-a,-o)}function q(t,e,n,r,a,o,i,l){var s=[];s.push(["line",Math.round(a),Math.round(o)]),s.push(["line",Math.round(a+i),Math.round(o)]),s.push(["line",Math.round(a+i),Math.round(l+o)]),s.push(["line",Math.round(a),Math.round(l+o)]),F(t,s),t.save(),t.clip(),j(t,e,n,r),t.restore()}function X(t,e,n){d(t,e.left,e.top,e.width,e.height,n)}function _(t,e,n,r,a){var o=ue.BackgroundSize(t,e,r,a),i=ue.BackgroundPosition(t,e,r,a,o),l=ge(t,"backgroundRepeat").split(",").map(ue.trimText);switch(r=Q(r,o),l=l[a]||l[0]){case"repeat-x":q(n,r,i,e,e.left,e.top+i.top,99999,r.height);break;case"repeat-y":q(n,r,i,e,e.left+i.left,e.top,r.width,99999);break;case"no-repeat":q(n,r,i,e,e.left+i.left,e.top+i.top,r.width,r.height);break;default:j(n,r,i,{top:e.top,left:e.left,width:r.width,height:r.height})}}function Y(t,e,n){for(var r,a=ge(t,"backgroundImage"),o=ue.parseBackgroundImage(a),i=o.length;i--;)if(a=o[i],a.args&&0!==a.args.length){var l="url"===a.method?a.args[0]:a.value;r=M(l),r?_(t,e,n,r,i):ue.log("html2canvas: Error loading background:",a)}}function Q(t,e){if(t.width===e.width&&t.height===e.height)return t;var n,r=de.createElement("canvas");return r.width=e.width,r.height=e.height,n=r.getContext("2d"),$(n,t,0,0,t.width,t.height,0,0,e.width,e.height),r}function J(t,e,n){return t.setVariable("globalAlpha",ge(e,"opacity")*(n?n.opacity:1))}function K(t){return t.replace("px","")}function Z(t){var e=ge(t,"transform")||ge(t,"-webkit-transform")||ge(t,"-moz-transform")||ge(t,"-ms-transform")||ge(t,"-o-transform"),n=ge(t,"transform-origin")||ge(t,"-webkit-transform-origin")||ge(t,"-moz-transform-origin")||ge(t,"-ms-transform-origin")||ge(t,"-o-transform-origin")||"0px 0px";n=n.split(" ").map(K).map(ue.asFloat);var r;if(e&&"none"!==e){var a=e.match(we);if(a)switch(a[1]){case"matrix":r=a[2].split(",").map(ue.trimText).map(ue.asFloat)}}return{origin:n,matrix:r}}function te(t,e,n,r){var s=l(e?n.width:o(),e?n.height:i()),c={ctx:s,opacity:J(s,t,e),cssPosition:ge(t,"position"),borders:L(t),transform:r,clip:e&&e.clip?ue.Extend({},e.clip):null};return E(t,c,e),a.useOverflow===!0&&/(hidden|scroll|auto)/.test(ge(t,"overflow"))===!0&&/(BODY)/i.test(t.nodeName)===!1&&(c.clip=c.clip?R(c.clip,n):n),c}function ee(t,e,n){var r={left:e.left+t[3].width,top:e.top+t[0].width,width:e.width-(t[1].width+t[3].width),height:e.height-(t[0].width+t[2].width)};return n&&(r=R(r,n)),r}function ne(t,e){var n=e.matrix?ue.OffsetBounds(t):ue.Bounds(t);return e.origin[0]+=n.left,e.origin[1]+=n.top,n}function re(t,e,n,r){var a,o=Z(t,e),i=ne(t,o),l=te(t,e,i,o),s=l.borders,c=l.ctx,d=ee(s,i,l.clip),u=P(t,i,s),h=fe.test(t.nodeName)?"#efefef":ge(t,"backgroundColor");switch(F(c,u.clip),c.save(),c.clip(),d.height>0&&d.width>0&&!r?(X(c,i,h),Y(t,d,c)):r&&(l.backgroundColor=h),c.restore(),u.borders.forEach(function(t){V(c,t.args,t.color)}),n||H(t,l),t.nodeName){case"IMG":(a=M(t.getAttribute("src")))?I(c,t,a,i,s):ue.log("html2canvas: Error loading <img>:"+t.getAttribute("src"));break;case"INPUT":/^(text|url|email|submit|button|reset)$/.test(t.type)&&(t.value||t.placeholder||"").length>0&&D(t,i,l);break;case"TEXTAREA":(t.value||t.placeholder||"").length>0&&D(t,i,l);break;case"SELECT":(t.options||t.placeholder||"").length>0&&D(t,i,l);break;case"LI":S(t,l,d);break;case"CANVAS":I(c,t,t,i,s)}return l}function ae(t){return"none"!==ge(t,"display")&&"hidden"!==ge(t,"visibility")&&!t.hasAttribute("data-html2canvas-ignore")}function oe(t,e,n){ae(t)&&(e=re(t,e,n,!1)||e,fe.test(t.nodeName)||ie(t,e,n))}function ie(t,e,n){ue.Children(t).forEach(function(r){r.nodeType===r.ELEMENT_NODE?oe(r,e,n):r.nodeType===r.TEXT_NODE&&v(t,r,e)})}function le(){var t=ge(e.documentElement,"backgroundColor"),n=ue.isTransparent(t)&&se===e.body,r=re(se,null,!1,n);return ie(se,r),n&&(t=r.backgroundColor),pe.removeChild(ye),{backgroundColor:t,stack:r}}t.scroll(0,0);var se=a.elements===n?e.body:a.elements[0],ce=0,de=se.ownerDocument,ue=u.Util,he=ue.Support(a,de),fe=RegExp("("+a.ignoreElements+")"),pe=de.body,ge=ue.getCSS,me="___html2canvas___pseudoelement",ye=de.createElement("style");ye.innerHTML="."+me+'-before:before { content: "" !important; display: none !important; }'+"."+me+'-after:after { content: "" !important; display: none !important; }',pe.appendChild(ye),r=r||{};var be=function(t){return function(e,n,r,a){var o=r*t,i=a*t,l=e+r,s=n+a;return{topLeft:z({x:e,y:s},{x:e,y:s-i},{x:l-o,y:n},{x:l,y:n}),topRight:z({x:e,y:n},{x:e+o,y:n},{x:l,y:s-i},{x:l,y:s}),bottomRight:z({x:l,y:n},{x:l,y:n+i},{x:e+o,y:s},{x:e,y:s}),bottomLeft:z({x:l,y:s},{x:l-o,y:s},{x:e,y:n+i},{x:e,y:n})}}}(4*((Math.sqrt(2)-1)/3)),we=/(matrix)\((.+)\)/;return le()},u.Preload=function(r){function a(t){M.href=t,M.href=M.href;var e=M.protocol+M.host;return e===g}function o(){x.log("html2canvas: start: images: "+w.numLoaded+" / "+w.numTotal+" (failed: "+w.numFailed+")"),!w.firstRun&&w.numLoaded>=w.numTotal&&(x.log("Finished loading images: # "+w.numTotal+" (failed: "+w.numFailed+")"),"function"==typeof r.complete&&r.complete(w))}function i(e,a,i){var l,s,c=r.proxy;M.href=e,e=M.href,l="html2canvas_"+v++,i.callbackname=l,c+=c.indexOf("?")>-1?"&":"?",c+="url="+encodeURIComponent(e)+"&callback="+l,s=C.createElement("script"),t[l]=function(e){"error:"===e.substring(0,6)?(i.succeeded=!1,w.numLoaded++,w.numFailed++,o()):(p(a,i),a.src=e),t[l]=n;try{delete t[l]}catch(r){}s.parentNode.removeChild(s),s=null,delete i.script,delete i.callbackname},s.setAttribute("type","text/javascript"),s.setAttribute("src",c),i.script=s,t.document.body.appendChild(s)}function l(e,n){var r=t.getComputedStyle(e,n),a=r.content;"url"===a.substr(0,3)&&m.loadImage(u.Util.parseBackgroundImage(a)[0].args[0]),h(r.backgroundImage,e)}function s(t){l(t,":before"),l(t,":after")}function c(t,e){var r=u.Generate.Gradient(t,e);r!==n&&(w[t]={img:r,succeeded:!0},w.numTotal++,w.numLoaded++,o())}function d(t){return t&&t.method&&t.args&&t.args.length>0}function h(t,e){var r;u.Util.parseBackgroundImage(t).filter(d).forEach(function(t){"url"===t.method?m.loadImage(t.args[0]):t.method.match(/\-?gradient$/)&&(r===n&&(r=u.Util.Bounds(e)),c(t.value,r))})}function f(t){var e=!1;try{x.Children(t).forEach(f)}catch(r){}try{e=t.nodeType}catch(a){e=!1,x.log("html2canvas: failed to access some element's nodeType - Exception: "+a.message)}if(1===e||e===n){s(t);try{h(x.getCSS(t,"backgroundImage"),t)}catch(r){x.log("html2canvas: failed to get background-image - Exception: "+r.message)}h(t)}}function p(e,a){e.onload=function(){a.timer!==n&&t.clearTimeout(a.timer),w.numLoaded++,a.succeeded=!0,e.onerror=e.onload=null,o()},e.onerror=function(){if("anonymous"===e.crossOrigin&&(t.clearTimeout(a.timer),r.proxy)){var l=e.src;return e=new Image,a.img=e,e.src=l,i(e.src,e,a),n}w.numLoaded++,w.numFailed++,a.succeeded=!1,e.onerror=e.onload=null,o()}}var g,m,y,b,w={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},x=u.Util,v=0,k=r.elements[0]||e.body,C=k.ownerDocument,T=k.getElementsByTagName("img"),S=T.length,M=C.createElement("a"),R=function(t){return t.crossOrigin!==n}(new Image);for(M.href=t.location.href,g=M.protocol+M.host,m={loadImage:function(t){var e,o;t&&w[t]===n&&(e=new Image,t.match(/data:image\/.*;base64,/i)?(e.src=t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),o=w[t]={img:e},w.numTotal++,p(e,o)):a(t)||r.allowTaint===!0?(o=w[t]={img:e},w.numTotal++,p(e,o),e.src=t):R&&!r.allowTaint&&r.useCORS?(e.crossOrigin="anonymous",o=w[t]={img:e},w.numTotal++,p(e,o),e.src=t):r.proxy&&(o=w[t]={img:e},w.numTotal++,i(t,e,o)))},cleanupDOM:function(a){var i,l;if(!w.cleanupDone){a&&"string"==typeof a?x.log("html2canvas: Cleanup because: "+a):x.log("html2canvas: Cleanup after timeout: "+r.timeout+" ms.");for(l in w)if(w.hasOwnProperty(l)&&(i=w[l],"object"==typeof i&&i.callbackname&&i.succeeded===n)){t[i.callbackname]=n;try{delete t[i.callbackname]}catch(s){}i.script&&i.script.parentNode&&(i.script.setAttribute("src","about:blank"),i.script.parentNode.removeChild(i.script)),w.numLoaded++,w.numFailed++,x.log("html2canvas: Cleaned up failed img: '"+l+"' Steps: "+w.numLoaded+" / "+w.numTotal)}t.stop!==n?t.stop():e.execCommand!==n&&e.execCommand("Stop",!1),e.close!==n&&e.close(),w.cleanupDone=!0,a&&"string"==typeof a||o()}},renderingDone:function(){b&&t.clearTimeout(b)}},r.timeout>0&&(b=t.setTimeout(m.cleanupDOM,r.timeout)),x.log("html2canvas: Preload starts: finding background-images"),w.firstRun=!0,f(k),x.log("html2canvas: Preload: Finding images"),y=0;S>y;y+=1)m.loadImage(T[y].getAttribute("src"));return w.firstRun=!1,x.log("html2canvas: Preload: Done."),w.numTotal===w.numLoaded&&o(),m},u.Renderer=function(t,r){
function a(t){function e(t){Object.keys(t).sort().forEach(function(n){var r=[],o=[],i=[],l=[];t[n].forEach(function(t){t.node.zIndex.isPositioned||1>t.node.zIndex.opacity?i.push(t):t.node.zIndex.isFloated?o.push(t):r.push(t)}),function s(t){t.forEach(function(t){l.push(t),t.children&&s(t.children)})}(r.concat(o,i)),l.forEach(function(t){t.context?e(t.context):a.push(t.node)})})}var r,a=[];return r=function(t){function e(t,r,a){var o="auto"===r.zIndex.zindex?0:Number(r.zIndex.zindex),i=t,l=r.zIndex.isPositioned,s=r.zIndex.isFloated,c={node:r},d=a;r.zIndex.ownStacking?(i=c.context={"!":[{node:r,children:[]}]},d=n):(l||s)&&(d=c.children=[]),0===o&&a?a.push(c):(t[o]||(t[o]=[]),t[o].push(c)),r.zIndex.children.forEach(function(t){e(i,t,d)})}var r={};return e(r,t),r}(t),e(r),a}function o(t){var e;if("string"==typeof r.renderer&&u.Renderer[t]!==n)e=u.Renderer[t](r);else{if("function"!=typeof t)throw Error("Unknown renderer");e=t(r)}if("function"!=typeof e)throw Error("Invalid renderer defined");return e}return o(r.renderer)(t,r,e,a(t.stack),u)},u.Util.Support=function(t,e){function r(){var t=new Image,r=e.createElement("canvas"),a=r.getContext===n?!1:r.getContext("2d");if(a===!1)return!1;r.width=r.height=10,t.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("");try{a.drawImage(t,0,0),r.toDataURL()}catch(o){return!1}return u.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function a(){var t,n,r,a,o=!1;return e.createRange&&(t=e.createRange(),t.getBoundingClientRect&&(n=e.createElement("boundtest"),n.style.height="123px",n.style.display="block",e.body.appendChild(n),t.selectNode(n),r=t.getBoundingClientRect(),a=r.height,123===a&&(o=!0),e.body.removeChild(n))),o}return{rangeBounds:a(),svgRendering:t.svgRendering&&r()}},t.html2canvas=function(e,n){e=e.length?e:[e];var r,a,o={logging:!1,elements:e,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"};return o=u.Util.Extend(n,o),u.logging=o.logging,o.complete=function(t){("function"!=typeof o.onpreloaded||o.onpreloaded(t)!==!1)&&(r=u.Parse(t,o),("function"!=typeof o.onparsed||o.onparsed(r)!==!1)&&(a=u.Renderer(r,o),"function"==typeof o.onrendered&&o.onrendered(a)))},t.setTimeout(function(){u.Preload(o)},0),{render:function(t,e){return u.Renderer(t,u.Util.Extend(e,o))},parse:function(t,e){return u.Parse(t,u.Util.Extend(e,o))},preload:function(t){return u.Preload(u.Util.Extend(t,o))},log:u.Util.log}},t.html2canvas.log=u.Util.log,t.html2canvas.Renderer={Canvas:n},u.Renderer.Canvas=function(t){function r(t,e){t.beginPath(),e.forEach(function(e){t[e.name].apply(t,e.arguments)}),t.closePath()}function a(t){if(-1===l.indexOf(t.arguments[0].src)){c.drawImage(t.arguments[0],0,0);try{c.getImageData(0,0,1,1)}catch(e){return s=i.createElement("canvas"),c=s.getContext("2d"),!1}l.push(t.arguments[0].src)}return!0}function o(e,n){switch(n.type){case"variable":e[n.name]=n.arguments;break;case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{e.fillStyle=e.createPattern(n.arguments[0],"repeat")}catch(o){d.log("html2canvas: Renderer: Error creating pattern",o.message)}break;case"drawShape":r(e,n.arguments);break;case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!t.taintTest||t.taintTest&&a(n))&&e.drawImage.apply(e,n.arguments);break;default:e[n.name].apply(e,n.arguments)}}}t=t||{};var i=e,l=[],s=e.createElement("canvas"),c=s.getContext("2d"),d=u.Util,h=t.canvas||i.createElement("canvas");return function(t,e,r,a,i){var l,s,c,u=h.getContext("2d"),f=t.stack;return h.width=h.style.width=e.width||f.ctx.width,h.height=h.style.height=e.height||f.ctx.height,c=u.fillStyle,u.fillStyle=d.isTransparent(f.backgroundColor)&&e.background!==n?e.background:t.backgroundColor,u.fillRect(0,0,h.width,h.height),u.fillStyle=c,a.forEach(function(t){u.textBaseline="bottom",u.save(),t.transform.matrix&&(u.translate(t.transform.origin[0],t.transform.origin[1]),u.transform.apply(u,t.transform.matrix),u.translate(-t.transform.origin[0],-t.transform.origin[1])),t.clip&&(u.beginPath(),u.rect(t.clip.left,t.clip.top,t.clip.width,t.clip.height),u.clip()),t.ctx.storage&&t.ctx.storage.forEach(function(t){o(u,t)}),u.restore()}),d.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===e.elements.length&&"object"==typeof e.elements[0]&&"BODY"!==e.elements[0].nodeName?(s=i.Util.Bounds(e.elements[0]),l=r.createElement("canvas"),l.width=Math.ceil(s.width),l.height=Math.ceil(s.height),u=l.getContext("2d"),u.drawImage(h,s.left,s.top,s.width,s.height,0,0,s.width,s.height),h=null,l):h}}})(window,document);!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="1.12.2",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(!l.ownFirst)for(b in a)return k.call(a,b);for(b in a);return void 0===b||k.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(h)return h.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=e.call(arguments,2),d=function(){return a.apply(b||this,c.concat(e.call(arguments)))},d.guid=a.guid=a.guid||n.guid++,d):void 0},now:function(){return+new Date},support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=d.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return A.find(a);this.length=1,this[0]=f}return this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),
this.length>1&&(E[a]||(e=n.uniqueSort(e)),D.test(a)&&(e=e.reverse())),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=!0,c||j.disable(),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.addEventListener?(d.removeEventListener("DOMContentLoaded",K),a.removeEventListener("load",K)):(d.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(d.addEventListener||"load"===a.event.type||"complete"===d.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll)a.setTimeout(n.ready);else if(d.addEventListener)d.addEventListener("DOMContentLoaded",K),a.addEventListener("load",K);else{d.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&d.documentElement}catch(e){}c&&c.doScroll&&!function f(){if(!n.isReady){try{c.doScroll("left")}catch(b){return a.setTimeout(f,50)}J(),n.ready()}}()}return I.promise(b)},n.ready.promise();var L;for(L in n(l))break;l.ownFirst="0"===L,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c,e;c=d.getElementsByTagName("body")[0],c&&c.style&&(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",l.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(e))}),function(){var a=d.createElement("div");l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}a=null}();var M=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b},N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(M(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),"object"!=typeof b&&"function"!=typeof b||(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(M(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=void 0)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}}),function(){var a;l.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b,c,e;return c=d.getElementsByTagName("body")[0],c&&c.style?(b=d.createElement("div"),e=d.createElement("div"),e.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(e).appendChild(b),"undefined"!=typeof b.style.zoom&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(d.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(e),a):void 0}}();var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),V=["Top","Right","Bottom","Left"],W=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function X(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&U.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var Y=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)Y(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},Z=/^(?:checkbox|radio)$/i,$=/<([\w:-]+)/,_=/^$|\/(?:java|ecma)script/i,aa=/^\s+/,ba="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";function ca(a){var b=ba.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}!function(){var a=d.createElement("div"),b=d.createDocumentFragment(),c=d.createElement("input");a.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",l.leadingWhitespace=3===a.firstChild.nodeType,l.tbody=!a.getElementsByTagName("tbody").length,l.htmlSerialize=!!a.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==d.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,b.appendChild(c),l.appendChecked=c.checked,a.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue,b.appendChild(a),c=d.createElement("input"),c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),a.appendChild(c),l.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!!a.addEventListener,a[n.expando]=1,l.attributes=!a.getAttribute(n.expando)}();var da={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};da.optgroup=da.option,da.tbody=da.tfoot=da.colgroup=da.caption=da.thead,da.th=da.td;function ea(a,b){var c,d,e=0,f="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,ea(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function fa(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}var ga=/<|&#?\w+;/,ha=/<tbody/i;function ia(a){Z.test(a.type)&&(a.defaultChecked=a.checked)}function ja(a,b,c,d,e){for(var f,g,h,i,j,k,m,o=a.length,p=ca(b),q=[],r=0;o>r;r++)if(g=a[r],g||0===g)if("object"===n.type(g))n.merge(q,g.nodeType?[g]:g);else if(ga.test(g)){i=i||p.appendChild(b.createElement("div")),j=($.exec(g)||["",""])[1].toLowerCase(),m=da[j]||da._default,i.innerHTML=m[1]+n.htmlPrefilter(g)+m[2],f=m[0];while(f--)i=i.lastChild;if(!l.leadingWhitespace&&aa.test(g)&&q.push(b.createTextNode(aa.exec(g)[0])),!l.tbody){g="table"!==j||ha.test(g)?"<table>"!==m[1]||ha.test(g)?0:i:i.firstChild,f=g&&g.childNodes.length;while(f--)n.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k)}n.merge(q,i.childNodes),i.textContent="";while(i.firstChild)i.removeChild(i.firstChild);i=p.lastChild}else q.push(b.createTextNode(g));i&&p.removeChild(i),l.appendChecked||n.grep(ea(q,"input"),ia),r=0;while(g=q[r++])if(d&&n.inArray(g,d)>-1)e&&e.push(g);else if(h=n.contains(g.ownerDocument,g),i=ea(p.appendChild(g),"script"),h&&fa(i),c){f=0;while(g=i[f++])_.test(g.type||"")&&c.push(g)}return i=null,p}!function(){var b,c,e=d.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b]=c in a)||(e.setAttribute(c,"t"),l[b]=e.attributes[c].expando===!1);e=null}();var ka=/^(?:input|select|textarea)$/i,la=/^key/,ma=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,na=/^(?:focusinfocus|focusoutblur)$/,oa=/^([^.]*)(?:\.(.+)|)/;function pa(){return!0}function qa(){return!1}function ra(){try{return d.activeElement}catch(a){}}function sa(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)sa(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=qa;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return"undefined"==typeof n||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(G)||[""],h=b.length;while(h--)f=oa.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=oa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(i=m=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!na.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),h=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),l=n.event.special[q]||{},f||!l.trigger||l.trigger.apply(e,c)!==!1)){if(!f&&!l.noBubble&&!n.isWindow(e)){for(j=l.delegateType||q,na.test(j+q)||(i=i.parentNode);i;i=i.parentNode)p.push(i),m=i;m===(e.ownerDocument||d)&&p.push(m.defaultView||m.parentWindow||a)}o=0;while((i=p[o++])&&!b.isPropagationStopped())b.type=o>1?j:l.bindType||q,g=(n._data(i,"events")||{})[b.type]&&n._data(i,"handle"),g&&g.apply(i,c),g=h&&i[h],g&&g.apply&&M(i)&&(b.result=g.apply(i,c),b.result===!1&&b.preventDefault());if(b.type=q,!f&&!b.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),c)===!1)&&M(e)&&h&&e[q]&&!n.isWindow(e)){m=e[h],m&&(e[h]=null),n.event.triggered=q;try{e[q]()}catch(s){}n.event.triggered=void 0,m&&(e[h]=m)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ma.test(f)?this.mouseHooks:la.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=g.srcElement||d),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,h.filter?h.filter(a,g):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||d,f=e.documentElement,c=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||c&&c.scrollLeft||0)-(f&&f.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||c&&c.scrollTop||0)-(f&&f.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ra()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ra()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b),d.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=d.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,b,c){var d="on"+b;a.detachEvent&&("undefined"==typeof a[d]&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?pa:qa):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:qa,isPropagationStopped:qa,isImmediatePropagationStopped:qa,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=pa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=pa,a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=pa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submit||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?n.prop(b,"form"):void 0;c&&!n._data(c,"submit")&&(n.event.add(c,"submit._submit",function(a){a._submitBubble=!0}),n._data(c,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.change||(n.event.special.change={setup:function(){return ka.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),n.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1),n.event.simulate("change",this,a)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;ka.test(b.nodeName)&&!n._data(b,"change")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a)}),n._data(b,"change",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!ka.test(this.nodeName)}}),l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d){return sa(this,a,b,c,d)},one:function(a,b,c,d){return sa(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=qa),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var ta=/ jQuery\d+="(?:null|\d+)"/g,ua=new RegExp("<(?:"+ba+")[\\s/>]","i"),va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,wa=/<script|<style|<link/i,xa=/checked\s*(?:[^=]|=\s*.checked.)/i,ya=/^true\/(.*)/,za=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Aa=ca(d),Ba=Aa.appendChild(d.createElement("div"));function Ca(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function Da(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function Ea(a){var b=ya.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Fa(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Ga(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(Da(b).text=a.text,Ea(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&Z.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}}function Ha(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&xa.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),Ha(f,b,c,d)});if(o&&(k=ja(b,a[0].ownerDocument,!1,a,d),e=k.firstChild,1===k.childNodes.length&&(k=e),e||d)){for(i=n.map(ea(k,"script"),Da),h=i.length;o>m;m++)g=k,m!==p&&(g=n.clone(g,!0,!0),h&&n.merge(i,ea(g,"script"))),c.call(a[m],g,m);if(h)for(j=i[i.length-1].ownerDocument,n.map(i,Ea),m=0;h>m;m++)g=i[m],_.test(g.type||"")&&!n._data(g,"globalEval")&&n.contains(j,g)&&(g.src?n._evalUrl&&n._evalUrl(g.src):n.globalEval((g.text||g.textContent||g.innerHTML||"").replace(za,"")));k=e=null}return a}function Ia(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(ea(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&fa(ea(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(va,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!ua.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(Ba.innerHTML=a.outerHTML,Ba.removeChild(f=Ba.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=ea(f),h=ea(a),g=0;null!=(e=h[g]);++g)d[g]&&Ga(e,d[g]);if(b)if(c)for(h=h||ea(a),d=d||ea(f),g=0;null!=(e=h[g]);g++)Fa(e,d[g]);else Fa(a,f);return d=ea(f,"script"),d.length>0&&fa(d,!i&&ea(a,"script")),d=h=e=null,f},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.attributes,m=n.event.special;null!=(d=a[h]);h++)if((b||M(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k||"undefined"==typeof d.removeAttribute?d[i]=void 0:d.removeAttribute(i),c.push(f))}}}),n.fn.extend({domManip:Ha,detach:function(a){return Ia(this,a,!0)},remove:function(a){return Ia(this,a)},text:function(a){return Y(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||d).createTextNode(a))},null,a,arguments.length)},append:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.appendChild(a)}})},prepend:function(){return Ha(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ca(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return Ha(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(ea(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return Y(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(ta,""):void 0;if("string"==typeof a&&!wa.test(a)&&(l.htmlSerialize||!ua.test(a))&&(l.leadingWhitespace||!aa.test(a))&&!da[($.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(ea(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return Ha(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(ea(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],f=n(a),h=f.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(f[d])[b](c),g.apply(e,c.get());return this.pushStack(e)}});var Ja,Ka={HTML:"block",BODY:"block"};function La(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function Ma(a){var b=d,c=Ka[a];return c||(c=La(a,b),"none"!==c&&c||(Ja=(Ja||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ja[0].contentWindow||Ja[0].contentDocument).document,b.write(),b.close(),c=La(a,b),Ja.detach()),Ka[a]=c),c}var Na=/^margin/,Oa=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Pa=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Qa=d.documentElement;!function(){var b,c,e,f,g,h,i=d.createElement("div"),j=d.createElement("div");if(j.style){j.style.cssText="float:left;opacity:.5",l.opacity="0.5"===j.style.opacity,l.cssFloat=!!j.style.cssFloat,j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===j.style.backgroundClip,i=d.createElement("div"),i.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",j.innerHTML="",i.appendChild(j),l.boxSizing=""===j.style.boxSizing||""===j.style.MozBoxSizing||""===j.style.WebkitBoxSizing,n.extend(l,{reliableHiddenOffsets:function(){return null==b&&k(),f},boxSizingReliable:function(){return null==b&&k(),e},pixelMarginRight:function(){return null==b&&k(),c},pixelPosition:function(){return null==b&&k(),b},reliableMarginRight:function(){return null==b&&k(),g},reliableMarginLeft:function(){return null==b&&k(),h}});function k(){var k,l,m=d.documentElement;m.appendChild(i),j.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",b=e=h=!1,c=g=!0,a.getComputedStyle&&(l=a.getComputedStyle(j),b="1%"!==(l||{}).top,h="2px"===(l||{}).marginLeft,e="4px"===(l||{width:"4px"}).width,j.style.marginRight="50%",c="4px"===(l||{marginRight:"4px"}).marginRight,k=j.appendChild(d.createElement("div")),k.style.cssText=j.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",k.style.marginRight=k.style.width="0",j.style.width="1px",g=!parseFloat((a.getComputedStyle(k)||{}).marginRight),j.removeChild(k)),j.style.display="none",f=0===j.getClientRects().length,f&&(j.style.display="",j.innerHTML="<table><tr><td></td><td>t</td></tr></table>",k=j.getElementsByTagName("td"),k[0].style.cssText="margin:0;border:0;padding:0;display:none",
f=0===k[0].offsetHeight,f&&(k[0].style.display="",k[1].style.display="none",f=0===k[0].offsetHeight)),m.removeChild(i)}}}();var Ra,Sa,Ta=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ra=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Oa.test(g)&&Na.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0===g?g:g+""}):Qa.currentStyle&&(Ra=function(a){return a.currentStyle},Sa=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Oa.test(g)&&!Ta.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Ua(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Va=/alpha\([^)]*\)/i,Wa=/opacity\s*=\s*([^)]*)/i,Xa=/^(none|table(?!-c[ea]).+)/,Ya=new RegExp("^("+T+")(.*)$","i"),Za={position:"absolute",visibility:"hidden",display:"block"},$a={letterSpacing:"0",fontWeight:"400"},_a=["Webkit","O","Moz","ms"],ab=d.createElement("div").style;function bb(a){if(a in ab)return a;var b=a.charAt(0).toUpperCase()+a.slice(1),c=_a.length;while(c--)if(a=_a[c]+b,a in ab)return a}function cb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&W(d)&&(f[g]=n._data(d,"olddisplay",Ma(d.nodeName)))):(e=W(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function db(a,b,c){var d=Ya.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function eb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+V[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+V[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+V[f]+"Width",!0,e))):(g+=n.css(a,"padding"+V[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+V[f]+"Width",!0,e)));return g}function fb(b,c,e){var f=!0,g="width"===c?b.offsetWidth:b.offsetHeight,h=Ra(b),i=l.boxSizing&&"border-box"===n.css(b,"boxSizing",!1,h);if(d.msFullscreenElement&&a.top!==a&&b.getClientRects().length&&(g=Math.round(100*b.getBoundingClientRect()[c])),0>=g||null==g){if(g=Sa(b,c,h),(0>g||null==g)&&(g=b.style[c]),Oa.test(g))return g;f=i&&(l.boxSizingReliable()||g===b.style[c]),g=parseFloat(g)||0}return g+eb(b,c,e||(i?"border":"content"),f,h)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Sa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=U.exec(c))&&e[1]&&(c=X(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=bb(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Sa(a,b,d)),"normal"===f&&b in $a&&(f=$a[b]),""===c||c?(e=parseFloat(f),c===!0||isFinite(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Xa.test(n.css(a,"display"))&&0===a.offsetWidth?Pa(a,Za,function(){return fb(a,b,d)}):fb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return db(a,c,d?eb(a,b,d,l.boxSizing&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Wa.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Va,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Va.test(f)?f.replace(Va,e):f+" "+e)}}),n.cssHooks.marginRight=Ua(l.reliableMarginRight,function(a,b){return b?Pa(a,{display:"inline-block"},Sa,[a,"marginRight"]):void 0}),n.cssHooks.marginLeft=Ua(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Sa(a,"marginLeft"))||(n.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Pa(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px":void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+V[d]+b]=f[d]||f[d-2]||f[0];return e}},Na.test(a)||(n.cssHooks[a+b].set=db)}),n.fn.extend({css:function(a,b){return Y(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return cb(this,!0)},hide:function(){return cb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){W(this)?n(this).show():n(this).hide()})}});function gb(a,b,c,d,e){return new gb.prototype.init(a,b,c,d,e)}n.Tween=gb,gb.prototype={constructor:gb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=gb.propHooks[this.prop];return a&&a.get?a.get(this):gb.propHooks._default.get(this)},run:function(a){var b,c=gb.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):gb.propHooks._default.set(this),this}},gb.prototype.init.prototype=gb.prototype,gb.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},gb.propHooks.scrollTop=gb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=gb.prototype.init,n.fx.step={};var hb,ib,jb=/^(?:toggle|show|hide)$/,kb=/queueHooks$/;function lb(){return a.setTimeout(function(){hb=void 0}),hb=n.now()}function mb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=V[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function nb(a,b,c){for(var d,e=(qb.tweeners[b]||[]).concat(qb.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function ob(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&W(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k="none"===j?n._data(a,"olddisplay")||Ma(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==Ma(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],jb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(o))"inline"===("none"===j?Ma(a.nodeName):j)&&(p.display=j);else{r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=nb(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function pb(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function qb(a,b,c){var d,e,f=0,g=qb.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=hb||lb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:hb||lb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(pb(k,j.opts.specialEasing);g>f;f++)if(d=qb.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,nb,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(qb,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return X(c.elem,a,U.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],qb.tweeners[c]=qb.tweeners[c]||[],qb.tweeners[c].unshift(b)},prefilters:[ob],prefilter:function(a,b){b?qb.prefilters.unshift(a):qb.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(W).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=qb(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&kb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(mb(b,!0),a,d,e)}}),n.each({slideDown:mb("show"),slideUp:mb("hide"),slideToggle:mb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(hb=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),hb=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ib||(ib=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(ib),ib=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a,b=d.createElement("input"),c=d.createElement("div"),e=d.createElement("select"),f=e.appendChild(d.createElement("option"));c=d.createElement("div"),c.setAttribute("className","t"),c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],b.setAttribute("type","checkbox"),c.appendChild(b),a=c.getElementsByTagName("a")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==c.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=f.selected,l.enctype=!!d.createElement("form").enctype,e.disabled=!0,l.optDisabled=!f.disabled,b=d.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value}();var rb=/\r/g,sb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(rb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(sb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>-1)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var tb,ub,vb=n.expr.attrHandle,wb=/^(?:checked|selected)$/i,xb=l.getSetAttribute,yb=l.input;n.fn.extend({attr:function(a,b){return Y(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ub:tb)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?yb&&xb||!wb.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(xb?c:d)}}),ub={set:function(a,b,c){return b===!1?n.removeAttr(a,c):yb&&xb||!wb.test(c)?a.setAttribute(!xb&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=vb[b]||n.find.attr;yb&&xb||!wb.test(b)?vb[b]=function(a,b,d){var e,f;return d||(f=vb[b],vb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,vb[b]=f),e}:vb[b]=function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),yb&&xb||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):tb&&tb.set(a,b,c)}}),xb||(tb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},vb.id=vb.name=vb.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:tb.set},n.attrHooks.contenteditable={set:function(a,b,c){tb.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var zb=/^(?:input|select|textarea|button|object)$/i,Ab=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return Y(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):zb.test(a.nodeName)||Ab.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var Bb=/[\t\r\n\f]/g;function Cb(a){return n.attr(a,"class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,Cb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,Cb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=Cb(c),d=1===c.nodeType&&(" "+e+" ").replace(Bb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&n.attr(c,"class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,Cb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=Cb(this),b&&n._data(this,"__className__",b),n.attr(this,"class",b||a===!1?"":n._data(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+Cb(c)+" ").replace(Bb," ").indexOf(b)>-1)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Db=a.location,Eb=n.now(),Fb=/\?/,Gb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(Gb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new a.DOMParser,c=d.parseFromString(b,"text/xml")):(c=new a.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var Hb=/#.*$/,Ib=/([?&])_=[^&]*/,Jb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Kb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Lb=/^(?:GET|HEAD)$/,Mb=/^\/\//,Nb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ob={},Pb={},Qb="*/".concat("*"),Rb=Db.href,Sb=Nb.exec(Rb.toLowerCase())||[];function Tb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Ub(a,b,c,d){var e={},f=a===Pb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Vb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Wb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Xb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rb,type:"GET",isLocal:Kb.test(Sb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Vb(Vb(a,n.ajaxSettings),b):Vb(n.ajaxSettings,a)},ajaxPrefilter:Tb(Ob),ajaxTransport:Tb(Pb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var d,e,f,g,h,i,j,k,l=n.ajaxSetup({},c),m=l.context||l,o=l.context&&(m.nodeType||m.jquery)?n(m):n.event,p=n.Deferred(),q=n.Callbacks("once memory"),r=l.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!k){k={};while(b=Jb.exec(g))k[b[1].toLowerCase()]=b[2]}b=k[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return j&&j.abort(b),y(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,l.url=((b||l.url||Rb)+"").replace(Hb,"").replace(Mb,Sb[1]+"//"),l.type=c.method||c.type||l.method||l.type,l.dataTypes=n.trim(l.dataType||"*").toLowerCase().match(G)||[""],null==l.crossDomain&&(d=Nb.exec(l.url.toLowerCase()),l.crossDomain=!(!d||d[1]===Sb[1]&&d[2]===Sb[2]&&(d[3]||("http:"===d[1]?"80":"443"))===(Sb[3]||("http:"===Sb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=n.param(l.data,l.traditional)),Ub(Ob,l,c,w),2===u)return w;i=n.event&&l.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!Lb.test(l.type),f=l.url,l.hasContent||(l.data&&(f=l.url+=(Fb.test(f)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=Ib.test(f)?f.replace(Ib,"$1_="+Eb++):f+(Fb.test(f)?"&":"?")+"_="+Eb++)),l.ifModified&&(n.lastModified[f]&&w.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&w.setRequestHeader("If-None-Match",n.etag[f])),(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+Qb+"; q=0.01":""):l.accepts["*"]);for(e in l.headers)w.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(l.beforeSend.call(m,w,l)===!1||2===u))return w.abort();v="abort";for(e in{success:1,error:1,complete:1})w[e](l[e]);if(j=Ub(Pb,l,c,w)){if(w.readyState=1,i&&o.trigger("ajaxSend",[w,l]),2===u)return w;l.async&&l.timeout>0&&(h=a.setTimeout(function(){w.abort("timeout")},l.timeout));try{u=1,j.send(s,y)}catch(x){if(!(2>u))throw x;y(-1,x)}}else y(-1,"No Transport");function y(b,c,d,e){var k,s,t,v,x,y=c;2!==u&&(u=2,h&&a.clearTimeout(h),j=void 0,g=e||"",w.readyState=b>0?4:0,k=b>=200&&300>b||304===b,d&&(v=Wb(l,w,d)),v=Xb(l,v,w,k),k?(l.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(n.lastModified[f]=x),x=w.getResponseHeader("etag"),x&&(n.etag[f]=x)),204===b||"HEAD"===l.type?y="nocontent":304===b?y="notmodified":(y=v.state,s=v.data,t=v.error,k=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),w.status=b,w.statusText=(c||y)+"",k?p.resolveWith(m,[s,y,w]):p.rejectWith(m,[w,y,t]),w.statusCode(r),r=void 0,i&&o.trigger(k?"ajaxSuccess":"ajaxError",[w,l,k?s:t]),q.fireWith(m,[w,y]),i&&(o.trigger("ajaxComplete",[w,l]),--n.active||n.event.trigger("ajaxStop")))}return w},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}});function Yb(a){return a.style&&a.style.display||n.css(a,"display")}function Zb(a){while(a&&1===a.nodeType){if("none"===Yb(a)||"hidden"===a.type)return!0;a=a.parentNode}return!1}n.expr.filters.hidden=function(a){return l.reliableHiddenOffsets()?a.offsetWidth<=0&&a.offsetHeight<=0&&!a.getClientRects().length:Zb(a)},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var $b=/%20/g,_b=/\[\]$/,ac=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;function dc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||_b.test(a)?d(a,e):dc(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)dc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)dc(c,a[c],b,e);return d.join("&").replace($b,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&cc.test(this.nodeName)&&!bc.test(a)&&(this.checked||!Z.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(ac,"\r\n")}}):{name:b.name,value:c.replace(ac,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return this.isLocal?ic():d.documentMode>8?hc():/^(get|post|head|put|delete|options)$/i.test(this.type)&&hc()||ic()}:hc;var ec=0,fc={},gc=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in fc)fc[a](void 0,!0)}),l.cors=!!gc&&"withCredentials"in gc,gc=l.ajax=!!gc,gc&&n.ajaxTransport(function(b){if(!b.crossDomain||l.cors){var c;return{send:function(d,e){var f,g=b.xhr(),h=++ec;if(g.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(f in b.xhrFields)g[f]=b.xhrFields[f];b.mimeType&&g.overrideMimeType&&g.overrideMimeType(b.mimeType),b.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(b.hasContent&&b.data||null),c=function(a,d){var f,i,j;if(c&&(d||4===g.readyState))if(delete fc[h],c=void 0,g.onreadystatechange=n.noop,d)4!==g.readyState&&g.abort();else{j={},f=g.status,"string"==typeof g.responseText&&(j.text=g.responseText);try{i=g.statusText}catch(k){i=""}f||!b.isLocal||b.crossDomain?1223===f&&(f=204):f=j.text?200:404}j&&e(f,i,j,g.getAllResponseHeaders())},b.async?4===g.readyState?a.setTimeout(c):g.onreadystatechange=fc[h]=c:c();
},abort:function(){c&&c(void 0,!0)}}}});function hc(){try{return new a.XMLHttpRequest}catch(b){}}function ic(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=d.head||n("head")[0]||d.documentElement;return{send:function(e,f){b=d.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||f(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var jc=[],kc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=jc.pop()||n.expando+"_"+Eb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(kc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&kc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(kc,"$1"+e):b.jsonp!==!1&&(b.url+=(Fb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,jc.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ja([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var lc=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&lc)return lc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h,a.length)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(g,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function mc(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?("undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),c=mc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Qa})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return Y(this,function(a,d,e){var f=mc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ua(l.pixelPosition,function(a,c){return c?(c=Sa(a,b),Oa.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return Y(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var nc=a.jQuery,oc=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=oc),b&&a.jQuery===n&&(a.jQuery=nc),n},b||(a.jQuery=a.$=n),n});(function(t){false&&"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){function e(e,s){var n,a,o,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,a=n.name,e.href&&a&&"map"===n.nodeName.toLowerCase()?(o=t("img[usemap='#"+a+"']")[0],!!o&&i(o)):!1):(/^(input|select|textarea|button|object)$/.test(r)?!e.disabled:"a"===r?e.href||s:s)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var i=this.css("position"),s="absolute"===i,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var e=t(this);return s&&"static"===e.css("position")?!1:n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&a.length?a:t(this[0].ownerDocument||document)},uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(i){return e(i,!isNaN(t.attr(i,"tabindex")))},tabbable:function(i){var s=t.attr(i,"tabindex"),n=isNaN(s);return(n||s>=0)&&e(i,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(e,i){function s(e,i,s,a){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),a&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var n="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(e){return void 0===e?o["inner"+i].call(this):this.each(function(){t(this).css(a,s(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(a,s(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var i,s,n=t(this[0]);n.length&&n[0]!==document;){if(i=n.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(s=parseInt(n.css("zIndex"),10),!isNaN(s)&&0!==s))return s;n=n.parent()}return 0}}),t.ui.plugin={add:function(e,i,s){var n,a=t.ui[e].prototype;for(n in s)a.plugins[n]=a.plugins[n]||[],a.plugins[n].push([i,s[n]])},call:function(t,e,i,s){var n,a=t.plugins[e];if(a&&(s||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(n=0;a.length>n;n++)t.options[a[n][0]]&&a[n][1].apply(t.element,i)}};var s=0,n=Array.prototype.slice;t.cleanData=function(e){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(o){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,a,o,r,h={},l=e.split(".")[0];return e=e.split(".")[1],n=l+"-"+e,s||(s=i,i=t.Widget),t.expr[":"][n.toLowerCase()]=function(e){return!!t.data(e,n)},t[l]=t[l]||{},a=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?(arguments.length&&this._createWidget(t,e),void 0):new o(t,e)},t.extend(o,a,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),r=new i,r.options=t.widget.extend({},r.options),t.each(s,function(e,s){return t.isFunction(s)?(h[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},n=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,a=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=a,e}}(),void 0):(h[e]=s,void 0)}),o.prototype=t.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||e:e},h,{constructor:o,namespace:l,widgetName:e,widgetFullName:n}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var i,s,a=n.call(arguments,1),o=0,r=a.length;r>o;o++)for(i in a[o])s=a[o][i],a[o].hasOwnProperty(i)&&void 0!==s&&(e[i]=t.isPlainObject(s)?t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(a){var o="string"==typeof a,r=n.call(arguments,1),h=this;return o?this.each(function(){var i,n=t.data(this,s);return"instance"===a?(h=n,!1):n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(i=n[a].apply(n,r),i!==n&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; "+"attempted to call method '"+a+"'")}):(r.length&&(a=t.widget.extend.apply(null,[a].concat(r))),this.each(function(){var e=t.data(this,s);e?(e.option(a||{}),e._init&&e._init()):t.data(this,s,new i(a,this))})),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=s++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,a,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},s=e.split("."),e=s.shift(),s.length){for(n=o[e]=t.widget.extend({},this.options[e]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,s){var n,a=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,o){function r(){return e||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||t.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,a,o=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(t.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),o=!t.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){t(this)[e](),a&&a.call(s[0]),i()})}}),t.widget;var a=!1;t(document).mouseup(function(){a=!1}),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,s=1===e.which,n="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return s&&!n&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0,!0)):!0}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),a=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.draggable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(e){var i=this.options;return this._blurActiveElement(e),this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=this.document[0];if(this.handleElement.is(e.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&t(i.activeElement).blur()}catch(s){}},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._normalizeRightBottom(),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.focus(),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper),n=s?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s&&n[0]===this.element[0]&&this._setPositionRelative(),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options,a=this.document[0];return this.relativeContainer=null,n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===n.containment?(this.containment=[0,0,t(a).width()-this.helperProportions.width-this.margins.left,(t(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):n.containment.constructor===Array?(this.containment=n.containment,void 0):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i),void 0):(this.containment=null,void 0)},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,s=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,s,n,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),h=t.pageX,l=t.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(s=this.relativeContainer.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,h=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(h=this.originalPageX),"x"===o.axis&&(l=this.originalPageY)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),s.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,s){var n=t.extend({},i,{item:s.element});s.sortables=[],t(s.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(s.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,n))})},stop:function(e,i,s){var n=t.extend({},i,{item:s.element});s.cancelHelperRemoval=!1,t.each(s.sortables,function(){var t=this;t.isOver?(t.isOver=0,s.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,n))})},drag:function(e,i,s){t.each(s.sortables,function(){var n=!1,a=this;a.positionAbs=s.positionAbs,a.helperProportions=s.helperProportions,a.offset.click=s.offset.click,a._intersectsWith(a.containerCache)&&(n=!0,t.each(s.sortables,function(){return this.positionAbs=s.positionAbs,this.helperProportions=s.helperProportions,this.offset.click=s.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&t.contains(a.element[0],this.element[0])&&(n=!1),
n})),n?(a.isOver||(a.isOver=1,s._parent=i.helper.parent(),a.currentItem=i.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return i.helper[0]},e.target=a.currentItem[0],a._mouseCapture(e,!0),a._mouseStart(e,!0,!0),a.offset.click.top=s.offset.click.top,a.offset.click.left=s.offset.click.left,a.offset.parent.left-=s.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=s.offset.parent.top-a.offset.parent.top,s._trigger("toSortable",e),s.dropped=a.element,t.each(s.sortables,function(){this.refreshPositions()}),s.currentItem=s.element,a.fromOutside=s),a.currentItem&&(a._mouseDrag(e),i.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",e,a._uiHash(a)),a._mouseStop(e,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),i.helper.appendTo(s._parent),s._refreshOffsets(e),i.position=s._generatePosition(e,!0),s._trigger("fromSortable",e),s.dropped=!1,t.each(s.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,s){var n=t("body"),a=s.options;n.css("cursor")&&(a._cursor=n.css("cursor")),n.css("cursor",a.cursor)},stop:function(e,i,s){var n=s.options;n._cursor&&t("body").css("cursor",n._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,s){var n=t(i.helper),a=s.options;n.css("opacity")&&(a._opacity=n.css("opacity")),n.css("opacity",a.opacity)},stop:function(e,i,s){var n=s.options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,s){var n=s.options,a=!1,o=s.scrollParentNotHidden[0],r=s.document[0];o!==r&&"HTML"!==o.tagName?(n.axis&&"x"===n.axis||(s.overflowOffset.top+o.offsetHeight-e.pageY<n.scrollSensitivity?o.scrollTop=a=o.scrollTop+n.scrollSpeed:e.pageY-s.overflowOffset.top<n.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(s.overflowOffset.left+o.offsetWidth-e.pageX<n.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+n.scrollSpeed:e.pageX-s.overflowOffset.left<n.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(r).scrollTop()<n.scrollSensitivity?a=t(r).scrollTop(t(r).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(r).scrollTop())<n.scrollSensitivity&&(a=t(r).scrollTop(t(r).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(r).scrollLeft()<n.scrollSensitivity?a=t(r).scrollLeft(t(r).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(r).scrollLeft())<n.scrollSensitivity&&(a=t(r).scrollLeft(t(r).scrollLeft()+n.scrollSpeed)))),a!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(s,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,s){var n=s.options;s.snapElements=[],t(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var e=t(this),i=e.offset();this!==s.element[0]&&s.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,s){var n,a,o,r,h,l,u,c,d,p,f=s.options,m=f.snapTolerance,g=i.offset.left,v=g+s.helperProportions.width,_=i.offset.top,b=_+s.helperProportions.height;for(d=s.snapElements.length-1;d>=0;d--)h=s.snapElements[d].left-s.margins.left,l=h+s.snapElements[d].width,u=s.snapElements[d].top-s.margins.top,c=u+s.snapElements[d].height,h-m>v||g>l+m||u-m>b||_>c+m||!t.contains(s.snapElements[d].item.ownerDocument,s.snapElements[d].item)?(s.snapElements[d].snapping&&s.options.snap.release&&s.options.snap.release.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(u-b),a=m>=Math.abs(c-_),o=m>=Math.abs(h-v),r=m>=Math.abs(l-g),n&&(i.position.top=s._convertPositionTo("relative",{top:u-s.helperProportions.height,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:c,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h-s.helperProportions.width}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l}).left)),p=n||a||o||r,"outer"!==f.snapMode&&(n=m>=Math.abs(u-_),a=m>=Math.abs(c-b),o=m>=Math.abs(h-g),r=m>=Math.abs(l-v),n&&(i.position.top=s._convertPositionTo("relative",{top:u,left:0}).top),a&&(i.position.top=s._convertPositionTo("relative",{top:c-s.helperProportions.height,left:0}).top),o&&(i.position.left=s._convertPositionTo("relative",{top:0,left:h}).left),r&&(i.position.left=s._convertPositionTo("relative",{top:0,left:l-s.helperProportions.width}).left)),!s.snapElements[d].snapping&&(n||a||o||r||p)&&s.options.snap.snap&&s.options.snap.snap.call(s.element,e,t.extend(s._uiHash(),{snapItem:s.snapElements[d].item})),s.snapElements[d].snapping=n||a||o||r||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,s){var n,a=s.options,o=t.makeArray(t(a.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(n=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",n+e)}),this.css("zIndex",n+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,s){var n=t(i.helper),a=s.options;n.css("zIndex")&&(a._zIndex=n.css("zIndex")),n.css("zIndex",a.zIndex)},stop:function(e,i,s){var n=s.options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}}),t.ui.draggable});var docCookies={getItem:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(a,c,b,e,f,g){if(!a||/^(?:expires|max\-age|path|domain|secure)$/i.test(a))return!1;var d="";if(b)switch(b.constructor){case Number:d=Infinity===b?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+b;break;case String:d="; expires="+b;break;case Date:d="; expires="+b.toUTCString()}document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(c)+d+(f?"; domain="+f:"")+(e?"; path="+e:"")+(g?"; secure":"");return!0},removeItem:function(a,c,b){if(!this.hasItem(a))return!1;document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(b?"; domain="+b:"")+(c?"; path="+c:"");return!0},hasItem:function(a){return a?new RegExp("(?:^|;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var a=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),c=a.length,b=0;b<c;b++)a[b]=decodeURIComponent(a[b]);return a}};(function(f){function n(b){this.ok=!1;"#"==b.charAt(0)&&(b=b.substr(1,6));b=b.replace(/ /g,"");b=b.toLowerCase();var l={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},e;for(e in l)b==e&&(b=l[e]);var g=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];for(e=0;e<g.length;e++){var f=g[e].process,h=g[e].re.exec(b);h&&(channels=f(h),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=0>this.r||isNaN(this.r)?0:255<this.r?255:this.r;this.g=0>this.g||isNaN(this.g)?0:255<this.g?255:this.g;this.b=0>this.b||isNaN(this.b)?0:255<this.b?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);1==a.length&&(a="0"+a);1==c.length&&(c="0"+c);1==d.length&&(d="0"+d);return"#"+a+c+d};this.getHelpXML=function(){for(var a=[],c=0;c<g.length;c++)for(var d=g[c].example,b=0;b<d.length;b++)a[a.length]=d[b];for(var e in l)a[a.length]=e;d=document.createElement("ul");d.setAttribute("id","rgbcolor-examples");for(c=0;c<a.length;c++)try{var f=document.createElement("li"),k=new n(a[c]),m=document.createElement("div");m.style.cssText="margin: 3px; border: 1px solid black; background:"+k.toHex()+"; color:"+k.toHex();m.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+a[c]+" -> "+k.toRGB()+" -> "+k.toHex());f.appendChild(m);f.appendChild(h);d.appendChild(f)}catch(p){}return d}}f.RGBColor=n})("undefined"!==typeof window?window:this);(function(u,x){u.canvg=x(u.RGBColor,u.stackBlur)})("undefined"!==typeof window?window:this,function(u,x){function z(k){var a=[0,0,0],n=function(c,b){var d=k.match(c);null!=d&&(a[b]+=d.length,k=k.replace(c," "))};k=k.replace(/:not\(([^\)]*)\)/g,"     $1 ");k=k.replace(/{[\s\S]*/gm," ");n(A,1);n(B,0);n(C,1);n(D,2);n(E,1);n(F,1);k=k.replace(/[\*\s\+>~]/g," ");k=k.replace(/[#\.]/g," ");n(G,2);return a.join("")}function H(k){var a={opts:k,FRAMERATE:30,MAX_VIRTUAL_PIXELS:3e4,log:function(a){}};1==a.opts.log&&"undefined"!=typeof console&&(a.log=function(a){console.log(a)});a.init=function(c){var b=0;a.UniqueId=function(){b++;return"canvg"+b};a.Definitions={};a.Styles={};a.StylesSpecificity={};a.Animations=[];a.Images=[];a.ctx=c;a.ViewPort=new function(){this.viewPorts=[];this.Clear=function(){this.viewPorts=[]};this.SetCurrent=function(a,b){this.viewPorts.push({width:a,height:b})};this.RemoveCurrent=function(){this.viewPorts.pop()};this.Current=function(){return this.viewPorts[this.viewPorts.length-1]};this.width=function(){return this.Current().width};this.height=function(){return this.Current().height};this.ComputeSize=function(a){return null!=a&&"number"==typeof a?a:"x"==a?this.width():"y"==a?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}};a.init();a.ImagesLoaded=function(){for(var c=0;c<a.Images.length;c++)if(!a.Images[c].loaded)return!1;return!0};a.trim=function(a){return a.replace(/^\s+|\s+$/g,"")};a.compressSpaces=function(a){return a.replace(/[\s\r\t\n]+/gm," ")};a.ajax=function(a){var b;b=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");b.open("GET",a,!1);b.send(null);return b.responseText};a.parseXml=function(a){if("undefined"!=typeof Windows&&"undefined"!=typeof Windows.Data&&"undefined"!=typeof Windows.Data.Xml){var b=new Windows.Data.Xml.Dom.XmlDocument,d=new Windows.Data.Xml.Dom.XmlLoadSettings;d.prohibitDtd=!1;b.loadXml(a,d);return b}if(window.DOMParser)return(new DOMParser).parseFromString(a,"text/xml");a=a.replace(/<!DOCTYPE svg[^>]*>/,"");b=new ActiveXObject("Microsoft.XMLDOM");b.async="false";b.loadXML(a);return b};a.Property=function(a,b){this.name=a;this.value=b};a.Property.prototype.getValue=function(){return this.value};a.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value};a.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var a=parseFloat(this.value);(this.value+"").match(/%$/)&&(a/=100);return a};a.Property.prototype.valueOrDefault=function(a){return this.hasValue()?this.value:a};a.Property.prototype.numValueOrDefault=function(a){return this.hasValue()?this.numValue():a};a.Property.prototype.addOpacity=function(c){var b=this.value;if(null!=c.value&&""!=c.value&&"string"==typeof this.value){var d=new u(this.value);d.ok&&(b="rgba("+d.r+", "+d.g+", "+d.b+", "+c.numValue()+")")}return new a.Property(this.name,b)};a.Property.prototype.getDefinition=function(){var c=this.value.match(/#([^\)'"]+)/);c&&(c=c[1]);c||(c=this.value);return a.Definitions[c]};a.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")};a.Property.prototype.getFillStyleDefinition=function(c,b){var d=this.getDefinition();if(null!=d&&d.createGradient)return d.createGradient(a.ctx,c,b);if(null!=d&&d.createPattern){if(d.getHrefAttribute().hasValue()){var e=d.attribute("patternTransform"),d=d.getHrefAttribute().getDefinition();e.hasValue()&&(d.attribute("patternTransform",!0).value=e.value)}return d.createPattern(a.ctx,c)}return null};a.Property.prototype.getDPI=function(a){return 96};a.Property.prototype.getEM=function(c){var b=12,d=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);d.hasValue()&&(b=d.toPixels(c));return b};a.Property.prototype.getUnits=function(){return(this.value+"").replace(/[0-9\.\-]/g,"")};a.Property.prototype.toPixels=function(c,b){if(!this.hasValue())return 0;var d=this.value+"";if(d.match(/em$/))return this.numValue()*this.getEM(c);if(d.match(/ex$/))return this.numValue()*this.getEM(c)/2;if(d.match(/px$/))return this.numValue();if(d.match(/pt$/))return this.numValue()*this.getDPI(c)*(1/72);if(d.match(/pc$/))return 15*this.numValue();if(d.match(/cm$/))return this.numValue()*this.getDPI(c)/2.54;if(d.match(/mm$/))return this.numValue()*this.getDPI(c)/25.4;if(d.match(/in$/))return this.numValue()*this.getDPI(c);if(d.match(/%$/))return this.numValue()*a.ViewPort.ComputeSize(c);d=this.numValue();return b&&1>d?d*a.ViewPort.ComputeSize(c):d};a.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var a=this.value+"";if(a.match(/s$/))return 1e3*this.numValue();a.match(/ms$/);return this.numValue()};a.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var a=this.value+"";return a.match(/deg$/)?this.numValue()*(Math.PI/180):a.match(/grad$/)?this.numValue()*(Math.PI/200):a.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)};var n={baseline:"alphabetic","before-edge":"top","text-before-edge":"top",middle:"middle",central:"middle","after-edge":"bottom","text-after-edge":"bottom",ideographic:"ideographic",alphabetic:"alphabetic",hanging:"hanging",mathematical:"alphabetic"};a.Property.prototype.toTextBaseline=function(){return this.hasValue()?n[this.value]:null};a.Font=new function(){this.Styles="normal|italic|oblique|inherit";this.Variants="normal|small-caps|inherit";this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";this.CreateFont=function(b,d,e,c,f,g){g=null!=g?this.Parse(g):this.CreateFont("","","","","",a.ctx.font);return{fontFamily:f||g.fontFamily,fontSize:c||g.fontSize,fontStyle:b||g.fontStyle,fontWeight:e||g.fontWeight,fontVariant:d||g.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var c=this;this.Parse=function(b){var d={};b=a.trim(a.compressSpaces(b||"")).split(" ");for(var e=!1,h=!1,f=!1,g=!1,l="",m=0;m<b.length;m++)h||-1==c.Styles.indexOf(b[m])?g||-1==c.Variants.indexOf(b[m])?f||-1==c.Weights.indexOf(b[m])?e?"inherit"!=b[m]&&(l+=b[m]):("inherit"!=b[m]&&(d.fontSize=b[m].split("/")[0]),h=g=f=e=!0):("inherit"!=b[m]&&(d.fontWeight=b[m]),h=g=f=!0):("inherit"!=b[m]&&(d.fontVariant=b[m]),h=g=!0):("inherit"!=b[m]&&(d.fontStyle=b[m]),h=!0);""!=l&&(d.fontFamily=l);return d}};a.ToNumberArray=function(c){c=a.trim(a.compressSpaces((c||"").replace(/,/g," "))).split(" ");for(var b=0;b<c.length;b++)c[b]=parseFloat(c[b]);return c};a.Point=function(a,b){this.x=a;this.y=b};a.Point.prototype.angleTo=function(a){return Math.atan2(a.y-this.y,a.x-this.x)};a.Point.prototype.applyTransform=function(a){var b=this.x*a[1]+this.y*a[3]+a[5];this.x=this.x*a[0]+this.y*a[2]+a[4];this.y=b};a.CreatePoint=function(c){c=a.ToNumberArray(c);return new a.Point(c[0],c[1])};a.CreatePath=function(c){c=a.ToNumberArray(c);for(var b=[],d=0;d<c.length;d+=2)b.push(new a.Point(c[d],c[d+1]));return b};a.BoundingBox=function(a,b,d,e){this.y2=this.x2=this.y1=this.x1=Number.NaN;this.x=function(){return this.x1};this.y=function(){return this.y1};this.width=function(){return this.x2-this.x1};this.height=function(){return this.y2-this.y1};this.addPoint=function(a,b){if(null!=a){if(isNaN(this.x1)||isNaN(this.x2))this.x2=this.x1=a;a<this.x1&&(this.x1=a);a>this.x2&&(this.x2=a)}if(null!=b){if(isNaN(this.y1)||isNaN(this.y2))this.y2=this.y1=b;b<this.y1&&(this.y1=b);b>this.y2&&(this.y2=b)}};this.addX=function(a){this.addPoint(a,null)};this.addY=function(a){this.addPoint(null,a)};this.addBoundingBox=function(a){this.addPoint(a.x1,a.y1);this.addPoint(a.x2,a.y2)};this.addQuadraticCurve=function(a,b,d,e,c,p){d=a+2/3*(d-a);e=b+2/3*(e-b);this.addBezierCurve(a,b,d,d+1/3*(c-a),e,e+1/3*(p-b),c,p)};this.addBezierCurve=function(a,b,d,e,c,p,r,I){var f=[a,b],g=[d,e],h=[c,p],l=[r,I];this.addPoint(f[0],f[1]);this.addPoint(l[0],l[1]);for(i=0;1>=i;i++)a=function(a){return Math.pow(1-a,3)*f[i]+3*Math.pow(1-a,2)*a*g[i]+3*(1-a)*Math.pow(a,2)*h[i]+Math.pow(a,3)*l[i]},b=6*f[i]-12*g[i]+6*h[i],d=-3*f[i]+9*g[i]-9*h[i]+3*l[i],e=3*g[i]-3*f[i],0==d?0!=b&&(b=-e/b,0<b&&1>b&&(0==i&&this.addX(a(b)),1==i&&this.addY(a(b)))):(e=Math.pow(b,2)-4*e*d,0>e||(c=(-b+Math.sqrt(e))/(2*d),0<c&&1>c&&(0==i&&this.addX(a(c)),1==i&&this.addY(a(c))),b=(-b-Math.sqrt(e))/(2*d),0<b&&1>b&&(0==i&&this.addX(a(b)),1==i&&this.addY(a(b)))))};this.isPointInBox=function(a,b){return this.x1<=a&&a<=this.x2&&this.y1<=b&&b<=this.y2};this.addPoint(a,b);this.addPoint(d,e)};a.Transform=function(c){var b=this;this.Type={};this.Type.translate=function(b){this.p=a.CreatePoint(b);this.apply=function(a){a.translate(this.p.x||0,this.p.y||0)};this.unapply=function(a){a.translate(-1*this.p.x||0,-1*this.p.y||0)};this.applyToPoint=function(a){a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}};this.Type.rotate=function(b){b=a.ToNumberArray(b);this.angle=new a.Property("angle",b[0]);this.cx=b[1]||0;this.cy=b[2]||0;this.apply=function(a){a.translate(this.cx,this.cy);a.rotate(this.angle.toRadians());a.translate(-this.cx,-this.cy)};this.unapply=function(a){a.translate(this.cx,this.cy);a.rotate(-1*this.angle.toRadians());a.translate(-this.cx,-this.cy)};this.applyToPoint=function(a){var b=this.angle.toRadians();a.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]);a.applyTransform([Math.cos(b),Math.sin(b),-Math.sin(b),Math.cos(b),0,0]);a.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}};this.Type.scale=function(b){this.p=a.CreatePoint(b);this.apply=function(a){a.scale(this.p.x||1,this.p.y||this.p.x||1)};this.unapply=function(a){a.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)};this.applyToPoint=function(a){a.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}};this.Type.matrix=function(b){this.m=a.ToNumberArray(b);this.apply=function(a){a.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])};this.unapply=function(a){var b=this.m[0],d=this.m[2],e=this.m[4],c=this.m[1],f=this.m[3],g=this.m[5],h=1/(b*(1*f-0*g)-d*(1*c-0*g)+e*(0*c-0*f));a.transform(h*(1*f-0*g),h*(0*g-1*c),h*(0*e-1*d),h*(1*b-0*e),h*(d*g-e*f),h*(e*c-b*g))};this.applyToPoint=function(a){a.applyTransform(this.m)}};this.Type.SkewBase=function(d){this.base=b.Type.matrix;this.base(d);this.angle=new a.Property("angle",d)};this.Type.SkewBase.prototype=new this.Type.matrix;this.Type.skewX=function(a){this.base=b.Type.SkewBase;this.base(a);this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]};this.Type.skewX.prototype=new this.Type.SkewBase;this.Type.skewY=function(a){this.base=b.Type.SkewBase;this.base(a);this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]};this.Type.skewY.prototype=new this.Type.SkewBase;this.transforms=[];this.apply=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].apply(a)};this.unapply=function(a){for(var b=this.transforms.length-1;0<=b;b--)this.transforms[b].unapply(a)};this.applyToPoint=function(a){for(var b=0;b<this.transforms.length;b++)this.transforms[b].applyToPoint(a)};c=a.trim(a.compressSpaces(c)).replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/);for(var d=0;d<c.length;d++){var e=a.trim(c[d].split("(")[0]),h=c[d].split("(")[1].replace(")",""),f=this.Type[e];"undefined"!=typeof f&&(h=new f(h),h.type=e,this.transforms.push(h))}};a.AspectRatio=function(c,b,d,e,h,f,g,l,m,p){b=a.compressSpaces(b);b=b.replace(/^defer\s/,"");var r=b.split(" ")[0]||"xMidYMid";b=b.split(" ")[1]||"meet";var k=d/e,v=h/f,n=Math.min(k,v),q=Math.max(k,v);"meet"==b&&(e*=n,f*=n);"slice"==b&&(e*=q,f*=q);m=new a.Property("refX",m);p=new a.Property("refY",p);m.hasValue()&&p.hasValue()?c.translate(-n*m.toPixels("x"),-n*p.toPixels("y")):(r.match(/^xMid/)&&("meet"==b&&n==v||"slice"==b&&q==v)&&c.translate(d/2-e/2,0),r.match(/YMid$/)&&("meet"==b&&n==k||"slice"==b&&q==k)&&c.translate(0,h/2-f/2),r.match(/^xMax/)&&("meet"==b&&n==v||"slice"==b&&q==v)&&c.translate(d-e,0),r.match(/YMax$/)&&("meet"==b&&n==k||"slice"==b&&q==k)&&c.translate(0,h-f));"none"==r?c.scale(k,v):"meet"==b?c.scale(n,n):"slice"==b&&c.scale(q,q);c.translate(null==g?0:-g,null==l?0:-l)};a.Element={};a.EmptyProperty=new a.Property("EMPTY","");a.Element.ElementBase=function(c){this.attributes={};this.styles={};this.stylesSpecificity={};this.children=[];this.attribute=function(b,d){var e=this.attributes[b];if(null!=e)return e;1==d&&(e=new a.Property(b,""),this.attributes[b]=e);return e||a.EmptyProperty};this.getHrefAttribute=function(){for(var b in this.attributes)if("href"==b||b.match(/:href$/))return this.attributes[b];return a.EmptyProperty};this.style=function(b,d,e){var c=this.styles[b];if(null!=c)return c;var f=this.attribute(b);if(null!=f&&f.hasValue())return this.styles[b]=f;if(1!=e&&(e=this.parent,null!=e&&(e=e.style(b),null!=e&&e.hasValue())))return e;1==d&&(c=new a.Property(b,""),this.styles[b]=c);return c||a.EmptyProperty};this.render=function(a){if("none"!=this.style("display").value&&"hidden"!=this.style("visibility").value){a.save();if(this.style("mask").hasValue()){var b=this.style("mask").getDefinition();null!=b&&b.apply(a,this)}else this.style("filter").hasValue()?(b=this.style("filter").getDefinition(),null!=b&&b.apply(a,this)):(this.setContext(a),this.renderChildren(a),this.clearContext(a));a.restore()}};this.setContext=function(a){};this.clearContext=function(a){};this.renderChildren=function(a){for(var b=0;b<this.children.length;b++)this.children[b].render(a)};this.addChild=function(b,d){var e=b;d&&(e=a.CreateElement(b));e.parent=this;"title"!=e.type&&this.children.push(e)};this.addStylesFromStyleDefinition=function(){for(var b in a.Styles)if("@"!=b[0]&&t(c,b)){var d=a.Styles[b],e=a.StylesSpecificity[b];if(null!=d)for(var f in d){var h=this.stylesSpecificity[f];"undefined"==typeof h&&(h="000");e>h&&(this.styles[f]=d[f],this.stylesSpecificity[f]=e)}}};var b=/^[A-Z-]+$/,d=function(a){return b.test(a)?a.toLowerCase():a};if(null!=c&&1==c.nodeType){for(var e=0;e<c.attributes.length;e++){var h=c.attributes[e],f=d(h.nodeName);this.attributes[f]=new a.Property(f,h.value)}this.addStylesFromStyleDefinition();if(this.attribute("style").hasValue())for(d=this.attribute("style").value.split(";"),e=0;e<d.length;e++)""!=a.trim(d[e])&&(f=d[e].split(":"),h=a.trim(f[0]),f=a.trim(f[1]),this.styles[h]=new a.Property(h,f));this.attribute("id").hasValue()&&null==a.Definitions[this.attribute("id").value]&&(a.Definitions[this.attribute("id").value]=this);for(e=0;e<c.childNodes.length;e++)d=c.childNodes[e],1==d.nodeType&&this.addChild(d,!0),!this.captureTextNodes||3!=d.nodeType&&4!=d.nodeType||""!=a.compressSpaces(d.value||d.text||d.textContent||"")&&this.addChild(new a.Element.tspan(d),!1)}};a.Element.RenderedElementBase=function(c){this.base=a.Element.ElementBase;this.base(c);this.setContext=function(b){if(this.style("fill").isUrlDefinition()){var d=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=d&&(b.fillStyle=d)}else this.style("fill").hasValue()&&(d=this.style("fill"),"currentColor"==d.value&&(d.value=this.style("color").value),"inherit"!=d.value&&(b.fillStyle="none"==d.value?"rgba(0,0,0,0)":d.value));this.style("fill-opacity").hasValue()&&(d=new a.Property("fill",b.fillStyle),d=d.addOpacity(this.style("fill-opacity")),b.fillStyle=d.value);this.style("stroke").isUrlDefinition()?(d=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity")),null!=d&&(b.strokeStyle=d)):this.style("stroke").hasValue()&&(d=this.style("stroke"),"currentColor"==d.value&&(d.value=this.style("color").value),"inherit"!=d.value&&(b.strokeStyle="none"==d.value?"rgba(0,0,0,0)":d.value));this.style("stroke-opacity").hasValue()&&(d=new a.Property("stroke",b.strokeStyle),d=d.addOpacity(this.style("stroke-opacity")),b.strokeStyle=d.value);this.style("stroke-width").hasValue()&&(d=this.style("stroke-width").toPixels(),b.lineWidth=0==d?.001:d);this.style("stroke-linecap").hasValue()&&(b.lineCap=this.style("stroke-linecap").value);this.style("stroke-linejoin").hasValue()&&(b.lineJoin=this.style("stroke-linejoin").value);this.style("stroke-miterlimit").hasValue()&&(b.miterLimit=this.style("stroke-miterlimit").value);this.style("stroke-dasharray").hasValue()&&"none"!=this.style("stroke-dasharray").value&&(d=a.ToNumberArray(this.style("stroke-dasharray").value),"undefined"!=typeof b.setLineDash?b.setLineDash(d):"undefined"!=typeof b.webkitLineDash?b.webkitLineDash=d:"undefined"==typeof b.mozDash||1==d.length&&0==d[0]||(b.mozDash=d),d=this.style("stroke-dashoffset").numValueOrDefault(1),"undefined"!=typeof b.lineDashOffset?b.lineDashOffset=d:"undefined"!=typeof b.webkitLineDashOffset?b.webkitLineDashOffset=d:"undefined"!=typeof b.mozDashOffset&&(b.mozDashOffset=d));"undefined"!=typeof b.font&&(b.font=a.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString());this.style("transform",!1,!0).hasValue()&&new a.Transform(this.style("transform",!1,!0).value).apply(b);this.style("clip-path",!1,!0).hasValue()&&(d=this.style("clip-path",!1,!0).getDefinition(),null!=d&&d.apply(b));this.style("opacity").hasValue()&&(b.globalAlpha=this.style("opacity").numValue())}};a.Element.RenderedElementBase.prototype=new a.Element.ElementBase;a.Element.PathElementBase=function(c){this.base=a.Element.RenderedElementBase;this.base(c);this.path=function(b){null!=b&&b.beginPath();return new a.BoundingBox};this.renderChildren=function(b){this.path(b);a.Mouse.checkPath(this,b);""!=b.fillStyle&&("inherit"!=this.style("fill-rule").valueOrDefault("inherit")?b.fill(this.style("fill-rule").value):b.fill());""!=b.strokeStyle&&b.stroke();var d=this.getMarkers();if(null!=d){if(this.style("marker-start").isUrlDefinition()){var e=this.style("marker-start").getDefinition();e.render(b,d[0][0],d[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var e=this.style("marker-mid").getDefinition(),c=1;c<d.length-1;c++)e.render(b,d[c][0],d[c][1]);this.style("marker-end").isUrlDefinition()&&(e=this.style("marker-end").getDefinition(),e.render(b,d[d.length-1][0],d[d.length-1][1]))}};this.getBoundingBox=function(){return this.path()};this.getMarkers=function(){return null}};a.Element.PathElementBase.prototype=new a.Element.RenderedElementBase;a.Element.svg=function(c){this.base=a.Element.RenderedElementBase;this.base(c);this.baseClearContext=this.clearContext;this.clearContext=function(b){this.baseClearContext(b);a.ViewPort.RemoveCurrent()};this.baseSetContext=this.setContext;this.setContext=function(b){b.strokeStyle="rgba(0,0,0,0)";b.lineCap="butt";b.lineJoin="miter";b.miterLimit=4;"undefined"!=typeof b.font&&"undefined"!=typeof window.getComputedStyle&&(b.font=window.getComputedStyle(b.canvas).getPropertyValue("font"));this.baseSetContext(b);this.attribute("x").hasValue()||(this.attribute("x",!0).value=0);this.attribute("y").hasValue()||(this.attribute("y",!0).value=0);b.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var d=a.ViewPort.width(),e=a.ViewPort.height();this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%");this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%");if("undefined"==typeof this.root){var d=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y"),c=0,f=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(c=-this.attribute("refX").toPixels("x"),f=-this.attribute("refY").toPixels("y"));"visible"!=this.attribute("overflow").valueOrDefault("hidden")&&(b.beginPath(),b.moveTo(c,f),b.lineTo(d,f),b.lineTo(d,e),b.lineTo(c,e),b.closePath(),b.clip())}a.ViewPort.SetCurrent(d,e);if(this.attribute("viewBox").hasValue()){var c=a.ToNumberArray(this.attribute("viewBox").value),f=c[0],g=c[1],d=c[2],e=c[3];a.AspectRatio(b,this.attribute("preserveAspectRatio").value,a.ViewPort.width(),d,a.ViewPort.height(),e,f,g,this.attribute("refX").value,this.attribute("refY").value);a.ViewPort.RemoveCurrent();a.ViewPort.SetCurrent(c[2],c[3])}}};a.Element.svg.prototype=new a.Element.RenderedElementBase;a.Element.rect=function(c){this.base=a.Element.PathElementBase;this.base(c);this.path=function(b){var d=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),c=this.attribute("width").toPixels("x"),f=this.attribute("height").toPixels("y"),g=this.attribute("rx").toPixels("x"),l=this.attribute("ry").toPixels("y");this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(l=g);this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(g=l);g=Math.min(g,c/2);l=Math.min(l,f/2);null!=b&&(b.beginPath(),b.moveTo(d+g,e),
b.lineTo(d+c-g,e),b.quadraticCurveTo(d+c,e,d+c,e+l),b.lineTo(d+c,e+f-l),b.quadraticCurveTo(d+c,e+f,d+c-g,e+f),b.lineTo(d+g,e+f),b.quadraticCurveTo(d,e+f,d,e+f-l),b.lineTo(d,e+l),b.quadraticCurveTo(d,e,d+g,e),b.closePath());return new a.BoundingBox(d,e,d+c,e+f)}};a.Element.rect.prototype=new a.Element.PathElementBase;a.Element.circle=function(c){this.base=a.Element.PathElementBase;this.base(c);this.path=function(b){var d=this.attribute("cx").toPixels("x"),e=this.attribute("cy").toPixels("y"),c=this.attribute("r").toPixels();null!=b&&(b.beginPath(),b.arc(d,e,c,0,2*Math.PI,!0),b.closePath());return new a.BoundingBox(d-c,e-c,d+c,e+c)}};a.Element.circle.prototype=new a.Element.PathElementBase;a.Element.ellipse=function(c){this.base=a.Element.PathElementBase;this.base(c);this.path=function(b){var d=(Math.sqrt(2)-1)/3*4,e=this.attribute("rx").toPixels("x"),c=this.attribute("ry").toPixels("y"),f=this.attribute("cx").toPixels("x"),g=this.attribute("cy").toPixels("y");null!=b&&(b.beginPath(),b.moveTo(f,g-c),b.bezierCurveTo(f+d*e,g-c,f+e,g-d*c,f+e,g),b.bezierCurveTo(f+e,g+d*c,f+d*e,g+c,f,g+c),b.bezierCurveTo(f-d*e,g+c,f-e,g+d*c,f-e,g),b.bezierCurveTo(f-e,g-d*c,f-d*e,g-c,f,g-c),b.closePath());return new a.BoundingBox(f-e,g-c,f+e,g+c)}};a.Element.ellipse.prototype=new a.Element.PathElementBase;a.Element.line=function(c){this.base=a.Element.PathElementBase;this.base(c);this.getPoints=function(){return[new a.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new a.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]};this.path=function(b){var d=this.getPoints();null!=b&&(b.beginPath(),b.moveTo(d[0].x,d[0].y),b.lineTo(d[1].x,d[1].y));return new a.BoundingBox(d[0].x,d[0].y,d[1].x,d[1].y)};this.getMarkers=function(){var a=this.getPoints(),d=a[0].angleTo(a[1]);return[[a[0],d],[a[1],d]]}};a.Element.line.prototype=new a.Element.PathElementBase;a.Element.polyline=function(c){this.base=a.Element.PathElementBase;this.base(c);this.points=a.CreatePath(this.attribute("points").value);this.path=function(b){var d=new a.BoundingBox(this.points[0].x,this.points[0].y);null!=b&&(b.beginPath(),b.moveTo(this.points[0].x,this.points[0].y));for(var e=1;e<this.points.length;e++)d.addPoint(this.points[e].x,this.points[e].y),null!=b&&b.lineTo(this.points[e].x,this.points[e].y);return d};this.getMarkers=function(){for(var a=[],d=0;d<this.points.length-1;d++)a.push([this.points[d],this.points[d].angleTo(this.points[d+1])]);0<a.length&&a.push([this.points[this.points.length-1],a[a.length-1][1]]);return a}};a.Element.polyline.prototype=new a.Element.PathElementBase;a.Element.polygon=function(c){this.base=a.Element.polyline;this.base(c);this.basePath=this.path;this.path=function(a){var b=this.basePath(a);null!=a&&(a.lineTo(this.points[0].x,this.points[0].y),a.closePath());return b}};a.Element.polygon.prototype=new a.Element.polyline;a.Element.path=function(c){this.base=a.Element.PathElementBase;this.base(c);c=this.attribute("d").value;c=c.replace(/,/gm," ");for(var b=0;2>b;b++)c=c.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2");c=c.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2");c=c.replace(/([0-9])([+\-])/gm,"$1 $2");for(b=0;2>b;b++)c=c.replace(/(\.[0-9]*)(\.)/gm,"$1 $2");c=c.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 ");c=a.compressSpaces(c);c=a.trim(c);this.PathParser=new function(b){this.tokens=b.split(" ");this.reset=function(){this.i=-1;this.previousCommand=this.command="";this.start=new a.Point(0,0);this.control=new a.Point(0,0);this.current=new a.Point(0,0);this.points=[];this.angles=[]};this.isEnd=function(){return this.i>=this.tokens.length-1};this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)};this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1};this.getToken=function(){this.i++;return this.tokens[this.i]};this.getScalar=function(){return parseFloat(this.getToken())};this.nextCommand=function(){this.previousCommand=this.command;this.command=this.getToken()};this.getPoint=function(){var b=new a.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(b)};this.getAsControlPoint=function(){var a=this.getPoint();return this.control=a};this.getAsCurrentPoint=function(){var a=this.getPoint();return this.current=a};this.getReflectedControlPoint=function(){return"c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase()?this.current:new a.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y)};this.makeAbsolute=function(a){this.isRelativeCommand()&&(a.x+=this.current.x,a.y+=this.current.y);return a};this.addMarker=function(a,b,d){null!=d&&0<this.angles.length&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(d));this.addMarkerAngle(a,null==b?null:b.angleTo(a))};this.addMarkerAngle=function(a,b){this.points.push(a);this.angles.push(b)};this.getMarkerPoints=function(){return this.points};this.getMarkerAngles=function(){for(var a=0;a<this.angles.length;a++)if(null==this.angles[a])for(var b=a+1;b<this.angles.length;b++)if(null!=this.angles[b]){this.angles[a]=this.angles[b];break}return this.angles}}(c);this.path=function(b){var d=this.PathParser;d.reset();var c=new a.BoundingBox;for(null!=b&&b.beginPath();!d.isEnd();)switch(d.nextCommand(),d.command){case"M":case"m":var f=d.getAsCurrentPoint();d.addMarker(f);c.addPoint(f.x,f.y);null!=b&&b.moveTo(f.x,f.y);for(d.start=d.current;!d.isCommandOrEnd();)f=d.getAsCurrentPoint(),d.addMarker(f,d.start),c.addPoint(f.x,f.y),null!=b&&b.lineTo(f.x,f.y);break;case"L":case"l":for(;!d.isCommandOrEnd();){var g=d.current,f=d.getAsCurrentPoint();d.addMarker(f,g);c.addPoint(f.x,f.y);null!=b&&b.lineTo(f.x,f.y)}break;case"H":case"h":for(;!d.isCommandOrEnd();)f=new a.Point((d.isRelativeCommand()?d.current.x:0)+d.getScalar(),d.current.y),d.addMarker(f,d.current),d.current=f,c.addPoint(d.current.x,d.current.y),null!=b&&b.lineTo(d.current.x,d.current.y);break;case"V":case"v":for(;!d.isCommandOrEnd();)f=new a.Point(d.current.x,(d.isRelativeCommand()?d.current.y:0)+d.getScalar()),d.addMarker(f,d.current),d.current=f,c.addPoint(d.current.x,d.current.y),null!=b&&b.lineTo(d.current.x,d.current.y);break;case"C":case"c":for(;!d.isCommandOrEnd();){var l=d.current,g=d.getPoint(),m=d.getAsControlPoint(),f=d.getAsCurrentPoint();d.addMarker(f,m,g);c.addBezierCurve(l.x,l.y,g.x,g.y,m.x,m.y,f.x,f.y);null!=b&&b.bezierCurveTo(g.x,g.y,m.x,m.y,f.x,f.y)}break;case"S":case"s":for(;!d.isCommandOrEnd();)l=d.current,g=d.getReflectedControlPoint(),m=d.getAsControlPoint(),f=d.getAsCurrentPoint(),d.addMarker(f,m,g),c.addBezierCurve(l.x,l.y,g.x,g.y,m.x,m.y,f.x,f.y),null!=b&&b.bezierCurveTo(g.x,g.y,m.x,m.y,f.x,f.y);break;case"Q":case"q":for(;!d.isCommandOrEnd();)l=d.current,m=d.getAsControlPoint(),f=d.getAsCurrentPoint(),d.addMarker(f,m,m),c.addQuadraticCurve(l.x,l.y,m.x,m.y,f.x,f.y),null!=b&&b.quadraticCurveTo(m.x,m.y,f.x,f.y);break;case"T":case"t":for(;!d.isCommandOrEnd();)l=d.current,m=d.getReflectedControlPoint(),d.control=m,f=d.getAsCurrentPoint(),d.addMarker(f,m,m),c.addQuadraticCurve(l.x,l.y,m.x,m.y,f.x,f.y),null!=b&&b.quadraticCurveTo(m.x,m.y,f.x,f.y);break;case"A":case"a":for(;!d.isCommandOrEnd();){var l=d.current,p=d.getScalar(),r=d.getScalar(),g=d.getScalar()*(Math.PI/180),k=d.getScalar(),m=d.getScalar(),f=d.getAsCurrentPoint(),n=new a.Point(Math.cos(g)*(l.x-f.x)/2+Math.sin(g)*(l.y-f.y)/2,-Math.sin(g)*(l.x-f.x)/2+Math.cos(g)*(l.y-f.y)/2),w=Math.pow(n.x,2)/Math.pow(p,2)+Math.pow(n.y,2)/Math.pow(r,2);1<w&&(p*=Math.sqrt(w),r*=Math.sqrt(w));k=(k==m?-1:1)*Math.sqrt((Math.pow(p,2)*Math.pow(r,2)-Math.pow(p,2)*Math.pow(n.y,2)-Math.pow(r,2)*Math.pow(n.x,2))/(Math.pow(p,2)*Math.pow(n.y,2)+Math.pow(r,2)*Math.pow(n.x,2)));isNaN(k)&&(k=0);var q=new a.Point(k*p*n.y/r,k*-r*n.x/p),l=new a.Point((l.x+f.x)/2+Math.cos(g)*q.x-Math.sin(g)*q.y,(l.y+f.y)/2+Math.sin(g)*q.x+Math.cos(g)*q.y),t=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))*Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)))},u=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(t(a,b))},k=u([1,0],[(n.x-q.x)/p,(n.y-q.y)/r]),w=[(n.x-q.x)/p,(n.y-q.y)/r],q=[(-n.x-q.x)/p,(-n.y-q.y)/r],n=u(w,q);-1>=t(w,q)&&(n=Math.PI);1<=t(w,q)&&(n=0);w=1-m?1:-1;q=k+n/2*w;u=new a.Point(l.x+p*Math.cos(q),l.y+r*Math.sin(q));d.addMarkerAngle(u,q-w*Math.PI/2);d.addMarkerAngle(f,q-w*Math.PI);c.addPoint(f.x,f.y);null!=b&&(t=p>r?p:r,f=p>r?1:p/r,p=p>r?r/p:1,b.translate(l.x,l.y),b.rotate(g),b.scale(f,p),b.arc(0,0,t,k,k+n,1-m),b.scale(1/f,1/p),b.rotate(-g),b.translate(-l.x,-l.y))}break;case"Z":case"z":null!=b&&b.closePath(),d.current=d.start}return c};this.getMarkers=function(){for(var a=this.PathParser.getMarkerPoints(),b=this.PathParser.getMarkerAngles(),c=[],f=0;f<a.length;f++)c.push([a[f],b[f]]);return c}};a.Element.path.prototype=new a.Element.PathElementBase;a.Element.pattern=function(c){this.base=a.Element.ElementBase;this.base(c);this.createPattern=function(b,d){var c=this.attribute("width").toPixels("x",!0),h=this.attribute("height").toPixels("y",!0),f=new a.Element.svg;f.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value);f.attributes.width=new a.Property("width",c+"px");f.attributes.height=new a.Property("height",h+"px");f.attributes.transform=new a.Property("transform",this.attribute("patternTransform").value);f.children=this.children;var g=document.createElement("canvas");g.width=c;g.height=h;c=g.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&c.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(h=-1;1>=h;h++)for(var l=-1;1>=l;l++)c.save(),f.attributes.x=new a.Property("x",h*g.width),f.attributes.y=new a.Property("y",l*g.height),f.render(c),c.restore();return b.createPattern(g,"repeat")}};a.Element.pattern.prototype=new a.Element.ElementBase;a.Element.marker=function(c){this.base=a.Element.ElementBase;this.base(c);this.baseRender=this.render;this.render=function(b,d,c){b.translate(d.x,d.y);"auto"==this.attribute("orient").valueOrDefault("auto")&&b.rotate(c);"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&b.scale(b.lineWidth,b.lineWidth);b.save();var e=new a.Element.svg;e.attributes.viewBox=new a.Property("viewBox",this.attribute("viewBox").value);e.attributes.refX=new a.Property("refX",this.attribute("refX").value);e.attributes.refY=new a.Property("refY",this.attribute("refY").value);e.attributes.width=new a.Property("width",this.attribute("markerWidth").value);e.attributes.height=new a.Property("height",this.attribute("markerHeight").value);e.attributes.fill=new a.Property("fill",this.attribute("fill").valueOrDefault("black"));e.attributes.stroke=new a.Property("stroke",this.attribute("stroke").valueOrDefault("none"));e.children=this.children;e.render(b);b.restore();"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&b.scale(1/b.lineWidth,1/b.lineWidth);"auto"==this.attribute("orient").valueOrDefault("auto")&&b.rotate(-c);b.translate(-d.x,-d.y)}};a.Element.marker.prototype=new a.Element.ElementBase;a.Element.defs=function(c){this.base=a.Element.ElementBase;this.base(c);this.render=function(a){}};a.Element.defs.prototype=new a.Element.ElementBase;a.Element.GradientBase=function(c){this.base=a.Element.ElementBase;this.base(c);this.stops=[];for(c=0;c<this.children.length;c++){var b=this.children[c];"stop"==b.type&&this.stops.push(b)}this.getGradient=function(){};this.gradientUnits=function(){return this.attribute("gradientUnits").valueOrDefault("objectBoundingBox")};this.attributesToInherit=["gradientUnits"];this.inheritStopContainer=function(a){for(var b=0;b<this.attributesToInherit.length;b++){var d=this.attributesToInherit[b];!this.attribute(d).hasValue()&&a.attribute(d).hasValue()&&(this.attribute(d,!0).value=a.attribute(d).value)}};this.createGradient=function(b,c,h){var d=this;this.getHrefAttribute().hasValue()&&(d=this.getHrefAttribute().getDefinition(),this.inheritStopContainer(d));var e=function(b){return h.hasValue()?new a.Property("color",b).addOpacity(h).value:b};b=this.getGradient(b,c);if(null==b)return e(d.stops[d.stops.length-1].color);for(c=0;c<d.stops.length;c++)b.addColorStop(d.stops[c].offset,e(d.stops[c].color));return this.attribute("gradientTransform").hasValue()?(d=a.ViewPort.viewPorts[0],e=new a.Element.rect,e.attributes.x=new a.Property("x",-a.MAX_VIRTUAL_PIXELS/3),e.attributes.y=new a.Property("y",-a.MAX_VIRTUAL_PIXELS/3),e.attributes.width=new a.Property("width",a.MAX_VIRTUAL_PIXELS),e.attributes.height=new a.Property("height",a.MAX_VIRTUAL_PIXELS),c=new a.Element.g,c.attributes.transform=new a.Property("transform",this.attribute("gradientTransform").value),c.children=[e],e=new a.Element.svg,e.attributes.x=new a.Property("x",0),e.attributes.y=new a.Property("y",0),e.attributes.width=new a.Property("width",d.width),e.attributes.height=new a.Property("height",d.height),e.children=[c],c=document.createElement("canvas"),c.width=d.width,c.height=d.height,d=c.getContext("2d"),d.fillStyle=b,e.render(d),d.createPattern(c,"no-repeat")):b}};a.Element.GradientBase.prototype=new a.Element.ElementBase;a.Element.linearGradient=function(c){this.base=a.Element.GradientBase;this.base(c);this.attributesToInherit.push("x1");this.attributesToInherit.push("y1");this.attributesToInherit.push("x2");this.attributesToInherit.push("y2");this.getGradient=function(a,d){var b="objectBoundingBox"==this.gradientUnits()?d.getBoundingBox():null;this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var c="objectBoundingBox"==this.gradientUnits()?b.x()+b.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),f="objectBoundingBox"==this.gradientUnits()?b.y()+b.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),g="objectBoundingBox"==this.gradientUnits()?b.x()+b.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),b="objectBoundingBox"==this.gradientUnits()?b.y()+b.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return c==g&&f==b?null:a.createLinearGradient(c,f,g,b)}};a.Element.linearGradient.prototype=new a.Element.GradientBase;a.Element.radialGradient=function(c){this.base=a.Element.GradientBase;this.base(c);this.attributesToInherit.push("cx");this.attributesToInherit.push("cy");this.attributesToInherit.push("r");this.attributesToInherit.push("fx");this.attributesToInherit.push("fy");this.getGradient=function(a,d){var b=d.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%");this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%");this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var c="objectBoundingBox"==this.gradientUnits()?b.x()+b.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),f="objectBoundingBox"==this.gradientUnits()?b.y()+b.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),g=c,l=f;this.attribute("fx").hasValue()&&(g="objectBoundingBox"==this.gradientUnits()?b.x()+b.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x"));this.attribute("fy").hasValue()&&(l="objectBoundingBox"==this.gradientUnits()?b.y()+b.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));b="objectBoundingBox"==this.gradientUnits()?(b.width()+b.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return a.createRadialGradient(g,l,0,c,f,b)}};a.Element.radialGradient.prototype=new a.Element.GradientBase;a.Element.stop=function(c){this.base=a.Element.ElementBase;this.base(c);this.offset=this.attribute("offset").numValue();0>this.offset&&(this.offset=0);1<this.offset&&(this.offset=1);c=this.style("stop-color",!0);""===c.value&&(c.value="#000");this.style("stop-opacity").hasValue()&&(c=c.addOpacity(this.style("stop-opacity")));this.color=c.value};a.Element.stop.prototype=new a.Element.ElementBase;a.Element.AnimateBase=function(c){this.base=a.Element.ElementBase;this.base(c);a.Animations.push(this);this.duration=0;this.begin=this.attribute("begin").toMilliseconds();this.maxDuration=this.begin+this.attribute("dur").toMilliseconds();this.getProperty=function(){var a=this.attribute("attributeType").value,d=this.attribute("attributeName").value;return"CSS"==a?this.parent.style(d,!0):this.parent.attribute(d,!0)};this.initialValue=null;this.initialUnits="";this.removed=!1;this.calcValue=function(){return""};this.update=function(a){null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits());if(this.duration>this.maxDuration){if("indefinite"==this.attribute("repeatCount").value||"indefinite"==this.attribute("repeatDur").value)this.duration=0;else if("freeze"==this.attribute("fill").valueOrDefault("remove")&&!this.frozen)this.frozen=!0,this.parent.animationFrozen=!0,this.parent.animationFrozenValue=this.getProperty().value;else if("remove"==this.attribute("fill").valueOrDefault("remove")&&!this.removed)return this.removed=!0,this.getProperty().value=this.parent.animationFrozen?this.parent.animationFrozenValue:this.initialValue,!0;return!1}this.duration+=a;a=!1;this.begin<this.duration&&(a=this.calcValue(),this.attribute("type").hasValue()&&(a=this.attribute("type").value+"("+a+")"),this.getProperty().value=a,a=!0);return a};this.from=this.attribute("from");this.to=this.attribute("to");this.values=this.attribute("values");this.values.hasValue()&&(this.values.value=this.values.value.split(";"));this.progress=function(){var b={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var d=b.progress*(this.values.value.length-1),c=Math.floor(d),h=Math.ceil(d);b.from=new a.Property("from",parseFloat(this.values.value[c]));b.to=new a.Property("to",parseFloat(this.values.value[h]));b.progress=(d-c)/(h-c)}else b.from=this.from,b.to=this.to;return b}};a.Element.AnimateBase.prototype=new a.Element.ElementBase;a.Element.animate=function(c){this.base=a.Element.AnimateBase;this.base(c);this.calcValue=function(){var a=this.progress();return a.from.numValue()+(a.to.numValue()-a.from.numValue())*a.progress+this.initialUnits}};a.Element.animate.prototype=new a.Element.AnimateBase;a.Element.animateColor=function(c){this.base=a.Element.AnimateBase;this.base(c);this.calcValue=function(){var a=this.progress(),d=new u(a.from.value),c=new u(a.to.value);if(d.ok&&c.ok){var h=d.g+(c.g-d.g)*a.progress,f=d.b+(c.b-d.b)*a.progress;return"rgb("+parseInt(d.r+(c.r-d.r)*a.progress,10)+","+parseInt(h,10)+","+parseInt(f,10)+")"}return this.attribute("from").value}};a.Element.animateColor.prototype=new a.Element.AnimateBase;a.Element.animateTransform=function(c){this.base=a.Element.AnimateBase;this.base(c);this.calcValue=function(){for(var b=this.progress(),d=a.ToNumberArray(b.from.value),c=a.ToNumberArray(b.to.value),h="",f=0;f<d.length;f++)h+=d[f]+(c[f]-d[f])*b.progress+" ";return h}};a.Element.animateTransform.prototype=new a.Element.animate;a.Element.font=function(c){this.base=a.Element.ElementBase;this.base(c);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.isArabic=this.isRTL=!1;this.missingGlyph=this.fontFace=null;this.glyphs=[];for(c=0;c<this.children.length;c++){var b=this.children[c];"font-face"==b.type?(this.fontFace=b,b.style("font-family").hasValue()&&(a.Definitions[b.style("font-family").value]=this)):"missing-glyph"==b.type?this.missingGlyph=b:"glyph"==b.type&&(""!=b.arabicForm?(this.isArabic=this.isRTL=!0,"undefined"==typeof this.glyphs[b.unicode]&&(this.glyphs[b.unicode]=[]),this.glyphs[b.unicode][b.arabicForm]=b):this.glyphs[b.unicode]=b)}};a.Element.font.prototype=new a.Element.ElementBase;a.Element.fontface=function(c){this.base=a.Element.ElementBase;this.base(c);this.ascent=this.attribute("ascent").value;this.descent=this.attribute("descent").value;this.unitsPerEm=this.attribute("units-per-em").numValue()};a.Element.fontface.prototype=new a.Element.ElementBase;a.Element.missingglyph=function(c){this.base=a.Element.path;this.base(c);this.horizAdvX=0};a.Element.missingglyph.prototype=new a.Element.path;a.Element.glyph=function(c){this.base=a.Element.path;this.base(c);this.horizAdvX=this.attribute("horiz-adv-x").numValue();this.unicode=this.attribute("unicode").value;this.arabicForm=this.attribute("arabic-form").value};a.Element.glyph.prototype=new a.Element.path;a.Element.text=function(c){this.captureTextNodes=!0;this.base=a.Element.RenderedElementBase;this.base(c);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);var b=this.style("dominant-baseline").toTextBaseline();null==b&&(b=this.style("alignment-baseline").toTextBaseline());null!=b&&(a.textBaseline=b)};this.getBoundingBox=function(){var b=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),c=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize);return new a.BoundingBox(b,d-c,b+Math.floor(2*c/3)*this.children[0].getText().length,d)};this.renderChildren=function(a){this.x=this.attribute("x").toPixels("x");this.y=this.attribute("y").toPixels("y");this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x"));this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y"));this.x+=this.getAnchorDelta(a,this,0);for(var b=0;b<this.children.length;b++)this.renderChild(a,this,this,b)};this.getAnchorDelta=function(a,d,c){var b=this.style("text-anchor").valueOrDefault("start");if("start"!=b){for(var e=0,g=c;g<d.children.length;g++){var l=d.children[g];if(g>c&&l.attribute("x").hasValue())break;e+=l.measureTextRecursive(a)}return-1*("end"==b?e:e/2)}return 0};this.renderChild=function(a,d,c,h){var b=c.children[h];b.attribute("x").hasValue()?(b.x=b.attribute("x").toPixels("x")+d.getAnchorDelta(a,c,h),b.attribute("dx").hasValue()&&(b.x+=b.attribute("dx").toPixels("x"))):(b.attribute("dx").hasValue()&&(d.x+=b.attribute("dx").toPixels("x")),b.x=d.x);d.x=b.x+b.measureText(a);b.attribute("y").hasValue()?(b.y=b.attribute("y").toPixels("y"),b.attribute("dy").hasValue()&&(b.y+=b.attribute("dy").toPixels("y"))):(b.attribute("dy").hasValue()&&(d.y+=b.attribute("dy").toPixels("y")),b.y=d.y);d.y=b.y;b.render(a);for(h=0;h<b.children.length;h++)d.renderChild(a,d,b,h)}};a.Element.text.prototype=new a.Element.RenderedElementBase;a.Element.TextElementBase=function(c){this.base=a.Element.RenderedElementBase;this.base(c);this.getGlyph=function(a,d,c){var b=d[c],e=null;if(a.isArabic){var g="isolated";(0==c||" "==d[c-1])&&c<d.length-2&&" "!=d[c+1]&&(g="terminal");0<c&&" "!=d[c-1]&&c<d.length-2&&" "!=d[c+1]&&(g="medial");0<c&&" "!=d[c-1]&&(c==d.length-1||" "==d[c+1])&&(g="initial");"undefined"!=typeof a.glyphs[b]&&(e=a.glyphs[b][g],null==e&&"glyph"==a.glyphs[b].type&&(e=a.glyphs[b]))}else e=a.glyphs[b];null==e&&(e=a.missingGlyph);return e};this.renderChildren=function(b){var d=this.parent.style("font-family").getDefinition();if(null!=d){var c=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize),h=this.parent.style("font-style").valueOrDefault(a.Font.Parse(a.ctx.font).fontStyle),f=this.getText();d.isRTL&&(f=f.split("").reverse().join(""));for(var g=a.ToNumberArray(this.parent.attribute("dx").value),l=0;l<f.length;l++){var m=this.getGlyph(d,f,l),p=c/d.fontFace.unitsPerEm;b.translate(this.x,this.y);b.scale(p,-p);var k=b.lineWidth;b.lineWidth=b.lineWidth*d.fontFace.unitsPerEm/c;"italic"==h&&b.transform(1,0,.4,1,0,0);m.render(b);"italic"==h&&b.transform(1,0,-.4,1,0,0);b.lineWidth=k;b.scale(1/p,-1/p);b.translate(-this.x,-this.y);this.x+=c*(m.horizAdvX||d.horizAdvX)/d.fontFace.unitsPerEm;"undefined"==typeof g[l]||isNaN(g[l])||(this.x+=g[l])}}else""!=b.fillStyle&&b.fillText(a.compressSpaces(this.getText()),this.x,this.y),""!=b.strokeStyle&&b.strokeText(a.compressSpaces(this.getText()),this.x,this.y)};this.getText=function(){};this.measureTextRecursive=function(a){for(var b=this.measureText(a),c=0;c<this.children.length;c++)b+=this.children[c].measureTextRecursive(a);return b};this.measureText=function(b){var d=this.parent.style("font-family").getDefinition();if(null!=d){b=this.parent.style("font-size").numValueOrDefault(a.Font.Parse(a.ctx.font).fontSize);var c=0,h=this.getText();d.isRTL&&(h=h.split("").reverse().join(""));for(var f=a.ToNumberArray(this.parent.attribute("dx").value),g=0;g<h.length;g++){var l=this.getGlyph(d,h,g),c=c+(l.horizAdvX||d.horizAdvX)*b/d.fontFace.unitsPerEm;"undefined"==typeof f[g]||isNaN(f[g])||(c+=f[g])}return c}d=a.compressSpaces(this.getText());if(!b.measureText)return 10*d.length;b.save();this.setContext(b);d=b.measureText(d).width;b.restore();return d}};a.Element.TextElementBase.prototype=new a.Element.RenderedElementBase;a.Element.tspan=function(c){this.captureTextNodes=!0;this.base=a.Element.TextElementBase;this.base(c);this.text=a.compressSpaces(c.value||c.text||c.textContent||"");this.getText=function(){return 0<this.children.length?"":this.text}};a.Element.tspan.prototype=new a.Element.TextElementBase;a.Element.tref=function(c){this.base=a.Element.TextElementBase;this.base(c);this.getText=function(){var a=this.getHrefAttribute().getDefinition();if(null!=a)return a.children[0].getText()}};a.Element.tref.prototype=new a.Element.TextElementBase;a.Element.a=function(c){this.base=a.Element.TextElementBase;this.base(c);this.hasText=0<c.childNodes.length;for(var b=0;b<c.childNodes.length;b++)3!=c.childNodes[b].nodeType&&(this.hasText=!1);this.text=this.hasText?c.childNodes[0].value:"";this.getText=function(){return this.text};this.baseRenderChildren=this.renderChildren;this.renderChildren=function(b){if(this.hasText){this.baseRenderChildren(b);var d=new a.Property("fontSize",a.Font.Parse(a.ctx.font).fontSize);a.Mouse.checkBoundingBox(this,new a.BoundingBox(this.x,this.y-d.toPixels("y"),this.x+this.measureText(b),this.y))}else 0<this.children.length&&(d=new a.Element.g,d.children=this.children,d.parent=this,d.render(b))};this.onclick=function(){window.open(this.getHrefAttribute().value)};this.onmousemove=function(){a.ctx.canvas.style.cursor="pointer"}};a.Element.a.prototype=new a.Element.TextElementBase;a.Element.image=function(c){this.base=a.Element.RenderedElementBase;this.base(c);var b=this.getHrefAttribute().value;if(""!=b){var d=b.match(/\.svg$/);a.Images.push(this);this.loaded=!1;if(d)this.img=a.ajax(b),this.loaded=!0;else{this.img=document.createElement("img");1==a.opts.useCORS&&(this.img.crossOrigin="Anonymous");var e=this;this.img.onload=function(){e.loaded=!0};this.img.onerror=function(){a.log('ERROR: image "'+b+'" not found');e.loaded=!0};this.img.src=b}this.renderChildren=function(b){var c=this.attribute("x").toPixels("x"),e=this.attribute("y").toPixels("y"),l=this.attribute("width").toPixels("x"),h=this.attribute("height").toPixels("y");0!=l&&0!=h&&(b.save(),d?b.drawSvg(this.img,c,e,l,h):(b.translate(c,e),a.AspectRatio(b,this.attribute("preserveAspectRatio").value,l,this.img.width,h,this.img.height,0,0),b.drawImage(this.img,0,0)),b.restore())};this.getBoundingBox=function(){var b=this.attribute("x").toPixels("x"),d=this.attribute("y").toPixels("y"),c=this.attribute("width").toPixels("x"),e=this.attribute("height").toPixels("y");return new a.BoundingBox(b,d,b+c,d+e)}}};a.Element.image.prototype=new a.Element.RenderedElementBase;a.Element.g=function(c){this.base=a.Element.RenderedElementBase;this.base(c);this.getBoundingBox=function(){for(var b=new a.BoundingBox,d=0;d<this.children.length;d++)b.addBoundingBox(this.children[d].getBoundingBox());return b}};a.Element.g.prototype=new a.Element.RenderedElementBase;a.Element.symbol=function(c){this.base=a.Element.RenderedElementBase;this.base(c);this.render=function(a){}};a.Element.symbol.prototype=new a.Element.RenderedElementBase;a.Element.style=function(c){this.base=a.Element.ElementBase;this.base(c);for(var b="",d=0;d<c.childNodes.length;d++)b+=c.childNodes[d].data;b=b.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"");b=a.compressSpaces(b);c=b.split("}");for(d=0;d<c.length;d++)if(""!=a.trim(c[d]))for(var e=c[d].split("{"),b=e[0].split(","),e=e[1].split(";"),h=0;h<b.length;h++){var f=a.trim(b[h]);if(""!=f){for(var g=a.Styles[f]||{},l=0;l<e.length;l++){var m=e[l].indexOf(":"),p=e[l].substr(0,m),m=e[l].substr(m+1,e[l].length-m);null!=p&&null!=m&&(g[a.trim(p)]=new a.Property(a.trim(p),a.trim(m)))}a.Styles[f]=g;a.StylesSpecificity[f]=z(f);if("@font-face"==f)for(f=g["font-family"].value.replace(/"/g,""),g=g.src.value.split(","),l=0;l<g.length;l++)if(0<g[l].indexOf('format("svg")'))for(p=g[l].indexOf("url"),m=g[l].indexOf(")",p),p=g[l].substr(p+5,m-p-6),p=a.parseXml(a.ajax(p)).getElementsByTagName("font"),m=0;m<p.length;m++){var k=a.CreateElement(p[m]);a.Definitions[f]=k}}}};a.Element.style.prototype=new a.Element.ElementBase;a.Element.use=function(c){this.base=a.Element.RenderedElementBase;this.base(c);this.baseSetContext=this.setContext;this.setContext=function(a){this.baseSetContext(a);this.attribute("x").hasValue()&&a.translate(this.attribute("x").toPixels("x"),0);this.attribute("y").hasValue()&&a.translate(0,this.attribute("y").toPixels("y"))};var b=this.getHrefAttribute().getDefinition();this.path=function(a){null!=b&&b.path(a)};this.getBoundingBox=function(){if(null!=b)return b.getBoundingBox()};this.renderChildren=function(d){if(null!=b){var c=b;"symbol"==b.type&&(c=new a.Element.svg,c.type="svg",c.attributes.viewBox=new a.Property("viewBox",b.attribute("viewBox").value),c.attributes.preserveAspectRatio=new a.Property("preserveAspectRatio",b.attribute("preserveAspectRatio").value),c.attributes.overflow=new a.Property("overflow",b.attribute("overflow").value),c.children=b.children);"svg"==c.type&&(this.attribute("width").hasValue()&&(c.attributes.width=new a.Property("width",this.attribute("width").value)),this.attribute("height").hasValue()&&(c.attributes.height=new a.Property("height",this.attribute("height").value)));var h=c.parent;c.parent=null;c.render(d);c.parent=h}}};a.Element.use.prototype=new a.Element.RenderedElementBase;a.Element.mask=function(c){this.base=a.Element.ElementBase;this.base(c);this.apply=function(b,d){var c=this.attribute("x").toPixels("x"),h=this.attribute("y").toPixels("y"),f=this.attribute("width").toPixels("x"),g=this.attribute("height").toPixels("y");if(0==f&&0==g){g=new a.BoundingBox;for(c=0;c<this.children.length;c++)g.addBoundingBox(this.children[c].getBoundingBox());c=Math.floor(g.x1);h=Math.floor(g.y1);f=Math.floor(g.width());g=Math.floor(g.height())}var l=d.attribute("mask").value;d.attribute("mask").value="";var m=document.createElement("canvas");m.width=c+f;m.height=h+g;var p=m.getContext("2d");this.renderChildren(p);var k=document.createElement("canvas");k.width=c+f;k.height=h+g;var n=k.getContext("2d");d.render(n);n.globalCompositeOperation="destination-in";n.fillStyle=p.createPattern(m,"no-repeat");n.fillRect(0,0,c+f,h+g);b.fillStyle=n.createPattern(k,"no-repeat");b.fillRect(0,0,c+f,h+g);d.attribute("mask").value=l};this.render=function(a){}};a.Element.mask.prototype=new a.Element.ElementBase;a.Element.clipPath=function(c){this.base=a.Element.ElementBase;this.base(c);this.apply=function(b){var d=CanvasRenderingContext2D.prototype.beginPath;CanvasRenderingContext2D.prototype.beginPath=function(){};var c=CanvasRenderingContext2D.prototype.closePath;CanvasRenderingContext2D.prototype.closePath=function(){};d.call(b);for(var h=0;h<this.children.length;h++){var f=this.children[h];if("undefined"!=typeof f.path){var g=null;f.style("transform",!1,!0).hasValue()&&(g=new a.Transform(f.style("transform",!1,!0).value),g.apply(b));f.path(b);CanvasRenderingContext2D.prototype.closePath=c;
g&&g.unapply(b)}}c.call(b);b.clip();CanvasRenderingContext2D.prototype.beginPath=d;CanvasRenderingContext2D.prototype.closePath=c};this.render=function(a){}};a.Element.clipPath.prototype=new a.Element.ElementBase;a.Element.filter=function(c){this.base=a.Element.ElementBase;this.base(c);this.apply=function(a,c){var b=c.getBoundingBox(),d=Math.floor(b.x1),f=Math.floor(b.y1),g=Math.floor(b.width()),b=Math.floor(b.height()),l=c.style("filter").value;c.style("filter").value="";for(var m=0,p=0,k=0;k<this.children.length;k++)var n=this.children[k].extraFilterDistance||0,m=Math.max(m,n),p=Math.max(p,n);n=document.createElement("canvas");n.width=g+2*m;n.height=b+2*p;var v=n.getContext("2d");v.translate(-d+m,-f+p);c.render(v);for(k=0;k<this.children.length;k++)"function"==typeof this.children[k].apply&&this.children[k].apply(v,0,0,g+2*m,b+2*p);a.drawImage(n,0,0,g+2*m,b+2*p,d-m,f-p,g+2*m,b+2*p);c.style("filter",!0).value=l};this.render=function(a){}};a.Element.filter.prototype=new a.Element.ElementBase;a.Element.feMorphology=function(c){this.base=a.Element.ElementBase;this.base(c);this.apply=function(a,c,e,h,f){}};a.Element.feMorphology.prototype=new a.Element.ElementBase;a.Element.feComposite=function(c){this.base=a.Element.ElementBase;this.base(c);this.apply=function(a,c,e,h,f){}};a.Element.feComposite.prototype=new a.Element.ElementBase;a.Element.feColorMatrix=function(c){function b(a,b){var c=d[a];return c*(0>c?b-255:b)}this.base=a.Element.ElementBase;this.base(c);var d=a.ToNumberArray(this.attribute("values").value);switch(this.attribute("type").valueOrDefault("matrix")){case"saturate":c=d[0];d=[.213+.787*c,.715-.715*c,.072-.072*c,0,0,.213-.213*c,.715+.285*c,.072-.072*c,0,0,.213-.213*c,.715-.715*c,.072+.928*c,0,0,0,0,0,1,0,0,0,0,0,1];break;case"hueRotate":var e=d[0]*Math.PI/180;c=function(a,b,c){return a+Math.cos(e)*b+Math.sin(e)*c};d=[c(.213,.787,-.213),c(.715,-.715,-.715),c(.072,-.072,.928),0,0,c(.213,-.213,.143),c(.715,.285,.14),c(.072,-.072,-.283),0,0,c(.213,-.213,-.787),c(.715,-.715,.715),c(.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break;case"luminanceToAlpha":d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1]}this.apply=function(a,c,d,e,m){var f=a.getImageData(0,0,e,m);for(d=0;d<m;d++)for(c=0;c<e;c++){var g=f.data[d*e*4+4*c+0],l=f.data[d*e*4+4*c+1],h=f.data[d*e*4+4*c+2],k=f.data[d*e*4+4*c+3],n=b(0,g)+b(1,l)+b(2,h)+b(3,k)+b(4,1);f.data[d*e*4+4*c+0]=n;n=b(5,g)+b(6,l)+b(7,h)+b(8,k)+b(9,1);f.data[d*e*4+4*c+1]=n;n=b(10,g)+b(11,l)+b(12,h)+b(13,k)+b(14,1);f.data[d*e*4+4*c+2]=n;g=b(15,g)+b(16,l)+b(17,h)+b(18,k)+b(19,1);f.data[d*e*4+4*c+3]=g}a.clearRect(0,0,e,m);a.putImageData(f,0,0)}};a.Element.feColorMatrix.prototype=new a.Element.ElementBase;a.Element.feGaussianBlur=function(c){this.base=a.Element.ElementBase;this.base(c);this.extraFilterDistance=this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue());this.apply=function(b,c,e,h,f){"undefined"==typeof x.canvasRGBA?a.log("ERROR: StackBlur.js must be included for blur to work"):(b.canvas.id=a.UniqueId(),b.canvas.style.display="none",document.body.appendChild(b.canvas),x.canvasRGBA(b.canvas.id,c,e,h,f,this.blurRadius),document.body.removeChild(b.canvas))}};a.Element.feGaussianBlur.prototype=new a.Element.ElementBase;a.Element.title=function(a){};a.Element.title.prototype=new a.Element.ElementBase;a.Element.desc=function(a){};a.Element.desc.prototype=new a.Element.ElementBase;a.Element.MISSING=function(c){a.log("ERROR: Element '"+c.nodeName+"' not yet implemented.")};a.Element.MISSING.prototype=new a.Element.ElementBase;a.CreateElement=function(c){var b=c.nodeName.replace(/^[^:]+:/,""),b=b.replace(/\-/g,""),b="undefined"!=typeof a.Element[b]?new a.Element[b](c):new a.Element.MISSING(c);b.type=c.nodeName;return b};a.load=function(c,b){a.loadXml(c,a.ajax(b))};a.loadXml=function(c,b){a.loadXmlDoc(c,a.parseXml(b))};a.loadXmlDoc=function(c,b){a.init(c);var d=function(a){for(var b=c.canvas;b;)a.x-=b.offsetLeft,a.y-=b.offsetTop,b=b.offsetParent;window.scrollX&&(a.x+=window.scrollX);window.scrollY&&(a.y+=window.scrollY);return a};1!=a.opts.ignoreMouse&&(c.canvas.onclick=function(b){b=d(new a.Point(null!=b?b.clientX:event.clientX,null!=b?b.clientY:event.clientY));a.Mouse.onclick(b.x,b.y)},c.canvas.onmousemove=function(b){b=d(new a.Point(null!=b?b.clientX:event.clientX,null!=b?b.clientY:event.clientY));a.Mouse.onmousemove(b.x,b.y)});var e=a.CreateElement(b.documentElement);e.root=!0;e.addStylesFromStyleDefinition();var h=!0,f=function(){a.ViewPort.Clear();c.canvas.parentNode&&a.ViewPort.SetCurrent(c.canvas.parentNode.clientWidth,c.canvas.parentNode.clientHeight);1!=a.opts.ignoreDimensions&&(e.style("width").hasValue()&&(c.canvas.width=e.style("width").toPixels("x"),c.canvas.style.width=c.canvas.width+"px"),e.style("height").hasValue()&&(c.canvas.height=e.style("height").toPixels("y"),c.canvas.style.height=c.canvas.height+"px"));var d=c.canvas.clientWidth||c.canvas.width,f=c.canvas.clientHeight||c.canvas.height;1==a.opts.ignoreDimensions&&e.style("width").hasValue()&&e.style("height").hasValue()&&(d=e.style("width").toPixels("x"),f=e.style("height").toPixels("y"));a.ViewPort.SetCurrent(d,f);null!=a.opts.offsetX&&(e.attribute("x",!0).value=a.opts.offsetX);null!=a.opts.offsetY&&(e.attribute("y",!0).value=a.opts.offsetY);if(null!=a.opts.scaleWidth||null!=a.opts.scaleHeight){var g=null,k=null,n=a.ToNumberArray(e.attribute("viewBox").value);null!=a.opts.scaleWidth&&(e.attribute("width").hasValue()?g=e.attribute("width").toPixels("x")/a.opts.scaleWidth:isNaN(n[2])||(g=n[2]/a.opts.scaleWidth));null!=a.opts.scaleHeight&&(e.attribute("height").hasValue()?k=e.attribute("height").toPixels("y")/a.opts.scaleHeight:isNaN(n[3])||(k=n[3]/a.opts.scaleHeight));null==g&&(g=k);null==k&&(k=g);e.attribute("width",!0).value=a.opts.scaleWidth;e.attribute("height",!0).value=a.opts.scaleHeight;e.style("transform",!0,!0).value+=" scale("+1/g+","+1/k+")"}1!=a.opts.ignoreClear&&c.clearRect(0,0,d,f);e.render(c);h&&(h=!1,"function"==typeof a.opts.renderCallback&&a.opts.renderCallback(b))},g=!0;a.ImagesLoaded()&&(g=!1,f());a.intervalID=setInterval(function(){var b=!1;g&&a.ImagesLoaded()&&(g=!1,b=!0);1!=a.opts.ignoreMouse&&(b|=a.Mouse.hasEvents());if(1!=a.opts.ignoreAnimation)for(var c=0;c<a.Animations.length;c++)b|=a.Animations[c].update(1e3/a.FRAMERATE);"function"==typeof a.opts.forceRedraw&&1==a.opts.forceRedraw()&&(b=!0);b&&(f(),a.Mouse.runEvents())},1e3/a.FRAMERATE)};a.stop=function(){a.intervalID&&clearInterval(a.intervalID)};a.Mouse=new function(){this.events=[];this.hasEvents=function(){return 0!=this.events.length};this.onclick=function(a,b){this.events.push({type:"onclick",x:a,y:b,run:function(a){if(a.onclick)a.onclick()}})};this.onmousemove=function(a,b){this.events.push({type:"onmousemove",x:a,y:b,run:function(a){if(a.onmousemove)a.onmousemove()}})};this.eventElements=[];this.checkPath=function(a,b){for(var c=0;c<this.events.length;c++){var e=this.events[c];b.isPointInPath&&b.isPointInPath(e.x,e.y)&&(this.eventElements[c]=a)}};this.checkBoundingBox=function(a,b){for(var c=0;c<this.events.length;c++){var e=this.events[c];b.isPointInBox(e.x,e.y)&&(this.eventElements[c]=a)}};this.runEvents=function(){a.ctx.canvas.style.cursor="";for(var c=0;c<this.events.length;c++)for(var b=this.events[c],d=this.eventElements[c];d;)b.run(d),d=d.parent;this.events=[];this.eventElements=[]}};return a}var y=function(k,a,n){if(null==k&&null==a&&null==n)for(a=document.querySelectorAll("svg"),k=0;k<a.length;k++){n=a[k];var c=document.createElement("canvas");c.width=n.clientWidth;c.height=n.clientHeight;n.parentNode.insertBefore(c,n);n.parentNode.removeChild(n);var b=document.createElement("div");b.appendChild(n);y(c,b.innerHTML)}else{"string"==typeof k&&(k=document.getElementById(k));null!=k.svg&&k.svg.stop();n=H(n||{});if(1!=k.childNodes.length||"OBJECT"!=k.childNodes[0].nodeName)k.svg=n;k=k.getContext("2d");"undefined"!=typeof a.documentElement?n.loadXmlDoc(k,a):"<"==a.substr(0,1)?n.loadXml(k,a):n.load(k,a)}},t;if("undefined"!=typeof Element.prototype.matches)t=function(k,a){return k.matches(a)};else if("undefined"!=typeof Element.prototype.webkitMatchesSelector)t=function(k,a){return k.webkitMatchesSelector(a)};else if("undefined"!=typeof Element.prototype.mozMatchesSelector)t=function(k,a){return k.mozMatchesSelector(a)};else if("undefined"!=typeof Element.prototype.msMatchesSelector)t=function(k,a){return k.msMatchesSelector(a)};else if("undefined"!=typeof Element.prototype.oMatchesSelector)t=function(k,a){return k.oMatchesSelector(a)};else{if("function"===typeof jQuery||"function"===typeof Zepto)t=function(k,a){return $(k).is(a)};"undefined"===typeof t&&(t=Sizzle.matchesSelector)}var A=/(\[[^\]]+\])/g,B=/(#[^\s\+>~\.\[:]+)/g,C=/(\.[^\s\+>~\.\[:]+)/g,D=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,E=/(:[\w-]+\([^\)]*\))/gi,F=/(:[^\s\+>~\.\[:]+)/g,G=/([^\s\+>~\.\[:]+)/g;"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(k,a,n,c,b,d){a={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:a,offsetY:n,scaleWidth:c,scaleHeight:b};for(var e in d)d.hasOwnProperty(e)&&(a[e]=d[e]);y(this.canvas,k,a)});return y});(function(J){var k=/[\.\/]/,K=/\s*,\s*/,I=function(e,d){return e-d},h,e,H={n:{}},A=function(){for(var e=0,d=this.length;e<d;e++)if("undefined"!=typeof this[e])return this[e]},D=function(){for(var e=this.length;--e;)if("undefined"!=typeof this[e])return this[e]},u=function(k,d){k=String(k);var c=e,l=Array.prototype.slice.call(arguments,2),C=u.listeners(k),t=0,a,v=[],p={},r=[],n=h;r.firstDefined=A;r.lastDefined=D;h=k;for(var z=e=0,x=C.length;z<x;z++)"zIndex"in C[z]&&(v.push(C[z].zIndex),0>C[z].zIndex&&(p[C[z].zIndex]=C[z]));for(v.sort(I);0>v[t];)if(a=p[v[t++]],r.push(a.apply(d,l)),e)return e=c,r;for(z=0;z<x;z++)if(a=C[z],"zIndex"in a)if(a.zIndex==v[t]){r.push(a.apply(d,l));if(e)break;do if(t++,(a=p[v[t]])&&r.push(a.apply(d,l)),e)break;while(a)}else p[a.zIndex]=a;else if(r.push(a.apply(d,l)),e)break;e=c;h=n;return r};u._events=H;u.listeners=function(e){e=e.split(k);var d=H,c,l,h,t,a,v,p,r=[d],n=[];h=0;for(t=e.length;h<t;h++){p=[];a=0;for(v=r.length;a<v;a++)for(d=r[a].n,c=[d[e[h]],d["*"]],l=2;l--;)if(d=c[l])p.push(d),n=n.concat(d.f||[]);r=p}return n};u.on=function(e,d){e=String(e);if("function"!=typeof d)return function(){};for(var c=e.split(K),l=0,h=c.length;l<h;l++)(function(c){c=c.split(k);for(var a=H,e,l=0,r=c.length;l<r;l++)a=a.n,a=a.hasOwnProperty(c[l])&&a[c[l]]||(a[c[l]]={n:{}});a.f=a.f||[];l=0;for(r=a.f.length;l<r;l++)if(a.f[l]==d){e=!0;break}!e&&a.f.push(d)})(c[l]);return function(c){+c==+c&&(d.zIndex=+c)}};u.f=function(e){var d=[].slice.call(arguments,1);return function(){u.apply(null,[e,null].concat(d).concat([].slice.call(arguments,0)))}};u.stop=function(){e=1};u.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(h):h};u.nts=function(){return h.split(k)};u.off=u.unbind=function(e,d){if(e){var c=e.split(K);if(1<c.length)for(var l=0,h=c.length;l<h;l++)u.off(c[l],d);else{for(var c=e.split(k),t,a,v,p,r=[H],l=0,h=c.length;l<h;l++)for(p=0;p<r.length;p+=v.length-2){v=[p,1];t=r[p].n;if("*"!=c[l])t[c[l]]&&v.push(t[c[l]]);else for(a in t)t.hasOwnProperty(a)&&v.push(t[a]);r.splice.apply(r,v)}l=0;for(h=r.length;l<h;l++)for(t=r[l];t.n;){if(d){if(t.f){p=0;for(c=t.f.length;p<c;p++)if(t.f[p]==d){t.f.splice(p,1);break}!t.f.length&&delete t.f}for(a in t.n)if(t.n.hasOwnProperty(a)&&t.n[a].f){v=t.n[a].f;p=0;for(c=v.length;p<c;p++)if(v[p]==d){v.splice(p,1);break}!v.length&&delete t.n[a].f}}else for(a in delete t.f,t.n)t.n.hasOwnProperty(a)&&t.n[a].f&&delete t.n[a].f;t=t.n}}}else u._events=H={n:{}}};u.once=function(e,d){var c=function(){u.unbind(e,c);return d.apply(this,arguments)};return u.on(e,c)};u.version="0.4.2";u.toString=function(){return"You are running Eve 0.4.2"};J.eve=u})(this);(function(J,k){k(J,J.eve)})(window||this,function(J,k){var K=function(h){var e={},k=J.requestAnimationFrame||J.webkitRequestAnimationFrame||J.mozRequestAnimationFrame||J.oRequestAnimationFrame||J.msRequestAnimationFrame||function(a){setTimeout(a,16)},A=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},D=0,u="M"+(+new Date).toString(36),y=function(a){if(null==a)return this.s;var r=this.s-a;this.b+=this.dur*r;this.B+=this.dur*r;this.s=a},d=function(a){if(null==a)return this.spd;this.spd=a},c=function(a){if(null==a)return this.dur;this.s=this.s*a/this.dur;this.dur=a},l=function(){delete e[this.id];this.update();h("mina.stop."+this.id,this)},C=function(){this.pdif||(delete e[this.id],this.update(),this.pdif=this.get()-this.b)},t=function(){this.pdif&&(this.b=this.get()-this.pdif,delete this.pdif,e[this.id]=this)},a=function(){var a;if(A(this.start)){a=[];for(var c=0,e=this.start.length;c<e;c++)a[c]=+this.start[c]+(this.end[c]-this.start[c])*this.easing(this.s)}else a=+this.start+(this.end-this.start)*this.easing(this.s);this.set(a)},v=function(){var a=0,c;for(c in e)if(e.hasOwnProperty(c)){var d=e[c],l=d.get();a++;d.s=(l-d.b)/(d.dur/d.spd);1<=d.s&&(delete e[c],d.s=1,a--,function(b){setTimeout(function(){h("mina.finish."+b.id,b)})}(d));d.update()}a&&k(v)},p=function(r,h,z,x,b,q,E){r={id:u+(D++).toString(36),start:r,end:h,b:z,s:0,dur:x-z,spd:1,get:b,set:q,easing:E||p.linear,status:y,speed:d,duration:c,stop:l,pause:C,resume:t,update:a};e[r.id]=r;h=0;for(var n in e)if(e.hasOwnProperty(n)&&(h++,2==h))break;1==h&&k(v);return r};p.time=Date.now||function(){return+new Date};p.getById=function(a){return e[a]||null};p.linear=function(a){return a};p.easeout=function(a){return Math.pow(a,1.7)};p.easein=function(a){return Math.pow(a,.48)};p.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var c=.48-a/1.04,e=Math.sqrt(.1734+c*c);a=e-c;c=-e-c;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1)+Math.pow(Math.abs(c),1/3)*(0>c?-1:1)+.5;return 3*(1-a)*a*a+a*a*a};p.backin=function(a){return 1==a?1:a*a*(2.70158*a-1.70158)};p.backout=function(a){if(0==a)return 0;--a;return a*a*(2.70158*a+1.70158)+1};p.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};p.bounce=function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a};return J.mina=p}("undefined"==typeof k?function(){}:k),I=function(h){function e(f,b){if(f){if(f.nodeType)return p(f);if(A(f,"array")&&e.set)return e.set.apply(e,f);if(f instanceof C)return f;if(null==b)return f=n.doc.querySelector(String(f)),p(f)}return new v(null==f?"100%":f,null==b?"100%":b)}function H(f,b){if(b){"#text"==f&&(f=n.doc.createTextNode(b.text||b["#text"]||""));"#comment"==f&&(f=n.doc.createComment(b.text||b["#text"]||""));"string"==typeof f&&(f=H(f));if("string"==typeof b)return 1==f.nodeType?"xlink:"==b.substring(0,6)?f.getAttributeNS(I,b.substring(6)):"xml:"==b.substring(0,4)?f.getAttributeNS(K,b.substring(4)):f.getAttribute(b):"text"==b?f.nodeValue:null;if(1==f.nodeType)for(var a in b){if(b[z](a)){var B=x(b[a]);B?"xlink:"==a.substring(0,6)?f.setAttributeNS(I,a.substring(6),B):"xml:"==a.substring(0,4)?f.setAttributeNS(K,a.substring(4),B):f.setAttribute(a,B):f.removeAttribute(a)}}else"text"in b&&(f.nodeValue=b.text)}else f=n.doc.createElementNS(K,f);return f}function A(f,b){b=x.prototype.toLowerCase.call(b);return"finite"==b?isFinite(f):"array"==b&&(f instanceof Array||Array.isArray&&Array.isArray(f))?!0:"null"==b&&null===f||b==typeof f&&null!==f||"object"==b&&f===Object(f)||Z.call(f).slice(8,-1).toLowerCase()==b}function D(f){if("function"==typeof f||Object(f)!==f)return f;var b=new f.constructor,a;for(a in f)f[z](a)&&(b[a]=D(f[a]));return b}function u(f,b,a){function B(){var w=Array.prototype.slice.call(arguments,0),m=w.join(""),c=B.cache=B.cache||{},q=B.count=B.count||[];if(c[z](m)){a:for(var w=q,q=m,ha=0,e=w.length;ha<e;ha++)if(w[ha]===q){w.push(w.splice(ha,1)[0]);break a}return a?a(c[m]):c[m]}1e3<=q.length&&delete c[q.shift()];q.push(m);c[m]=f.apply(b,w);return a?a(c[m]):c[m]}return B}function y(f,b,a,m,c,q){return null==c?(f-=a,b-=m,f||b?(180*E.atan2(-b,-f)/Y+540)%360:0):y(f,b,c,q)-y(a,m,c,q)}function d(f){return f%360*Y/180}function c(f){return f.node.ownerSVGElement&&p(f.node.ownerSVGElement)||e.select("svg")}function l(f){A(f,"array")||(f=Array.prototype.slice.call(arguments,0));for(var b=0,a=0,m=this.node;this[b];)delete this[b++];for(b=0;b<f.length;b++)"set"==f[b].type?f[b].forEach(function(f){m.appendChild(f.node)}):m.appendChild(f[b].node);for(var c=m.childNodes,b=0;b<c.length;b++)this[a++]=p(c[b]);return this}function C(f){if(f.snap in L)return L[f.snap];var b;try{b=f.ownerSVGElement}catch(ha){}this.node=f;b&&(this.paper=new v(b));this.type=f.tagName||f.nodeName;b=this.id=W(this);this.anims={};this._={transform:[]};f.snap=b;L[b]=this;"g"==this.type&&(this.add=l);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var a in v.prototype)v.prototype[z](a)&&(this[a]=v.prototype[a])}function t(f){this.node=f}function a(f,b){var a=H(f);b.appendChild(a);return p(a)}function v(f,b){var w,B,m,c=v.prototype;if(f&&"svg"==f.tagName){if(f.snap in L)return L[f.snap];var q=f.ownerDocument;w=new C(f);B=f.getElementsByTagName("desc")[0];m=f.getElementsByTagName("defs")[0];B||(B=H("desc"),B.appendChild(q.createTextNode("Created with Snap")),w.node.appendChild(B));m||(m=H("defs"),w.node.appendChild(m));w.defs=m;for(var e in c)c[z](e)&&(w[e]=c[e]);w.paper=w.root=w}else w=a("svg",n.doc.body),H(w.node,{height:b,version:1.1,width:f,xmlns:K});return w}function p(f){return!f||f instanceof C||f instanceof t?f:f.tagName&&"svg"==f.tagName.toLowerCase()?new v(f):f.tagName&&"object"==f.tagName.toLowerCase()&&"image/svg+xml"==f.type?new v(f.contentDocument.getElementsByTagName("svg")[0]):new C(f)}function r(f,b){for(var a=0,B=f.length;a<B;a++){var m={type:f[a].type,attr:f[a].attr()},c=f[a].children();b.push(m);c.length&&r(c,m.childNodes=[])}}e.version="0.4.0";e.toString=function(){return"Snap v"+this.version};e._={};var n={win:h.window,doc:h.window.document};e._.glob=n;var z="hasOwnProperty",x=String,b=parseFloat,q=parseInt,E=Math,S=E.max,Q=E.min,X=E.abs,Y=E.PI,Z=Object.prototype.toString,aa=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;e._.separator=/[,\s]+/;var ka=/[\s]*,[\s]*/,ra={hs:1,rg:1},F=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,N=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,T=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,R=0,J="S"+(+new Date).toString(36),W=function(f){return(f&&f.type?f.type:"")+J+(R++).toString(36)},I="http://www.w3.org/1999/xlink",K="http://www.w3.org/2000/svg",L={};e.url=function(f){return"url('#"+f+"')"};e._.$=H;e._.id=W;e.format=function(){var f=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,a=function(f,a,w){var B=w;a.replace(b,function(f,b,a,w,m){b=b||w;B&&(b in B&&(B=B[b]),"function"==typeof B&&m&&(B=B()))});return B=(null==B||B==w?f:B)+""};return function(b,B){return x(b).replace(f,function(f,b){return a(f,b,B)})}}();e._.clone=D;e._.cacher=u;e.rad=d;e.deg=function(f){return 180*f/Y%360};e.sin=function(f){return E.sin(e.rad(f))};e.tan=function(f){return E.tan(e.rad(f))};e.cos=function(f){return E.cos(e.rad(f))};e.asin=function(f){return e.deg(E.asin(f))};e.acos=function(f){return e.deg(E.acos(f))};e.atan=function(f){return e.deg(E.atan(f))};e.atan2=function(f){return e.deg(E.atan2(f))};e.angle=y;e.len=function(f,b,a,m){return Math.sqrt(e.len2(f,b,a,m))};e.len2=function(f,b,a,m){return(f-a)*(f-a)+(b-m)*(b-m)};e.closestPoint=function(f,b,a){function B(f){var B=f.x-b;f=f.y-a;return B*B+f*f}f=f.node;for(var m=f.getTotalLength(),w=m/f.pathSegList.numberOfItems*.125,c,q,e=Infinity,d,l=0,h;l<=m;l+=w)(h=B(d=f.getPointAtLength(l)))<e&&(c=d,q=l,e=h);for(w*=.5;.5<w;){var r,n,O,E,t,v;0<=(O=q-w)&&(t=B(r=f.getPointAtLength(O)))<e?(c=r,q=O,e=t):(E=q+w)<=m&&(v=B(n=f.getPointAtLength(E)))<e?(c=n,q=E,e=v):w*=.5}return c={x:c.x,y:c.y,length:q,distance:Math.sqrt(e)}};e.is=A;e.snapTo=function(f,b,a){a=A(a,"finite")?a:10;if(A(f,"array"))for(var B=f.length;B--;){if(X(f[B]-b)<=a)return f[B]}else{f=+f;B=b%f;if(B<a)return b-B;if(B>f-a)return b-B+f}return b};e.getRGB=u(function(f){if(!f||(f=x(f)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:O};if("none"==f)return{r:-1,g:-1,b:-1,hex:"none",toString:O};!ra[z](f.toLowerCase().substring(0,2))&&"#"!=f.charAt()&&(f=m(f));if(!f)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:O};var a,w,c,d,G;if(f=f.match(aa)){f[2]&&(c=q(f[2].substring(5),16),w=q(f[2].substring(3,5),16),a=q(f[2].substring(1,3),16));f[3]&&(c=q((G=f[3].charAt(3))+G,16),w=q((G=f[3].charAt(2))+G,16),a=q((G=f[3].charAt(1))+G,16));f[4]&&(G=f[4].split(ka),a=b(G[0]),"%"==G[0].slice(-1)&&(a*=2.55),w=b(G[1]),"%"==G[1].slice(-1)&&(w*=2.55),c=b(G[2]),"%"==G[2].slice(-1)&&(c*=2.55),"rgba"==f[1].toLowerCase().slice(0,4)&&(d=b(G[3])),G[3]&&"%"==G[3].slice(-1)&&(d/=100));if(f[5])return G=f[5].split(ka),a=b(G[0]),"%"==G[0].slice(-1)&&(a/=100),w=b(G[1]),"%"==G[1].slice(-1)&&(w/=100),c=b(G[2]),"%"==G[2].slice(-1)&&(c/=100),"deg"!=G[0].slice(-3)&&""!=G[0].slice(-1)||(a/=360),"hsba"==f[1].toLowerCase().slice(0,4)&&(d=b(G[3])),G[3]&&"%"==G[3].slice(-1)&&(d/=100),e.hsb2rgb(a,w,c,d);if(f[6])return G=f[6].split(ka),a=b(G[0]),"%"==G[0].slice(-1)&&(a/=100),w=b(G[1]),"%"==G[1].slice(-1)&&(w/=100),c=b(G[2]),"%"==G[2].slice(-1)&&(c/=100),"deg"!=G[0].slice(-3)&&""!=G[0].slice(-1)||(a/=360),"hsla"==f[1].toLowerCase().slice(0,4)&&(d=b(G[3])),G[3]&&"%"==G[3].slice(-1)&&(d/=100),e.hsl2rgb(a,w,c,d);a=Q(E.round(a),255);w=Q(E.round(w),255);c=Q(E.round(c),255);d=Q(S(d,0),1);f={r:a,g:w,b:c,toString:O};f.hex="#"+(16777216|c|w<<8|a<<16).toString(16).slice(1);f.opacity=A(d,"finite")?d:1;return f}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:O}},e);e.hsb=u(function(f,b,a){return e.hsb2rgb(f,b,a).hex});e.hsl=u(function(f,b,a){return e.hsl2rgb(f,b,a).hex});e.rgb=u(function(f,b,a,m){if(A(m,"finite")){var c=E.round;return"rgba("+[c(f),c(b),c(a),+m.toFixed(2)]+")"}return"#"+(16777216|a|b<<8|f<<16).toString(16).slice(1)});var m=function(f){var b=n.doc.getElementsByTagName("head")[0]||n.doc.getElementsByTagName("svg")[0];m=u(function(f){if("red"==f.toLowerCase())return"rgb(255, 0, 0)";b.style.color="rgb(255, 0, 0)";b.style.color=f;f=n.doc.defaultView.getComputedStyle(b,"").getPropertyValue("color");return"rgb(255, 0, 0)"==f?null:f});return m(f)},la=function(){return"hsb("+[this.h,this.s,this.b]+")"},ma=function(){return"hsl("+[this.h,this.s,this.l]+")"},O=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},M=function(f,b,a){null==b&&A(f,"object")&&"r"in f&&"g"in f&&"b"in f&&(a=f.b,b=f.g,f=f.r);null==b&&A(f,string)&&(a=e.getRGB(f),f=a.r,b=a.g,a=a.b);if(1<f||1<b||1<a)f/=255,b/=255,a/=255;return[f,b,a]},pa=function(f,b,a,m){f=E.round(255*f);b=E.round(255*b);a=E.round(255*a);f={r:f,g:b,b:a,opacity:A(m,"finite")?m:1,hex:e.rgb(f,b,a),toString:O};A(m,"finite")&&(f.opacity=m);return f};e.color=function(f){var b;A(f,"object")&&"h"in f&&"s"in f&&"b"in f?(b=e.hsb2rgb(f),f.r=b.r,f.g=b.g,f.b=b.b,f.opacity=1,f.hex=b.hex):A(f,"object")&&"h"in f&&"s"in f&&"l"in f?(b=e.hsl2rgb(f),f.r=b.r,f.g=b.g,f.b=b.b,f.opacity=1,f.hex=b.hex):(A(f,"string")&&(f=e.getRGB(f)),A(f,"object")&&"r"in f&&"g"in f&&"b"in f&&!("error"in f)?(b=e.rgb2hsl(f),f.h=b.h,f.s=b.s,f.l=b.l,b=e.rgb2hsb(f),f.v=b.b):(f={hex:"none"},f.r=f.g=f.b=f.h=f.s=f.v=f.l=-1,f.error=1));f.toString=O;return f};e.hsb2rgb=function(f,b,a,m){A(f,"object")&&"h"in f&&"s"in f&&"b"in f&&(a=f.b,b=f.s,m=f.o,f=f.h);var c,q,w;f=360*f%360/60;w=a*b;b=w*(1-X(f%2-1));a=c=q=a-w;f=~~f;a+=[w,b,0,0,b,w][f];c+=[b,w,w,b,0,0][f];q+=[0,0,b,w,w,b][f];return pa(a,c,q,m)};e.hsl2rgb=function(f,b,a,m){A(f,"object")&&"h"in f&&"s"in f&&"l"in f&&(a=f.l,b=f.s,f=f.h);if(1<f||1<b||1<a)f/=360,b/=100,a/=100;var c,q,w;f=360*f%360/60;w=2*b*(.5>a?a:1-a);b=w*(1-X(f%2-1));a=c=q=a-w/2;f=~~f;a+=[w,b,0,0,b,w][f];c+=[b,w,w,b,0,0][f];q+=[0,0,b,w,w,b][f];return pa(a,c,q,m)};e.rgb2hsb=function(f,b,a){a=M(f,b,a);f=a[0];b=a[1];a=a[2];var m,c;m=S(f,b,a);c=m-Q(f,b,a);return{h:((0==c?null:m==f?(b-a)/c:m==b?(a-f)/c+2:(f-b)/c+4)+360)%6*60/360,s:0==c?0:c/m,b:m,toString:la}};e.rgb2hsl=function(f,b,a){a=M(f,b,a);f=a[0];b=a[1];a=a[2];var m,c,q;c=S(f,b,a);m=Q(f,b,a);q=c-m;m=(c+m)/2;return{h:((0==q?null:c==f?(b-a)/q:c==b?(a-f)/q+2:(f-b)/q+4)+360)%6*60/360,s:0==q?0:.5>m?q/(2*m):q/(2-2*m),l:m,toString:ma}};e.parsePathString=function(b){if(!b)return null;var f=e.path(b);if(f.arr)return e.path.clone(f.arr);var a={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},m=[];A(b,"array")&&A(b[0],"array")&&(m=e.path.clone(b));m.length||x(b).replace(F,function(b,f,c){var q=[];b=f.toLowerCase();c.replace(T,function(b,f){f&&q.push(+f)});"m"==b&&2<q.length&&(m.push([f].concat(q.splice(0,2))),b="l",f="m"==f?"l":"L");"o"==b&&1==q.length&&m.push([f,q[0]]);if("r"==b)m.push([f].concat(q));else for(;q.length>=a[b]&&(m.push([f].concat(q.splice(0,a[b]))),a[b]););});m.toString=e.path.toString;f.arr=e.path.clone(m);return m};var ta=e.parseTransformString=function(b){if(!b)return null;var f=[];A(b,"array")&&A(b[0],"array")&&(f=e.path.clone(b));f.length||x(b).replace(N,function(b,a,m){var c=[];a.toLowerCase();m.replace(T,function(b,f){f&&c.push(+f)});f.push([a].concat(c))});f.toString=e.path.toString;return f};e._.svgTransform2string=function(b){var f=[];b=b.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(b,a,m){m=m.split(/\s*,\s*|\s+/);"rotate"==a&&1==m.length&&m.push(0,0);"scale"==a&&(2<m.length?m=m.slice(0,2):2==m.length&&m.push(0,0),1==m.length&&m.push(m[0],0,0));"skewX"==a?f.push(["m",1,0,E.tan(d(m[0])),1,0,0]):"skewY"==a?f.push(["m",1,E.tan(d(m[0])),0,1,0,0]):f.push([a.charAt(0)].concat(m));return b});return f};e._.rgTransform=/^[a-z][\s]*-?\.?\d/i;e._.transform2matrix=function(b,a){var f=ta(b),m=new e.Matrix;if(f)for(var c=0,q=f.length;c<q;c++){var d=f[c],l=d.length,h=x(d[0]).toLowerCase(),B=d[0]!=h,r=B?m.invert():0,n;"t"==h&&2==l?m.translate(d[1],0):"t"==h&&3==l?B?(l=r.x(0,0),h=r.y(0,0),B=r.x(d[1],d[2]),r=r.y(d[1],d[2]),m.translate(B-l,r-h)):m.translate(d[1],d[2]):"r"==h?2==l?(n=n||a,m.rotate(d[1],n.x+n.width/2,n.y+n.height/2)):4==l&&(B?(B=r.x(d[2],d[3]),r=r.y(d[2],d[3]),m.rotate(d[1],B,r)):m.rotate(d[1],d[2],d[3])):"s"==h?2==l||3==l?(n=n||a,m.scale(d[1],d[l-1],n.x+n.width/2,n.y+n.height/2)):4==l?B?(B=r.x(d[2],d[3]),r=r.y(d[2],d[3]),m.scale(d[1],d[1],B,r)):m.scale(d[1],d[1],d[2],d[3]):5==l&&(B?(B=r.x(d[3],d[4]),r=r.y(d[3],d[4]),m.scale(d[1],d[2],B,r)):m.scale(d[1],d[2],d[3],d[4])):"m"==h&&7==l&&m.add(d[1],d[2],d[3],d[4],d[5],d[6])}return m};e._unit2px=function(b,a,m){function f(b){if(null==b)return"";if(b==+b)return b;H(l,{width:b});try{return l.getBBox().width}catch(sa){return 0}}function q(b){if(null==b)return"";if(b==+b)return b;H(l,{height:b});try{return l.getBBox().height}catch(sa){return 0}}function d(f,c){null==a?w[f]=c(b.attr(f)||0):f==a&&(w=c(null==m?b.attr(f)||0:m))}var e=c(b).node,w={},l=e.querySelector(".svg---mgr");l||(l=H("rect"),H(l,{x:-9e9,y:-9e9,width:10,height:10,class:"svg---mgr",fill:"none"}),e.appendChild(l));switch(b.type){case"rect":d("rx",f),d("ry",q);case"image":d("width",f),d("height",q);case"text":d("x",f);d("y",q);break;case"circle":d("cx",f);d("cy",q);d("r",f);break;case"ellipse":d("cx",f);d("cy",q);d("rx",f);d("ry",q);break;case"line":d("x1",f);d("x2",f);d("y1",q);d("y2",q);break;case"marker":d("refX",f);d("markerWidth",f);d("refY",q);d("markerHeight",q);break;case"radialGradient":d("fx",f);d("fy",q);break;case"tspan":d("dx",f);d("dy",q);break;default:d(a,f)}e.removeChild(l);return w};e._.getSomeDefs=function(b){b=b.node.ownerSVGElement&&p(b.node.ownerSVGElement)||b.node.parentNode&&p(b.node.parentNode)||e.select("svg")||e(0,0);var f=b.select("defs"),f=null==f?!1:f.node;f||(f=a("defs",b.node).node);return f};e._.getSomeSVG=c;e.select=function(b){b=x(b).replace(/([^\\]):/g,"$1\\:");return p(n.doc.querySelector(b))};e.selectAll=function(b){b=n.doc.querySelectorAll(b);for(var f=(e.set||Array)(),a=0;a<b.length;a++)f.push(p(b[a]));return f};setInterval(function(){for(var b in L)if(L[z](b)){var a=L[b],m=a.node;("svg"!=a.type&&!m.ownerSVGElement||"svg"==a.type&&(!m.parentNode||"ownerSVGElement"in m.parentNode&&!m.ownerSVGElement))&&delete L[b]}},1e4);C.prototype.attr=function(b,a){var f=this.node;if(!b){if(1!=f.nodeType)return{text:f.nodeValue};for(var m=f.attributes,f={},c=0,q=m.length;c<q;c++)f[m[c].nodeName]=m[c].nodeValue;return f}if(A(b,"string"))if(1<arguments.length)f={},f[b]=a,b=f;else return k("snap.util.getattr."+b,this).firstDefined();for(m in b)b[z](m)&&k("snap.util.attr."+m,this,b[m]);return this};e.parse=function(b){var f=n.doc.createDocumentFragment(),a=!0,m=n.doc.createElement("div");b=x(b);b.match(/^\s*<\s*svg(?:\s|>)/)||(b="<svg>"+b+"</svg>",a=!1);m.innerHTML=b;if(b=m.getElementsByTagName("svg")[0])if(a)f=b;else for(;b.firstChild;)f.appendChild(b.firstChild);return new t(f)};e.fragment=function(){for(var b=Array.prototype.slice.call(arguments,0),a=n.doc.createDocumentFragment(),m=0,c=b.length;m<c;m++){var q=b[m];q.node&&q.node.nodeType&&a.appendChild(q.node);q.nodeType&&a.appendChild(q);"string"==typeof q&&a.appendChild(e.parse(q).node)}return new t(a)};e._.make=a;e._.wrap=p;v.prototype.el=function(b,m){var f=a(b,this.node);m&&f.attr(m);return f};C.prototype.children=function(){for(var b=[],a=this.node.childNodes,m=0,c=a.length;m<c;m++)b[m]=e(a[m]);return b};C.prototype.toJSON=function(){var b=[];r([this],b);return b[0]};k.on("snap.util.getattr",function(){var b=k.nt(),b=b.substring(b.lastIndexOf(".")+1),a=b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()});return qa[z](a)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(a):H(this.node,b)});var qa={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};k.on("snap.util.attr",function(b){var f=k.nt(),a={},f=f.substring(f.lastIndexOf(".")+1);a[f]=b;var m=f.replace(/-(\w)/gi,function(b,f){return f.toUpperCase()}),f=f.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()});qa[z](f)?this.node.style[m]=null==b?"":b:H(this.node,a)});e.ajax=function(b,a,m,c){var f=new XMLHttpRequest,q=W();if(f){if(A(a,"function"))c=m,m=a,a=null;else if(A(a,"object")){var d=[],e;for(e in a)a.hasOwnProperty(e)&&d.push(encodeURIComponent(e)+"="+encodeURIComponent(a[e]));a=d.join("&")}f.open(a?"POST":"GET",b,!0);a&&(f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"));m&&(k.once("snap.ajax."+q+".0",m),k.once("snap.ajax."+q+".200",m),k.once("snap.ajax."+q+".304",m));f.onreadystatechange=function(){4==f.readyState&&k("snap.ajax."+q+"."+f.status,c,f)};if(4==f.readyState)return f;f.send(a);return f}};e.load=function(b,a,m){e.ajax(b,function(b){b=e.parse(b.responseText);m?a.call(m,b):a(b)})};e.getElementByPoint=function(b,a){var f,m,c=n.doc.elementFromPoint(b,a);if(n.win.opera&&"svg"==c.tagName){
f=c;m=f.getBoundingClientRect();f=f.ownerDocument;var q=f.body,d=f.documentElement;f=m.top+(g.win.pageYOffset||d.scrollTop||q.scrollTop)-(d.clientTop||q.clientTop||0);m=m.left+(g.win.pageXOffset||d.scrollLeft||q.scrollLeft)-(d.clientLeft||q.clientLeft||0);q=c.createSVGRect();q.x=b-m;q.y=a-f;q.width=q.height=1;f=c.getIntersectionList(q,null);f.length&&(c=f[f.length-1])}return c?p(c):null};e.plugin=function(b){b(e,C,v,n,t)};return n.win.Snap=e}(J||this);I.plugin(function(h,e,H,A,D){function u(b,a){if(null==a){var c=!0;a="linearGradient"==b.type||"radialGradient"==b.type?b.node.getAttribute("gradientTransform"):"pattern"==b.type?b.node.getAttribute("patternTransform"):b.node.getAttribute("transform");if(!a)return new h.Matrix;a=h._.svgTransform2string(a)}else a=h._.rgTransform.test(a)?C(a).replace(/\.{3}|\u2026/g,b._.transform||""):h._.svgTransform2string(a),l(a,"array")&&(a=h.path?h.path.toString.call(a):C(a)),b._.transform=a;var q=h._.transform2matrix(a,b.getBBox(1));if(c)return q;b.matrix=q}function y(b){function c(b,c){var d=a(b.node,c);(d=(d=d&&d.match(h))&&d[2])&&"#"==d.charAt()&&(d=d.substring(1))&&(r[d]=(r[d]||[]).concat(function(d){var q={};q[c]=URL(d);a(b.node,q)}))}function d(b){var c=a(b.node,"xlink:href");c&&"#"==c.charAt()&&(c=c.substring(1))&&(r[c]=(r[c]||[]).concat(function(a){b.attr("xlink:href","#"+a)}))}var e=b.selectAll("*"),l,h=/^\s*url\(("|'|)(.*)\1\)\s*$/;b=[];for(var r={},n=0,t=e.length;n<t;n++){l=e[n];c(l,"fill");c(l,"stroke");c(l,"filter");c(l,"mask");c(l,"clip-path");d(l);var v=a(l.node,"id");v&&(a(l.node,{id:l.id}),b.push({old:v,id:l.id}))}n=0;for(t=b.length;n<t;n++)if(e=r[b[n].old])for(l=0,v=e.length;l<v;l++)e[l](b[n].id)}function d(b,a,c){return function(d){d=d.slice(b,a);1==d.length&&(d=d[0]);return c?c(d):d}}function c(b){return function(){var a=b?"<"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(b)for(var e=0,l=c.length;e<l;e++)a+=" "+c[e].name+'="'+c[e].value.replace(/"/g,'\\"')+'"';if(d.length){b&&(a+=">");e=0;for(l=d.length;e<l;e++)3==d[e].nodeType?a+=d[e].nodeValue:1==d[e].nodeType&&(a+=r(d[e]).toString());b&&(a+="</"+this.type+">")}else b&&(a+="/>");return a}}e=e.prototype;var l=h.is,C=String,t=h._unit2px,a=h._.$,v=h._.make,p=h._.getSomeDefs,r=h._.wrap;e.getBBox=function(b){if(!h.Matrix||!h.path)return this.node.getBBox();var a=this,c=new h.Matrix;if(a.removed)return h._.box();for(;"use"==a.type;)if(b||(c=c.add(a.transform().localMatrix.translate(a.attr("x")||0,a.attr("y")||0))),a.original)a=a.original;else var d=a.attr("xlink:href"),a=a.original=a.node.ownerDocument.getElementById(d.substring(d.indexOf("#")+1));var d=a._,e=h.path.get[a.type]||h.path.get.deflt;try{if(b)return d.bboxwt=e?h.path.getBBox(a.realPath=e(a)):h._.box(a.node.getBBox()),h._.box(d.bboxwt);a.realPath=e(a);a.matrix=a.transform().localMatrix;d.bbox=h.path.getBBox(h.path.map(a.realPath,c.add(a.matrix)));return h._.box(d.bbox)}catch(X){return h._.box()}};var n=function(){return this.string};e.transform=function(b){var c=this._;if(null==b){var d=this;b=new h.Matrix(this.node.getCTM());for(var e=u(this),l=[e],r=new h.Matrix,v=e.toTransformString(),c=C(e)==C(this.matrix)?C(c.transform):v;"svg"!=d.type&&(d=d.parent());)l.push(u(d));for(d=l.length;d--;)r.add(l[d]);return{string:c,globalMatrix:b,totalMatrix:r,localMatrix:e,diffMatrix:b.clone().add(e.invert()),global:b.toTransformString(),total:r.toTransformString(),local:v,toString:n}}b instanceof h.Matrix?(this.matrix=b,this._.transform=b.toTransformString()):u(this,b);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?a(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?a(this.node,{patternTransform:this.matrix}):a(this.node,{transform:this.matrix}));return this};e.parent=function(){return r(this.node.parentNode)};e.append=e.add=function(b){if(b){if("set"==b.type){var a=this;b.forEach(function(b){a.add(b)});return this}b=r(b);this.node.appendChild(b.node);b.paper=this.paper}return this};e.appendTo=function(b){b&&(b=r(b),b.append(this));return this};e.prepend=function(b){if(b){if("set"==b.type){var a=this,c;b.forEach(function(b){c?c.after(b):a.prepend(b);c=b});return this}b=r(b);var d=b.parent();this.node.insertBefore(b.node,this.node.firstChild);this.add&&this.add();b.paper=this.paper;this.parent()&&this.parent().add();d&&d.add()}return this};e.prependTo=function(b){b=r(b);b.prepend(this);return this};e.before=function(b){if("set"==b.type){var a=this;b.forEach(function(b){var c=b.parent();a.node.parentNode.insertBefore(b.node,a.node);c&&c.add()});this.parent().add();return this}b=r(b);var c=b.parent();this.node.parentNode.insertBefore(b.node,this.node);this.parent()&&this.parent().add();c&&c.add();b.paper=this.paper;return this};e.after=function(b){b=r(b);var a=b.parent();this.node.nextSibling?this.node.parentNode.insertBefore(b.node,this.node.nextSibling):this.node.parentNode.appendChild(b.node);this.parent()&&this.parent().add();a&&a.add();b.paper=this.paper;return this};e.insertBefore=function(b){b=r(b);var a=this.parent();b.node.parentNode.insertBefore(this.node,b.node);this.paper=b.paper;a&&a.add();b.parent()&&b.parent().add();return this};e.insertAfter=function(b){b=r(b);var a=this.parent();b.node.parentNode.insertBefore(this.node,b.node.nextSibling);this.paper=b.paper;a&&a.add();b.parent()&&b.parent().add();return this};e.remove=function(){var b=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;b&&b.add();return this};e.select=function(b){return r(this.node.querySelector(b))};e.selectAll=function(b){b=this.node.querySelectorAll(b);for(var a=(h.set||Array)(),c=0;c<b.length;c++)a.push(r(b[c]));return a};e.asPX=function(b,a){null==a&&(a=this.attr(b));return+t(this,b,a)};e.use=function(){var b,c=this.node.id;c||(c=this.id,a(this.node,{id:c}));b="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?v(this.type,this.node.parentNode):v("use",this.node.parentNode);a(b.node,{"xlink:href":"#"+c});b.original=this;return b};e.clone=function(){var b=r(this.node.cloneNode(!0));a(b.node,"id")&&a(b.node,{id:b.id});y(b);b.insertAfter(this);return b};e.toDefs=function(){p(this).appendChild(this.node);return this};e.pattern=e.toPattern=function(b,c,d,e){var q=v("pattern",p(this));null==b&&(b=this.getBBox());l(b,"object")&&"x"in b&&(c=b.y,d=b.width,e=b.height,b=b.x);a(q.node,{x:b,y:c,width:d,height:e,patternUnits:"userSpaceOnUse",id:q.id,viewBox:[b,c,d,e].join(" ")});q.node.appendChild(this.node);return q};e.marker=function(b,c,d,e,r,h){var q=v("marker",p(this));null==b&&(b=this.getBBox());l(b,"object")&&"x"in b&&(c=b.y,d=b.width,e=b.height,r=b.refX||b.cx,h=b.refY||b.cy,b=b.x);a(q.node,{viewBox:[b,c,d,e].join(" "),markerWidth:d,markerHeight:e,orient:"auto",refX:r||0,refY:h||0,id:q.id});q.node.appendChild(this.node);return q};var z=function(b,a,c,d){"function"!=typeof c||c.length||(d=c,c=K.linear);this.attr=b;this.dur=a;c&&(this.easing=c);d&&(this.callback=d)};h._.Animation=z;h.animation=function(b,a,c,d){return new z(b,a,c,d)};e.inAnim=function(){var b=[],a;for(a in this.anims)this.anims.hasOwnProperty(a)&&function(a){b.push({anim:new z(a._attrs,a.dur,a.easing,a._callback),mina:a,curStatus:a.status(),status:function(b){return a.status(b)},stop:function(){a.stop()}})}(this.anims[a]);return b};h.animate=function(b,a,c,d,e,l){"function"!=typeof e||e.length||(l=e,e=K.linear);var q=K.time();b=K(b,a,q,q+d,K.time,c,e);l&&k.once("mina.finish."+b.id,l);return b};e.stop=function(){for(var b=this.inAnim(),a=0,c=b.length;a<c;a++)b[a].stop();return this};e.animate=function(b,a,c,e){"function"!=typeof c||c.length||(e=c,c=K.linear);b instanceof z&&(e=b.callback,c=b.easing,a=b.dur,b=b.attr);var q=[],r=[],h={},n,v,t,p=this,x;for(x in b)if(b.hasOwnProperty(x)){p.equal?(t=p.equal(x,C(b[x])),n=t.from,v=t.to,t=t.f):(n=+p.attr(x),v=+b[x]);var E=l(n,"array")?n.length:1;h[x]=d(q.length,q.length+E,t);q=q.concat(n);r=r.concat(v)}n=K.time();var u=K(q,r,n,n+a,K.time,function(b){var a={},c;for(c in h)h.hasOwnProperty(c)&&(a[c]=h[c](b));p.attr(a)},c);p.anims[u.id]=u;u._attrs=b;u._callback=e;k("snap.animcreated."+p.id,u);k.once("mina.finish."+u.id,function(){delete p.anims[u.id];e&&e.call(p)});k.once("mina.stop."+u.id,function(){delete p.anims[u.id]});return p};var x={};e.data=function(b,a){var c=x[this.id]=x[this.id]||{};if(0==arguments.length)return k("snap.data.get."+this.id,this,c,null),c;if(1==arguments.length){if(h.is(b,"object")){for(var d in b)b.hasOwnProperty(d)&&this.data(d,b[d]);return this}k("snap.data.get."+this.id,this,c[b],b);return c[b]}c[b]=a;k("snap.data.set."+this.id,this,a,b);return this};e.removeData=function(b){null==b?x[this.id]={}:x[this.id]&&delete x[this.id][b];return this};e.outerSVG=e.toString=c(1);e.innerSVG=c();e.toDataURL=function(){if(J&&J.btoa){var b=this.getBBox(),b=h.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+b.x.toFixed(3),y:+b.y.toFixed(3),width:+b.width.toFixed(3),height:+b.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(b)))}};D.prototype.select=e.select;D.prototype.selectAll=e.selectAll});I.plugin(function(h,e,k,A,D){function u(c,d,e,a,h,p){null==d&&"[object SVGMatrix]"==y.call(c)?(this.a=c.a,this.b=c.b,this.c=c.c,this.d=c.d,this.e=c.e,this.f=c.f):null!=c?(this.a=+c,this.b=+d,this.c=+e,this.d=+a,this.e=+h,this.f=+p):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var y=Object.prototype.toString,d=String,c=Math;(function(e){function l(a){return a[0]*a[0]+a[1]*a[1]}function t(a){var d=c.sqrt(l(a));a[0]&&(a[0]/=d);a[1]&&(a[1]/=d)}e.add=function(a,c,d,e,l,h){var r=[[],[],[]],b=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];c=[[a,d,l],[c,e,h],[0,0,1]];a&&a instanceof u&&(c=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(d=0;3>d;d++){for(e=l=0;3>e;e++)l+=b[a][e]*c[e][d];r[a][d]=l}this.a=r[0][0];this.b=r[1][0];this.c=r[0][1];this.d=r[1][1];this.e=r[0][2];this.f=r[1][2];return this};e.invert=function(){var a=this.a*this.d-this.b*this.c;return new u(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};e.clone=function(){return new u(this.a,this.b,this.c,this.d,this.e,this.f)};e.translate=function(a,c){return this.add(1,0,0,1,a,c)};e.scale=function(a,c,d,e){null==c&&(c=a);(d||e)&&this.add(1,0,0,1,d,e);this.add(a,0,0,c,0,0);(d||e)&&this.add(1,0,0,1,-d,-e);return this};e.rotate=function(a,d,e){a=h.rad(a);d=d||0;e=e||0;var l=+c.cos(a).toFixed(9);a=+c.sin(a).toFixed(9);this.add(l,a,-a,l,d,e);return this.add(1,0,0,1,-d,-e)};e.x=function(a,c){return a*this.a+c*this.c+this.e};e.y=function(a,c){return a*this.b+c*this.d+this.f};e.get=function(a){return+this[d.fromCharCode(97+a)].toFixed(4)};e.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};e.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};e.determinant=function(){return this.a*this.d-this.b*this.c};e.split=function(){var a={};a.dx=this.e;a.dy=this.f;var d=[[this.a,this.c],[this.b,this.d]];a.scalex=c.sqrt(l(d[0]));t(d[0]);a.shear=d[0][0]*d[1][0]+d[0][1]*d[1][1];d[1]=[d[1][0]-d[0][0]*a.shear,d[1][1]-d[0][1]*a.shear];a.scaley=c.sqrt(l(d[1]));t(d[1]);a.shear/=a.scaley;0>this.determinant()&&(a.scalex=-a.scalex);var e=-d[0][1],d=d[1][1];0>d?(a.rotate=h.deg(c.acos(d)),0>e&&(a.rotate=360-a.rotate)):a.rotate=h.deg(c.asin(e));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};e.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(u.prototype);h.Matrix=u;h.matrix=function(c,d,e,a,h,p){return new u(c,d,e,a,h,p)}});I.plugin(function(h,e,H,A,D){function u(b){return function(c){k.stop();c instanceof D&&1==c.node.childNodes.length&&("radialGradient"==c.node.firstChild.tagName||"linearGradient"==c.node.firstChild.tagName||"pattern"==c.node.firstChild.tagName)&&(c=c.node.firstChild,a(this).appendChild(c),c=C(c));if(c instanceof e)if("radialGradient"==c.type||"linearGradient"==c.type||"pattern"==c.type){c.node.id||p(c.node,{id:c.id});var d=r(c.node.id)}else d=c.attr(b);else d=h.color(c),d.error?(d=h(a(this).ownerSVGElement).gradient(c))?(d.node.id||p(d.node,{id:d.id}),d=r(d.node.id)):d=c:d=n(d);c={};c[b]=d;p(this.node,c);this.node.style[b]=""}}function y(b){k.stop();b==+b&&(b+="px");this.node.style.fontSize=b}function d(b){var a=[];b=b.childNodes;for(var c=0,e=b.length;c<e;c++){var l=b[c];3==l.nodeType&&a.push(l.nodeValue);"tspan"==l.tagName&&(1==l.childNodes.length&&3==l.firstChild.nodeType?a.push(l.firstChild.nodeValue):a.push(d(l)))}return a}function c(){k.stop();return this.node.style.fontSize}var l=h._.make,C=h._.wrap,t=h.is,a=h._.getSomeDefs,v=/^url\(#?([^)]+)\)$/,p=h._.$,r=h.url,n=String,z=h._.separator;k.on("snap.util.attr.mask",function(b){if(b instanceof e||b instanceof D){k.stop();b instanceof D&&1==b.node.childNodes.length&&(b=b.node.firstChild,a(this).appendChild(b),b=C(b));if("mask"==b.type)var c=b;else c=l("mask",a(this)),c.node.appendChild(b.node);!c.node.id&&p(c.node,{id:c.id});p(this.node,{mask:r(c.id)})}});(function(b){k.on("snap.util.attr.clip",b);k.on("snap.util.attr.clip-path",b);k.on("snap.util.attr.clipPath",b)})(function(b){if(b instanceof e||b instanceof D){k.stop();if("clipPath"==b.type)var c=b;else c=l("clipPath",a(this)),c.node.appendChild(b.node),!c.node.id&&p(c.node,{id:c.id});p(this.node,{"clip-path":r(c.node.id||c.id)})}});k.on("snap.util.attr.fill",u("fill"));k.on("snap.util.attr.stroke",u("stroke"));var x=/^([lr])(?:\(([^)]*)\))?(.*)$/i;k.on("snap.util.grad.parse",function(b){b=n(b);var a=b.match(x);if(!a)return null;b=a[1];var c=a[2],a=a[3],c=c.split(/\s*,\s*/).map(function(b){return+b==b?+b:b});1==c.length&&0==c[0]&&(c=[]);a=a.split("-");a=a.map(function(b){b=b.split(":");var a={color:b[0]};b[1]&&(a.offset=parseFloat(b[1]));return a});return{type:b,params:c,stops:a}});k.on("snap.util.attr.d",function(b){k.stop();t(b,"array")&&t(b[0],"array")&&(b=h.path.toString.call(b));b=n(b);b.match(/[ruo]/i)&&(b=h.path.toAbsolute(b));p(this.node,{d:b})})(-1);k.on("snap.util.attr.#text",function(b){k.stop();b=n(b);for(b=A.doc.createTextNode(b);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(b)})(-1);k.on("snap.util.attr.path",function(b){k.stop();this.attr({d:b})})(-1);k.on("snap.util.attr.class",function(b){k.stop();this.node.className.baseVal=b})(-1);k.on("snap.util.attr.viewBox",function(b){b=t(b,"object")&&"x"in b?[b.x,b.y,b.width,b.height].join(" "):t(b,"array")?b.join(" "):b;p(this.node,{viewBox:b});k.stop()})(-1);k.on("snap.util.attr.transform",function(b){this.transform(b);k.stop()})(-1);k.on("snap.util.attr.r",function(b){"rect"==this.type&&(k.stop(),p(this.node,{rx:b,ry:b}))})(-1);k.on("snap.util.attr.textpath",function(b){k.stop();if("text"==this.type){var c,d;if(!b&&this.textPath){for(b=this.textPath;b.node.firstChild;)this.node.appendChild(b.node.firstChild);b.remove();delete this.textPath}else if(t(b,"string")?(c=a(this),b=C(c.parentNode).path(b),c.appendChild(b.node),c=b.id,b.attr({id:c})):(b=C(b),b instanceof e&&(c=b.attr("id"),c||(c=b.id,b.attr({id:c})))),c)if(b=this.textPath,d=this.node,b)b.attr({"xlink:href":"#"+c});else{for(b=p("textPath",{"xlink:href":"#"+c});d.firstChild;)b.appendChild(d.firstChild);d.appendChild(b);this.textPath=C(b)}}})(-1);k.on("snap.util.attr.text",function(b){if("text"==this.type){for(var a=this.node,c=function(b){var a=p("tspan");if(t(b,"array"))for(var d=0;d<b.length;d++)a.appendChild(c(b[d]));else a.appendChild(A.doc.createTextNode(b));a.normalize&&a.normalize();return a};a.firstChild;)a.removeChild(a.firstChild);for(b=c(b);b.firstChild;)a.appendChild(b.firstChild)}k.stop()})(-1);k.on("snap.util.attr.fontSize",y)(-1);k.on("snap.util.attr.font-size",y)(-1);k.on("snap.util.getattr.transform",function(){k.stop();return this.transform()})(-1);k.on("snap.util.getattr.textpath",function(){k.stop();return this.textPath})(-1);(function(){function b(b){return function(){k.stop();var a=A.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+b);return"none"==a?a:h(A.doc.getElementById(a.match(v)[1]))}}function a(b){return function(a){k.stop();var c="marker"+b.charAt(0).toUpperCase()+b.substring(1);if(""==a||!a)this.node.style[c]="none";else if("marker"==a.type){var d=a.node.id;d||p(a.node,{id:a.id});this.node.style[c]=r(d)}}}k.on("snap.util.getattr.marker-end",b("end"))(-1);k.on("snap.util.getattr.markerEnd",b("end"))(-1);k.on("snap.util.getattr.marker-start",b("start"))(-1);k.on("snap.util.getattr.markerStart",b("start"))(-1);k.on("snap.util.getattr.marker-mid",b("mid"))(-1);k.on("snap.util.getattr.markerMid",b("mid"))(-1);k.on("snap.util.attr.marker-end",a("end"))(-1);k.on("snap.util.attr.markerEnd",a("end"))(-1);k.on("snap.util.attr.marker-start",a("start"))(-1);k.on("snap.util.attr.markerStart",a("start"))(-1);k.on("snap.util.attr.marker-mid",a("mid"))(-1);k.on("snap.util.attr.markerMid",a("mid"))(-1)})();k.on("snap.util.getattr.r",function(){if("rect"==this.type&&p(this.node,"rx")==p(this.node,"ry"))return k.stop(),p(this.node,"rx")})(-1);k.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){k.stop();var b=d(this.node);return 1==b.length?b[0]:b}})(-1);k.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);k.on("snap.util.getattr.viewBox",function(){k.stop();var b=p(this.node,"viewBox");if(b)return b=b.split(z),h._.box(+b[0],+b[1],+b[2],+b[3])})(-1);k.on("snap.util.getattr.points",function(){var b=p(this.node,"points");k.stop();if(b)return b.split(z)})(-1);k.on("snap.util.getattr.path",function(){var b=p(this.node,"d");k.stop();return b})(-1);k.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);k.on("snap.util.getattr.fontSize",c)(-1);k.on("snap.util.getattr.font-size",c)(-1)});I.plugin(function(h,e,k,A,D){var u=/\S+/g,y=String;h=e.prototype;h.addClass=function(d){var c=y(d||"").match(u)||[];d=this.node;var e=d.className.baseVal,h=e.match(u)||[],t,a,v;if(c.length){for(t=0;v=c[t++];)a=h.indexOf(v),~a||h.push(v);c=h.join(" ");e!=c&&(d.className.baseVal=c)}return this};h.removeClass=function(d){var c=y(d||"").match(u)||[];d=this.node;var e=d.className.baseVal,h=e.match(u)||[],t,a;if(h.length){for(t=0;a=c[t++];)a=h.indexOf(a),~a&&h.splice(a,1);c=h.join(" ");e!=c&&(d.className.baseVal=c)}return this};h.hasClass=function(d){return!!~(this.node.className.baseVal.match(u)||[]).indexOf(d)};h.toggleClass=function(d,c){if(null!=c)return c?this.addClass(d):this.removeClass(d);var e=(d||"").match(u)||[],h=this.node,t=h.className.baseVal,a=t.match(u)||[],v,p,r;for(v=0;r=e[v++];)p=a.indexOf(r),~p?a.splice(p,1):a.push(r);e=a.join(" ");t!=e&&(h.className.baseVal=e);return this}});I.plugin(function(h,e,H,A,D){function u(c){return c}function y(c){return function(a){return+a.toFixed(3)+c}}var d={"+":function(c,a){return c+a},"-":function(c,a){return c-a},"/":function(c,a){return c/a},"*":function(c,a){return c*a}},c=String,l=/[a-z]+$/i,C=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;k.on("snap.util.attr",function(e){if(e=c(e).match(C)){var a=k.nt(),a=a.substring(a.lastIndexOf(".")+1),h=this.attr(a),t={};k.stop();var r=e[3]||"",n=h.match(l),z=d[e[1]];n&&n==r?e=z(parseFloat(h),+e[2]):(h=this.asPX(a),e=z(this.asPX(a),this.asPX(a,e[2]+r)));isNaN(h)||isNaN(e)||(t[a]=e,this.attr(t))}})(-10);k.on("snap.util.equal",function(e,a){var h=c(this.attr(e)||""),t=c(a).match(C);if(t){k.stop();var r=t[3]||"",n=h.match(l),z=d[t[1]];if(n&&n==r)return{from:parseFloat(h),to:z(parseFloat(h),+t[2]),f:y(n)};h=this.asPX(e);return{from:h,to:z(h,this.asPX(e,t[2]+r)),f:u}}})(-10)});I.plugin(function(h,e,H,A,D){var u=H.prototype,y=h.is;u.rect=function(c,d,e,h,a,v){var l;null==v&&(v=a);y(c,"object")&&"[object Object]"==c?l=c:null!=c&&(l={x:c,y:d,width:e,height:h},null!=a&&(l.rx=a,l.ry=v));return this.el("rect",l)};u.circle=function(c,d,e){var h;y(c,"object")&&"[object Object]"==c?h=c:null!=c&&(h={cx:c,cy:d,r:e});return this.el("circle",h)};var d=function(){function c(){this.parentNode.removeChild(this)}return function(d,e){var h=A.doc.createElement("img"),a=A.doc.body;h.style.cssText="position:absolute;left:-9999em;top:-9999em";h.onload=function(){e.call(h);h.onload=h.onerror=null;a.removeChild(h)};h.onerror=c;a.appendChild(h);h.src=d}}();u.image=function(c,e,k,t,a){var l=this.el("image");if(y(c,"object")&&"src"in c)l.attr(c);else if(null!=c){var p={"xlink:href":c,preserveAspectRatio:"none"};null!=e&&null!=k&&(p.x=e,p.y=k);null!=t&&null!=a?(p.width=t,p.height=a):d(c,function(){h._.$(l.node,{width:this.offsetWidth,height:this.offsetHeight})});h._.$(l.node,p)}return l};u.ellipse=function(c,d,e,h){var a;y(c,"object")&&"[object Object]"==c?a=c:null!=c&&(a={cx:c,cy:d,rx:e,ry:h});return this.el("ellipse",a)};u.path=function(c){var d;y(c,"object")&&!y(c,"array")?d=c:c&&(d={d:c});return this.el("path",d)};u.group=u.g=function(c){var d=this.el("g");1==arguments.length&&c&&!c.type?d.attr(c):arguments.length&&d.add(Array.prototype.slice.call(arguments,0));return d};u.svg=function(c,d,e,h,a,v,p,r){var l={};y(c,"object")&&null==d?l=c:(null!=c&&(l.x=c),null!=d&&(l.y=d),null!=e&&(l.width=e),null!=h&&(l.height=h),null!=a&&null!=v&&null!=p&&null!=r&&(l.viewBox=[a,v,p,r]));return this.el("svg",l)};u.mask=function(c){var d=this.el("mask");1==arguments.length&&c&&!c.type?d.attr(c):arguments.length&&d.add(Array.prototype.slice.call(arguments,0));return d};u.ptrn=function(c,d,e,h,a,v,p,r){if(y(c,"object"))var l=c;else l={patternUnits:"userSpaceOnUse"},c&&(l.x=c),d&&(l.y=d),null!=e&&(l.width=e),null!=h&&(l.height=h),l.viewBox=null!=a&&null!=v&&null!=p&&null!=r?[a,v,p,r]:[c||0,d||0,e||0,h||0];return this.el("pattern",l)};u.use=function(c){return null!=c?(c instanceof e&&(c.attr("id")||c.attr({id:h._.id(c)}),c=c.attr("id")),"#"==String(c).charAt()&&(c=c.substring(1)),this.el("use",{"xlink:href":"#"+c})):e.prototype.use.call(this)};u.symbol=function(c,d,e,h){var a={};null!=c&&null!=d&&null!=e&&null!=h&&(a.viewBox=[c,d,e,h]);return this.el("symbol",a)};u.text=function(c,d,e){var h={};y(c,"object")?h=c:null!=c&&(h={x:c,y:d,text:e||""});return this.el("text",h)};u.line=function(c,d,e,h){var a={};y(c,"object")?a=c:null!=c&&(a={x1:c,x2:e,y1:d,y2:h});return this.el("line",a)};u.polyline=function(c){1<arguments.length&&(c=Array.prototype.slice.call(arguments,0));var d={};y(c,"object")&&!y(c,"array")?d=c:null!=c&&(d={points:c});return this.el("polyline",d)};u.polygon=function(c){1<arguments.length&&(c=Array.prototype.slice.call(arguments,0));var d={};y(c,"object")&&!y(c,"array")?d=c:null!=c&&(d={points:c});return this.el("polygon",d)};(function(){function c(){return this.selectAll("stop")}function d(a,c){var d=p("stop"),e={offset:+c+"%"};a=h.color(a);e["stop-color"]=a.hex;1>a.opacity&&(e["stop-opacity"]=a.opacity);p(d,e);this.node.appendChild(d);return this}function e(){if("linearGradient"==this.type){var a=p(this.node,"x1")||0,c=p(this.node,"x2")||1,d=p(this.node,"y1")||0,e=p(this.node,"y2")||0;return h._.box(a,d,math.abs(c-a),math.abs(e-d))}a=this.node.r||0;return h._.box((this.node.cx||.5)-a,(this.node.cy||.5)-a,2*a,2*a)}function t(c,d){function e(b,a){for(var c=(a-r)/(b-n),d=n;d<b;d++)l[d].offset=+(+r+c*(d-n)).toFixed(2);n=b;r=a}var h=k("snap.util.grad.parse",null,d).firstDefined(),b;if(!h)return null;h.params.unshift(c);b="l"==h.type.toLowerCase()?a.apply(0,h.params):v.apply(0,h.params);h.type!=h.type.toLowerCase()&&p(b.node,{gradientUnits:"userSpaceOnUse"});var l=h.stops,h=l.length,r=0,n=0;h--;for(var t=0;t<h;t++)"offset"in l[t]&&e(t,l[t].offset);l[h].offset=l[h].offset||100;e(h,l[h].offset);for(t=0;t<=h;t++){var u=l[t];b.addStop(u.color,u.offset)}return b}function a(a,l,t,v,b){a=h._.make("linearGradient",a);a.stops=c;a.addStop=d;a.getBBox=e;null!=l&&p(a.node,{x1:l,y1:t,x2:v,y2:b});return a}function v(a,l,t,v,b,q){a=h._.make("radialGradient",a);a.stops=c;a.addStop=d;a.getBBox=e;null!=l&&p(a.node,{cx:l,cy:t,r:v});null!=b&&null!=q&&p(a.node,{fx:b,fy:q});return a}var p=h._.$;u.gradient=function(a){return t(this.defs,a)};u.gradientLinear=function(c,d,e,h){return a(this.defs,c,d,e,h)};u.gradientRadial=function(a,c,d,e,b){return v(this.defs,a,c,d,e,b)};u.toString=function(){var a=this.node.ownerDocument,c=a.createDocumentFragment(),a=a.createElement("div"),d=this.node.cloneNode(!0);c.appendChild(a);a.appendChild(d);h._.$(d,{xmlns:"http://www.w3.org/2000/svg"});a=a.innerHTML;c.removeChild(c.firstChild);return a};u.toDataURL=function(){if(J&&J.btoa)return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this)))};u.clear=function(){for(var a=this.node.firstChild,c;a;)c=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):u.clear.call({node:a}),a=c}})()});I.plugin(function(h,e,k,A){function D(a){var b=D.ps=D.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]}function u(a,b,c,d){null==a&&(a=b=c=d=0);null==b&&(b=a.y,c=a.width,d=a.height,a=a.x);return{x:a,y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:F.min(c,d)/2,r2:F.max(c,d)/2,r0:F.sqrt(c*c+d*d)/2,path:z(a,b,c,d),vb:[a,b,c,d].join(" ")}}function y(){return this.join(",").replace(K,"$1")}function d(a){a=J(a);a.toString=y;return a}function c(a,b,c,d,e,h,l,n,f){if(null==f)return p(a,b,c,d,e,h,l,n);if(0>f||p(a,b,c,d,e,h,l,n)<f)f=void 0;else{var m=.5,w=1-m,r;for(r=p(a,b,c,d,e,h,l,n,w);.01<W(r-f);)m/=2,w+=(r<f?1:-1)*m,r=p(a,b,c,d,e,h,l,n,w);f=w}return C(a,b,c,d,e,h,l,n,f)}function l(a,b){function d(a){return+(+a).toFixed(3)}return h._.cacher(function(m,h,l){m instanceof e&&(m=m.attr("d"));m=X(m);for(var n,r,f,q,w="",O={},M=0,t=0,p=m.length;t<p;t++){f=m[t];if("M"==f[0])n=+f[1],r=+f[2];else{q=c(n,r,f[1],f[2],f[3],f[4],f[5],f[6]);if(M+q>h){if(b&&!O.start){n=c(n,r,f[1],f[2],f[3],f[4],f[5],f[6],h-M);w+=["C"+d(n.start.x),d(n.start.y),d(n.m.x),d(n.m.y),d(n.x),d(n.y)];if(l)return w;O.start=w;w=["M"+d(n.x),d(n.y)+"C"+d(n.n.x),d(n.n.y),d(n.end.x),d(n.end.y),d(f[5]),d(f[6])].join();M+=q;n=+f[5];r=+f[6];continue}if(!a&&!b)return n=c(n,r,f[1],f[2],f[3],f[4],f[5],f[6],h-M)}M+=q;n=+f[5];r=+f[6]}w+=f.shift()+f}O.end=w;return n=a?M:b?O:C(n,r,f[0],f[1],f[2],f[3],f[4],f[5],1)},null,h._.clone)}function C(a,b,c,d,e,h,l,n,f){var m=1-f,r=oa(m,3),q=oa(m,2),t=f*f,M=t*f,O=r*a+3*q*f*c+3*m*f*f*e+M*l,r=r*b+3*q*f*d+3*m*f*f*h+M*n,q=a+2*f*(c-a)+t*(e-2*c+a),M=b+2*f*(d-b)+t*(h-2*d+b),p=c+2*f*(e-c)+t*(l-2*e+c),t=d+2*f*(h-d)+t*(n-2*h+d);a=m*a+f*c;b=m*b+f*d;e=m*e+f*l;h=m*h+f*n;n=90-180*F.atan2(q-p,M-t)/N;return{x:O,y:r,m:{x:q,y:M},n:{x:p,y:t},start:{x:a,y:b},end:{x:e,y:h},alpha:n}}function t(a,b,c,d,e,l,n,r){h.is(a,"array")||(a=[a,b,c,d,e,l,n,r]);a=Q.apply(null,a);return u(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)}function a(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function v(b,c){b=u(b);c=u(c);return a(c,b.x,b.y)||a(c,b.x2,b.y)||a(c,b.x,b.y2)||a(c,b.x2,b.y2)||a(b,c.x,c.y)||a(b,c.x2,c.y)||a(b,c.x,c.y2)||a(b,c.x2,c.y2)||(b.x<c.x2&&b.x>c.x||c.x<b.x2&&c.x>b.x)&&(b.y<c.y2&&b.y>c.y||c.y<b.y2&&c.y>b.y)}function p(a,b,c,d,e,h,l,n,f){null==f&&(f=1);f=(1<f?1:0>f?0:f)/2;for(var m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],r=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],q=0,t=0;12>t;t++)var M=f*m[t]+f,O=M*(M*(-3*a+9*c-9*e+3*l)+6*a-12*c+6*e)-3*a+3*c,M=M*(M*(-3*b+9*d-9*h+3*n)+6*b-12*d+6*h)-3*b+3*d,q=q+r[t]*F.sqrt(O*O+M*M);return f*q}function r(a,b,c){a=X(a);b=X(b);for(var d,e,m,h,l,f,n,r,q,z,k=c?0:[],u=0,ma=a.length;u<ma;u++)if(q=a[u],"M"==q[0])d=l=q[1],e=f=q[2];else{"C"==q[0]?(q=[d,e].concat(q.slice(1)),d=q[6],e=q[7]):(q=[d,e,d,e,l,f,l,f],d=l,e=f);for(var x=0,la=b.length;x<la;x++)if(z=b[x],"M"==z[0])m=n=z[1],h=r=z[2];else{"C"==z[0]?(z=[m,h].concat(z.slice(1)),m=z[6],h=z[7]):(z=[m,h,m,h,n,r,n,r],m=n,h=r);var E;var y=q,U=z;E=c;var V=t(y),A=t(U);if(v(V,A)){for(var V=p.apply(0,y),A=p.apply(0,U),V=~~(V/8),A=~~(A/8),Q=[],D=[],H={},Y=E?0:[],F=0;F<V+1;F++){var S=C.apply(0,y.concat(F/V));Q.push({x:S.x,y:S.y,t:F/V})}for(F=0;F<A+1;F++)S=C.apply(0,U.concat(F/A)),D.push({x:S.x,y:S.y,t:F/A});for(F=0;F<V;F++)for(y=0;y<A;y++){var I=Q[F],J=Q[F+1],U=D[y],S=D[y+1],Z=.001>W(J.x-I.x)?"y":"x",K=.001>W(S.x-U.x)?"y":"x",P;P=I.x;var L=I.y,N=J.x,ba=J.y,ca=U.x,da=U.y,ea=S.x,fa=S.y;if(R(P,N)<T(ca,ea)||T(P,N)>R(ca,ea)||R(L,ba)<T(da,fa)||T(L,ba)>R(da,fa))P=void 0;else{var aa=(P-N)*(da-fa)-(L-ba)*(ca-ea);if(aa){var ga=((P*ba-L*N)*(ca-ea)-(P-N)*(ca*fa-da*ea))/aa,aa=((P*ba-L*N)*(da-fa)-(L-ba)*(ca*fa-da*ea))/aa,ia=+ga.toFixed(2),ja=+aa.toFixed(2);P=ia<+T(P,N).toFixed(2)||ia>+R(P,N).toFixed(2)||ia<+T(ca,ea).toFixed(2)||ia>+R(ca,ea).toFixed(2)||ja<+T(L,ba).toFixed(2)||ja>+R(L,ba).toFixed(2)||ja<+T(da,fa).toFixed(2)||ja>+R(da,fa).toFixed(2)?void 0:{x:ga,y:aa}}else P=void 0}P&&H[P.x.toFixed(4)]!=P.y.toFixed(4)&&(H[P.x.toFixed(4)]=P.y.toFixed(4),I=I.t+W((P[Z]-I[Z])/(J[Z]-I[Z]))*(J.t-I.t),U=U.t+W((P[K]-U[K])/(S[K]-U[K]))*(S.t-U.t),0<=I&&1>=I&&0<=U&&1>=U&&(E?Y++:Y.push({x:P.x,y:P.y,t1:I,t2:U})))}E=Y}else E=E?0:[];if(c)k+=E;else{V=0;for(A=E.length;V<A;V++)E[V].segment1=u,E[V].segment2=x,E[V].bez1=q,E[V].bez2=z;k=k.concat(E)}}}return k}function n(a){var b=D(a);if(b.bbox)return J(b.bbox);if(!a)return u();a=X(a);for(var c=0,d=0,e=[],m=[],h,l=0,f=a.length;l<f;l++)h=a[l],"M"==h[0]?(c=h[1],d=h[2],e.push(c),m.push(d)):(c=Q(c,d,h[1],h[2],h[3],h[4],h[5],h[6]),e=e.concat(c.min.x,c.max.x),m=m.concat(c.min.y,c.max.y),c=h[5],d=h[6]);a=T.apply(0,e);h=T.apply(0,m);e=R.apply(0,e);m=R.apply(0,m);m=u(a,h,e-a,m-h);b.bbox=J(m);return m}function z(a,b,c,d,e){if(e)return[["M",+a+ +e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]];a=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];a.toString=y;return a}function x(a,b,c,d,e){null==e&&null==d&&(d=c);a=+a;b=+b;c=+c;d=+d;if(null!=e){var h=Math.PI/180;a=[["M",a+c*Math.cos(-d*h),b+c*Math.sin(-d*h)],["A",c,c,0,+(180<e-d),0,a+c*Math.cos(-e*h),b+c*Math.sin(-e*h)]]}else a=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]];a.toString=y;return a}function b(a){var b=D(a);if(b.abs)return d(b.abs);Z(a,"array")&&Z(a&&a[0],"array")||(a=h.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var c=[],e=0,m=0,l=0,n=0,r=0;"M"==a[0][0]&&(e=+a[0][1],m=+a[0][2],l=e,n=m,r++,c[0]=["M",e,m]);for(var f=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),q,w,t=r,z=a.length;t<z;t++){c.push(q=[]);w=a[t];r=w[0];if(r!=r.toUpperCase())switch(q[0]=r.toUpperCase(),q[0]){case"A":q[1]=w[1];q[2]=w[2];q[3]=w[3];q[4]=w[4];q[5]=w[5];q[6]=+w[6]+e;q[7]=+w[7]+m;break;case"V":q[1]=+w[1]+m;break;case"H":q[1]=+w[1]+e;break;case"R":for(var p=[e,m].concat(w.slice(1)),k=2,v=p.length;k<v;k++)p[k]=+p[k]+e,p[++k]=+p[k]+m;c.pop();c=c.concat(Y(p,f));break;case"O":c.pop();p=x(e,m,w[1],w[2]);p.push(p[0]);c=c.concat(p);break;case"U":c.pop();c=c.concat(x(e,m,w[1],w[2],w[3]));q=["U"].concat(c[c.length-1].slice(-2));break;case"M":l=+w[1]+e,n=+w[2]+m;default:for(k=1,v=w.length;k<v;k++)q[k]=+w[k]+(k%2?e:m)}else if("R"==r)p=[e,m].concat(w.slice(1)),c.pop(),c=c.concat(Y(p,f)),q=["R"].concat(w.slice(-2));else if("O"==r)c.pop(),p=x(e,m,w[1],w[2]),p.push(p[0]),c=c.concat(p);else if("U"==r)c.pop(),c=c.concat(x(e,m,w[1],w[2],w[3])),q=["U"].concat(c[c.length-1].slice(-2));else for(p=0,k=w.length;p<k;p++)q[p]=w[p];r=r.toUpperCase();if("O"!=r)switch(q[0]){case"Z":
e=+l;m=+n;break;case"H":e=q[1];break;case"V":m=q[1];break;case"M":l=q[q.length-2],n=q[q.length-1];default:e=q[q.length-2],m=q[q.length-1]}}c.toString=y;b.abs=d(c);return c}function q(a,b,c,d){return[a,b,c,d,c,d]}function E(a,b,c,d,e,h){var m=1/3,l=2/3;return[m*a+l*c,m*b+l*d,m*e+l*c,m*h+l*d,e,h]}function H(a,b,c,d,e,l,n,q,f,r){var m=120*N/180,t=N/180*(+e||0),p=[],k,z=h._.cacher(function(a,b,c){var d=a*F.cos(c)-b*F.sin(c);a=a*F.sin(c)+b*F.cos(c);return{x:d,y:a}});if(r)x=r[0],k=r[1],l=r[2],v=r[3];else{k=z(a,b,-t);a=k.x;b=k.y;k=z(q,f,-t);q=k.x;f=k.y;F.cos(N/180*e);F.sin(N/180*e);k=(a-q)/2;x=(b-f)/2;v=k*k/(c*c)+x*x/(d*d);1<v&&(v=F.sqrt(v),c*=v,d*=v);var v=c*c,u=d*d,v=(l==n?-1:1)*F.sqrt(W((v*u-v*x*x-u*k*k)/(v*x*x+u*k*k)));l=v*c*x/d+(a+q)/2;var v=v*-d*k/c+(b+f)/2,x=F.asin(((b-v)/d).toFixed(9));k=F.asin(((f-v)/d).toFixed(9));x=a<l?N-x:x;k=q<l?N-k:k;0>x&&(x=2*N+x);0>k&&(k=2*N+k);n&&x>k&&(x-=2*N);!n&&k>x&&(k-=2*N)}if(W(k-x)>m){var p=k,u=q,C=f;k=x+m*(n&&k>x?1:-1);q=l+c*F.cos(k);f=v+d*F.sin(k);p=H(q,f,c,d,e,0,n,u,C,[k,p,l,v])}l=k-x;e=F.cos(x);m=F.sin(x);n=F.cos(k);k=F.sin(k);l=F.tan(l/4);c=4/3*c*l;l*=4/3*d;d=[a,b];a=[a+c*m,b-l*e];b=[q+c*k,f-l*n];q=[q,f];a[0]=2*d[0]-a[0];a[1]=2*d[1]-a[1];if(r)return[a,b,q].concat(p);p=[a,b,q].concat(p).join().split(",");r=[];q=0;for(f=p.length;q<f;q++)r[q]=q%2?z(p[q-1],p[q],t).y:z(p[q],p[q+1],t).x;return r}function Q(a,b,c,d,e,h,l,q){for(var f=[],m=[[],[]],n,r,k,p,t=0;2>t;++t)0==t?(r=6*a-12*c+6*e,n=-3*a+9*c-9*e+3*l,k=3*c-3*a):(r=6*b-12*d+6*h,n=-3*b+9*d-9*h+3*q,k=3*d-3*b),1e-12>W(n)?1e-12>W(r)||(n=-k/r,0<n&&1>n&&f.push(n)):(p=r*r-4*k*n,k=F.sqrt(p),0>p||(p=(-r+k)/(2*n),0<p&&1>p&&f.push(p),n=(-r-k)/(2*n),0<n&&1>n&&f.push(n)));for(r=t=f.length;t--;)n=f[t],k=1-n,m[0][t]=k*k*k*a+3*k*k*n*c+3*k*n*n*e+n*n*n*l,m[1][t]=k*k*k*b+3*k*k*n*d+3*k*n*n*h+n*n*n*q;m[0][r]=a;m[1][r]=b;m[0][r+1]=l;m[1][r+1]=q;m[0].length=m[1].length=r+2;return{min:{x:T.apply(0,m[0]),y:T.apply(0,m[1])},max:{x:R.apply(0,m[0]),y:R.apply(0,m[1])}}}function X(a,c){var e=!c&&D(a);if(!c&&e.curve)return d(e.curve);var h=b(a),m=c&&b(c),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r=function(a,b,c){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case"M":b.X=a[1];b.Y=a[2];break;case"A":a=["C"].concat(H.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":"C"==c||"S"==c?(c=2*b.x-b.bx,b=2*b.y-b.by):(c=b.x,b=b.y);a=["C",c,b].concat(a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(E(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(E(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(q(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(q(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(q(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(q(b.x,b.y,b.X,b.Y))}return a},f=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)p[b]="A",m&&(t[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);u=R(h.length,m&&m.length||0)}},k=function(a,b,c,d,f){a&&b&&"M"==a[f][0]&&"M"!=b[f][0]&&(b.splice(f,0,["M",d.x,d.y]),c.bx=0,c.by=0,c.x=a[f][1],c.y=a[f][2],u=R(h.length,m&&m.length||0))},p=[],t=[],v="",z="",x=0,u=R(h.length,m&&m.length||0);for(;x<u;x++){h[x]&&(v=h[x][0]);"C"!=v&&(p[x]=v,x&&(z=p[x-1]));h[x]=r(h[x],l,z);"A"!=p[x]&&"C"==v&&(p[x]="C");f(h,x);m&&(m[x]&&(v=m[x][0]),"C"!=v&&(t[x]=v,x&&(z=t[x-1])),m[x]=r(m[x],n,z),"A"!=t[x]&&"C"==v&&(t[x]="C"),f(m,x));k(h,m,l,n,x);k(m,h,n,l,x);var C=h[x],y=m&&m[x],A=C.length,Q=m&&y.length;l.x=C[A-2];l.y=C[A-1];l.bx=I(C[A-4])||l.x;l.by=I(C[A-3])||l.y;n.bx=m&&(I(y[Q-4])||n.x);n.by=m&&(I(y[Q-3])||n.y);n.x=m&&y[Q-2];n.y=m&&y[Q-1]}m||(e.curve=d(h));return m?[h,m]:h}function Y(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var h=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?h[3]={x:+a[0],y:+a[1]}:e-2==d&&(h[2]={x:+a[0],y:+a[1]},h[3]={x:+a[2],y:+a[3]}):h[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?h[3]=h[2]:d||(h[0]={x:+a[d],y:+a[d+1]});c.push(["C",(-h[0].x+6*h[1].x+h[2].x)/6,(-h[0].y+6*h[1].y+h[2].y)/6,(h[1].x+6*h[2].x-h[3].x)/6,(h[1].y+6*h[2].y-h[3].y)/6,h[2].x,h[2].y])}return c}k=e.prototype;var Z=h.is,J=h._.clone,K=/,?([a-z]),?/gi,I=parseFloat,F=Math,N=F.PI,T=F.min,R=F.max,oa=F.pow,W=F.abs;A=l(1);var na=l(),ga=l(0,1),L=h._unit2px;h.path=D;h.path.getTotalLength=A;h.path.getPointAtLength=na;h.path.getSubpath=function(a,b,c){if(1e-6>this.getTotalLength(a)-c)return ga(a,b).end;a=ga(a,c,1);return b?ga(a,b).end:a};k.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};k.getPointAtLength=function(a){return na(this.attr("d"),a)};k.getSubpath=function(a,b){return h.path.getSubpath(this.attr("d"),a,b)};h._.box=u;h.path.findDotsAtSegment=C;h.path.bezierBBox=t;h.path.isPointInsideBBox=a;h.closest=function(b,c,d,e){for(var m=100,l=u(b-m/2,c-m/2,m,m),n=[],r=d[0].hasOwnProperty("x")?function(a){return{x:d[a].x,y:d[a].y}}:function(a){return{x:d[a],y:e[a]}},f=0;1e6>=m&&!f;){for(var q=0,k=d.length;q<k;q++){var p=r(q);if(a(l,p.x,p.y)){f++;n.push(p);break}}f||(m*=2,l=u(b-m/2,c-m/2,m,m))}if(1e6!=m){for(var m=Infinity,t,q=0,k=n.length;q<k;q++)l=h.len(b,c,n[q].x,n[q].y),m>l&&(m=l,n[q].len=l,t=n[q]);return t}};h.path.isBBoxIntersect=v;h.path.intersection=function(a,b){return r(a,b)};h.path.intersectionNumber=function(a,b){return r(a,b,1)};h.path.isPointInside=function(b,c,d){var e=n(b);return a(e,c,d)&&1==r(b,[["M",c,d],["H",e.x2+10]],1)%2};h.path.getBBox=n;h.path.get={path:function(a){return a.attr("path")},circle:function(a){a=L(a);return x(a.cx,a.cy,a.r)},ellipse:function(a){a=L(a);return x(a.cx||0,a.cy||0,a.rx,a.ry)},rect:function(a){a=L(a);return z(a.x||0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=L(a);return z(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return z(a.x,a.y,a.width,a.height)}};h.path.toRelative=function(a){var b=D(a),c=String.prototype.toLowerCase;if(b.rel)return d(b.rel);h.is(a,"array")&&h.is(a&&a[0],"array")||(a=h.parsePathString(a));var e=[],l=0,m=0,n=0,q=0,f=0;"M"==a[0][0]&&(l=a[0][1],m=a[0][2],n=l,q=m,f++,e.push(["M",l,m]));for(var r=a.length;f<r;f++){var k=e[f]=[],p=a[f];if(p[0]!=c.call(p[0]))switch(k[0]=c.call(p[0]),k[0]){case"a":k[1]=p[1];k[2]=p[2];k[3]=p[3];k[4]=p[4];k[5]=p[5];k[6]=+(p[6]-l).toFixed(3);k[7]=+(p[7]-m).toFixed(3);break;case"v":k[1]=+(p[1]-m).toFixed(3);break;case"m":n=p[1],q=p[2];default:for(var t=1,v=p.length;t<v;t++)k[t]=+(p[t]-(t%2?l:m)).toFixed(3)}else for(e[f]=[],"m"==p[0]&&(n=p[1]+l,q=p[2]+m),k=0,t=p.length;k<t;k++)e[f][k]=p[k];p=e[f].length;switch(e[f][0]){case"z":l=n;m=q;break;case"h":l+=+e[f][p-1];break;case"v":m+=+e[f][p-1];break;default:l+=+e[f][p-2],m+=+e[f][p-1]}}e.toString=y;b.rel=d(e);return e};h.path.toAbsolute=b;h.path.toCubic=X;h.path.map=function(a,b){if(!b)return a;var c,d,e,h,l,m,f;a=X(a);e=0;for(l=a.length;e<l;e++)for(f=a[e],h=1,m=f.length;h<m;h+=2)c=b.x(f[h],f[h+1]),d=b.y(f[h],f[h+1]),f[h]=c,f[h+1]=d;return a};h.path.toString=y;h.path.clone=d});I.plugin(function(h,e,H,A){var D=Math.max,u=Math.min,y=function(d){this.items=[];this.bindings={};this.length=0;this.type="set";if(d)for(var c=0,e=d.length;c<e;c++)d[c]&&(this[this.items.length]=this.items[this.items.length]=d[c],this.length++)};e=y.prototype;e.push=function(){for(var d,c,e=0,h=arguments.length;e<h;e++)if(d=arguments[e])c=this.items.length,this[c]=this.items[c]=d,this.length++;return this};e.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};e.forEach=function(d,c){for(var e=0,h=this.items.length;e<h&&!1!==d.call(c,this.items[e],e);e++);return this};e.animate=function(d,c,e,u){"function"!=typeof e||e.length||(u=e,e=K.linear);d instanceof h._.Animation&&(u=d.callback,e=d.easing,c=e.dur,d=d.attr);var l=arguments;if(h.is(d,"array")&&h.is(l[l.length-1],"array"))var a=!0;var v,p=function(){v?this.b=v:v=this.b},r=0,n=this,z=u&&function(){++r==n.length&&u.call(this)};return this.forEach(function(h,b){k.once("snap.animcreated."+h.id,p);a?l[b]&&h.animate.apply(h,l[b]):h.animate(d,c,e,z)})};e.remove=function(){for(;this.length;)this.pop().remove();return this};e.bind=function(d,c,e){var h={};if("function"==typeof c)this.bindings[d]=c;else{var l=e||d;this.bindings[d]=function(a){h[l]=a;c.attr(h)}}return this};e.attr=function(d){var c={},e;for(e in d)if(this.bindings[e])this.bindings[e](d[e]);else c[e]=d[e];d=0;for(e=this.items.length;d<e;d++)this.items[d].attr(c);return this};e.clear=function(){for(;this.length;)this.pop()};e.splice=function(d,c,e){d=0>d?D(this.length+d,0):d;c=D(0,u(this.length-d,c));var h=[],l=[],a=[],k;for(k=2;k<arguments.length;k++)a.push(arguments[k]);for(k=0;k<c;k++)l.push(this[d+k]);for(;k<this.length-d;k++)h.push(this[d+k]);var p=a.length;for(k=0;k<p+h.length;k++)this.items[d+k]=this[d+k]=k<p?a[k]:h[k-p];for(k=this.items.length=this.length-=c-p;this[k];)delete this[k++];return new y(l)};e.exclude=function(d){for(var c=0,e=this.length;c<e;c++)if(this[c]==d)return this.splice(c,1),!0;return!1};e.insertAfter=function(d){for(var c=this.items.length;c--;)this.items[c].insertAfter(d);return this};e.getBBox=function(){for(var d=[],c=[],e=[],h=[],k=this.items.length;k--;)if(!this.items[k].removed){var a=this.items[k].getBBox();d.push(a.x);c.push(a.y);e.push(a.x+a.width);h.push(a.y+a.height)}d=u.apply(0,d);c=u.apply(0,c);e=D.apply(0,e);h=D.apply(0,h);return{x:d,y:c,x2:e,y2:h,width:e-d,height:h-c,cx:d+(e-d)/2,cy:c+(h-c)/2}};e.clone=function(d){d=new y;for(var c=0,e=this.items.length;c<e;c++)d.push(this.items[c].clone());return d};e.toString=function(){return"Snaps set"};e.type="set";h.Set=y;h.set=function(){var d=new y;arguments.length&&d.push.apply(d,Array.prototype.slice.call(arguments,0));return d}});I.plugin(function(h,e,H,A){function D(a){var c=a[0];switch(c.toLowerCase()){case"t":return[c,0,0];case"m":return[c,1,0,0,1,0,0];case"r":return 4==a.length?[c,0,a[2],a[3]]:[c,0];case"s":return 5==a.length?[c,1,1,a[3],a[4]]:3==a.length?[c,1,1]:[c,1]}}function u(a,c,d){c=r(c).replace(/\.{3}|\u2026/g,a);a=h.parseTransformString(a)||[];c=h.parseTransformString(c)||[];for(var b=Math.max(a.length,c.length),e=[],l=[],k=0,n,p,x,v;k<b;k++){x=a[k]||D(c[k]);v=c[k]||D(x);if(x[0]!=v[0]||"r"==x[0].toLowerCase()&&(x[2]!=v[2]||x[3]!=v[3])||"s"==x[0].toLowerCase()&&(x[3]!=v[3]||x[4]!=v[4])){a=h._.transform2matrix(a,d());c=h._.transform2matrix(c,d());e=[["m",a.a,a.b,a.c,a.d,a.e,a.f]];l=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}e[k]=[];l[k]=[];n=0;for(p=Math.max(x.length,v.length);n<p;n++)n in x&&(e[k][n]=x[n]),n in v&&(l[k][n]=v[n])}return{from:t(e),to:t(l),f:C(e)}}function y(a){return a}function d(a){return function(c){return+c.toFixed(3)+a}}function c(a){return a.join(" ")}function l(a){return h.rgb(a[0],a[1],a[2])}function C(a){var c=0,d,b,e,h,l,k,n=[];d=0;for(b=a.length;d<b;d++){l="[";k=['"'+a[d][0]+'"'];e=1;for(h=a[d].length;e<h;e++)k[e]="val["+c++ +"]";l+=k+"]";n[d]=l}return Function("val","return Snap.path.toString.call(["+n+"])")}function t(a){for(var c=[],d=0,b=a.length;d<b;d++)for(var e=1,h=a[d].length;e<h;e++)c.push(a[d][e]);return c}function a(a,c){return h.is(a,"array")&&h.is(c,"array")?a.toString()==c.toString():!1}var v={},p=/[a-z]+$/i,r=String;v.stroke=v.fill="colour";e.prototype.equal=function(a,c){return k("snap.util.equal",this,a,c).firstDefined()};k.on("snap.util.equal",function(e,k){var n,b;n=r(this.attr(e)||"");var q=this;if(isFinite(parseFloat(n))&&isFinite(parseFloat(k)))return{from:parseFloat(n),to:parseFloat(k),f:y};if("colour"==v[e])return n=h.color(n),b=h.color(k),{from:[n.r,n.g,n.b,n.opacity],to:[b.r,b.g,b.b,b.opacity],f:l};if("viewBox"==e)return n=this.attr(e).vb.split(" ").map(Number),b=k.split(" ").map(Number),{from:n,to:b,f:c};if("transform"==e||"gradientTransform"==e||"patternTransform"==e)return k instanceof h.Matrix&&(k=k.toTransformString()),h._.rgTransform.test(k)||(k=h._.svgTransform2string(k)),u(n,k,function(){return q.getBBox(1)});if("d"==e||"path"==e)return n=h.path.toCubic(n,k),{from:t(n[0]),to:t(n[1]),f:C(n[0])};if("points"==e)return n=r(n).split(h._.separator),b=r(k).split(h._.separator),{from:n,to:b,f:function(a){return a}};b=n.match(p);var z=r(k).match(p);return b&&a(b,z)?{from:parseFloat(n),to:parseFloat(k),f:d(b)}:{from:this.asPX(e),to:this.asPX(e,k),f:y}})});I.plugin(function(h,e,H,A){var D=e.prototype,u="createTouch"in A.doc;e="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var y={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},d=function(a,c){var d="y"==a?"scrollTop":"scrollLeft",e=c&&c.node?c.node.ownerDocument:A.doc;return e[d in e.documentElement?"documentElement":"body"][d]},c=function(){return this.originalEvent.preventDefault()},l=function(){return this.originalEvent.stopPropagation()},C=function(a,e,h,k){var b=u&&y[e]?y[e]:e,n=function(b){var n=d("y",k),q=d("x",k);if(u&&y.hasOwnProperty(e))for(var r=0,p=b.targetTouches&&b.targetTouches.length;r<p;r++)if(b.targetTouches[r].target==a||a.contains(b.targetTouches[r].target)){p=b;b=b.targetTouches[r];b.originalEvent=p;b.preventDefault=c;b.stopPropagation=l;break}return h.call(k,b,b.clientX+q,b.clientY+n)};e!==b&&a.addEventListener(e,n,!1);a.addEventListener(b,n,!1);return function(){e!==b&&a.removeEventListener(e,n,!1);a.removeEventListener(b,n,!1);return!0}},t=[],a=function(a){for(var c=a.clientX,e=a.clientY,h=d("y"),b=d("x"),l,r=t.length;r--;){l=t[r];if(u)for(var p=a.touches&&a.touches.length,v;p--;){if(v=a.touches[p],v.identifier==l.el._drag.id||l.el.node.contains(v.target)){c=v.clientX;e=v.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();c+=b;e+=h;k("snap.drag.move."+l.el.id,l.move_scope||l.el,c-l.el._drag.x,e-l.el._drag.y,c,e,a)}},v=function(c){h.unmousemove(a).unmouseup(v);for(var d=t.length,e;d--;)e=t[d],e.el._drag={},k("snap.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,c),k.off("snap.drag.*."+e.el.id);t=[]};for(H=e.length;H--;)(function(a){h[a]=D[a]=function(c,d){if(h.is(c,"function"))this.events=this.events||[],this.events.push({name:a,f:c,unbind:C(this.node||document,a,c,d||this)});else for(var e=0,b=this.events.length;e<b;e++)if(this.events[e].name==a)try{this.events[e].f.call(this)}catch(q){}return this};h["un"+a]=D["un"+a]=function(c){for(var d=this.events||[],e=d.length;e--;)if(d[e].name==a&&(d[e].f==c||!c)){d[e].unbind();d.splice(e,1);!d.length&&delete this.events;break}return this}})(e[H]);D.hover=function(a,c,d,e){return this.mouseover(a,d).mouseout(c,e||d)};D.unhover=function(a,c){return this.unmouseover(a).unmouseout(c)};var p=[];D.drag=function(c,d,e,l,b,q){function n(n,p,r){(n.originalEvent||n).preventDefault();u._drag.x=p;u._drag.y=r;u._drag.id=n.identifier;!t.length&&h.mousemove(a).mouseup(v);t.push({el:u,move_scope:l,start_scope:b,end_scope:q});d&&k.on("snap.drag.start."+u.id,d);c&&k.on("snap.drag.move."+u.id,c);e&&k.on("snap.drag.end."+u.id,e);k("snap.drag.start."+u.id,b||l||u,p,r,n)}function r(a,b,c){k("snap.draginit."+u.id,u,a,b,c)}var u=this;if(!arguments.length){var x;return u.drag(function(a,b){this.attr({transform:x+(x?"T":"t")+[a,b]})},function(){x=this.transform().local})}k.on("snap.draginit."+u.id,n);u._drag={};p.push({el:u,start:n,init:r});u.mousedown(r);return u};D.undrag=function(){for(var c=p.length;c--;)p[c].el==this&&(this.unmousedown(p[c].init),p.splice(c,1),k.unbind("snap.drag.*."+this.id),k.unbind("snap.draginit."+this.id));!p.length&&h.unmousemove(a).unmouseup(v);return this}});I.plugin(function(h,e,H,A){H=H.prototype;var D=/^\s*url\((.+)\)/,u=String,y=h._.$;h.filter={};H.filter=function(d){var c=this;"svg"!=c.type&&(c=c.paper);d=h.parse(u(d));var l=h._.id(),k=y("filter");y(k,{id:l,filterUnits:"userSpaceOnUse"});k.appendChild(d.node);c.defs.appendChild(k);return new e(k)};k.on("snap.util.getattr.filter",function(){k.stop();var d=y(this.node,"filter");if(d)return(d=u(d).match(D))&&h.select(d[1])});k.on("snap.util.attr.filter",function(d){if(d instanceof e&&"filter"==d.type){k.stop();var c=d.node.id;c||(y(d.node,{id:d.id}),c=d.id);y(this.node,{filter:h.url(c)})}d&&"none"!=d||(k.stop(),this.node.removeAttribute("filter"))});h.filter.blur=function(d,c){null==d&&(d=2);return h.format('<feGaussianBlur stdDeviation="{def}"/>',{def:null==c?d:[d,c]})};h.filter.blur.toString=function(){return this()};h.filter.shadow=function(d,c,e,k,t){"string"==typeof e&&(t=k=e,e=4);"string"!=typeof k&&(t=k,k="#000");null==e&&(e=4);null==t&&(t=1);null==d&&(d=0,c=2);null==c&&(c=d);k=h.color(k||"#000");return h.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:k,dx:d,dy:c,blur:e,opacity:t})};h.filter.shadow.toString=function(){return this()};h.filter.grayscale=function(d){null==d&&(d=1);return h.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-d),b:.7152-.7152*(1-d),c:.0722-.0722*(1-d),d:.2126-.2126*(1-d),e:.7152+.2848*(1-d),f:.0722-.0722*(1-d),g:.2126-.2126*(1-d),h:.0722+.9278*(1-d)})};h.filter.grayscale.toString=function(){return this()};h.filter.sepia=function(d){null==d&&(d=1);return h.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-d),b:.769-.769*(1-d),c:.189-.189*(1-d),d:.349-.349*(1-d),e:.686+.314*(1-d),f:.168-.168*(1-d),g:.272-.272*(1-d),h:.534-.534*(1-d),i:.131+.869*(1-d)})};h.filter.sepia.toString=function(){return this()};h.filter.saturate=function(d){null==d&&(d=1);return h.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-d})};h.filter.saturate.toString=function(){return this()};h.filter.hueRotate=function(d){return h.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:d||0})};h.filter.hueRotate.toString=function(){return this()};h.filter.invert=function(d){null==d&&(d=1);return h.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:d,amount2:1-d})};h.filter.invert.toString=function(){return this()};h.filter.brightness=function(d){null==d&&(d=1);return h.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:d})};h.filter.brightness.toString=function(){return this()};h.filter.contrast=function(d){null==d&&(d=1);return h.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:d,amount2:.5-d/2})};h.filter.contrast.toString=function(){return this()}});I.plugin(function(h,e,k,A,D){var u=h._.box,y=h.is,d=/^[^a-z]*([tbmlrc])/i,c=function(){return"T"+this.dx+","+this.dy};e.prototype.getAlign=function(e,h){null==h&&y(e,"string")&&(h=e,e=null);e=e||this.paper;var k=e.getBBox?e.getBBox():u(e),a=this.getBBox(),l={};h=(h=h&&h.match(d))?h[1].toLowerCase():"c";switch(h){case"t":l.dx=0;l.dy=k.y-a.y;break;case"b":l.dx=0;l.dy=k.y2-a.y2;break;case"m":l.dx=0;l.dy=k.cy-a.cy;break;case"l":l.dx=k.x-a.x;l.dy=0;break;case"r":l.dx=k.x2-a.x2;l.dy=0;break;default:l.dx=k.cx-a.cx,l.dy=0}l.toString=c;return l};e.prototype.align=function(c,d){return this.transform("..."+this.getAlign(c,d))}});return I});var $=jQuery.noConflict(true);var Lib={length:function(obj){var size=0;for(var key in obj){if(obj.hasOwnProperty(key))size++}return size},htmlEntities:function(str,nl2br){var text=String(str).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&lt;");if(nl2br){text=text.replace(/(?:\r\n|\r|\n)/g,"<br>")}return text},baseName:function(path){var path_array=path.split("/");return path_array[path_array.length-1]},fileExtension:function(path){var base_name=this.baseName(path);var base_name_array=base_name.split(".");if(base_name_array.length>=2){return base_name_array[base_name_array.length-1]}else{return false}},getImageSize:function(image_src,callback,context){var image=new Image;image.onload=function(){callback.call(context,image.width,image.height)};image.src=image_src},resizeImage:function(image_data_uri,width,image_format,callback,context){var canvas=document.createElement("canvas");if(!canvas.getContext||!canvas.getContext("2d")){return image_data_uri}var ctx=canvas.getContext("2d");var image=new Image;image.onload=function(){var image_ratio=image.width/image.height;image_format=image_format||"image/png";canvas.width=width;canvas.height=width/image_ratio;ctx.drawImage(image,0,0,canvas.width,canvas.height);callback.call(context,canvas.toDataURL(image_format,1))};image.src=image_data_uri}};(function(){"use strict";var Svg_Icons={square:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 389 389">'+'<path d="M379,326.035h-18.852c-5.522,0-10,4.477-10,10v14.111h-14.113c-5.522,0-10,4.477-10,10V379c0,5.523,4.478,10,10,10H379 c5.522,0,10-4.477,10-10v-42.965C389,330.512,384.522,326.035,379,326.035z"/>'+'<path d="M166.927,350.146h-58.813c-5.522,0-10,4.477-10,10V379c0,5.523,4.478,10,10,10h58.813c5.522,0,10-4.477,10-10v-18.854 C176.927,354.623,172.449,350.146,166.927,350.146z"/>'+'<path d="M280.887,350.146h-58.812c-5.523,0-10,4.477-10,10V379c0,5.523,4.477,10,10,10h58.812c5.522,0,10-4.477,10-10v-18.854 C290.887,354.623,286.409,350.146,280.887,350.146z"/>'+'<path d="M52.965,350.146H38.852v-14.111c0-5.523-4.478-10-10-10H10c-5.522,0-10,4.477-10,10V379c0,5.523,4.478,10,10,10h42.965 c5.521,0,10-4.477,10-10v-18.854C62.965,354.623,58.486,350.146,52.965,350.146z"/>'+'<path d="M10,290.886h18.852c5.522,0,10-4.477,10-10v-58.812c0-5.523-4.478-10-10-10H10c-5.522,0-10,4.477-10,10v58.812 C0,286.409,4.478,290.886,10,290.886z"/>'+'<path d="M10,176.926h18.852c5.522,0,10-4.477,10-10v-58.812c0-5.523-4.478-10-10-10H10c-5.522,0-10,4.477-10,10v58.812 C0,172.449,4.478,176.926,10,176.926z"/>'+'<path d="M52.965,0H10C4.478,0,0,4.477,0,10v42.967c0,5.523,4.478,10,10,10h18.852c5.522,0,10-4.477,10-10V38.854h14.113 c5.521,0,10-4.477,10-10V10C62.965,4.478,58.486,0,52.965,0z"/>'+'<path d="M280.887,0h-58.812c-5.522,0-10,4.477-10,10v18.854c0,5.523,4.478,10,10,10h58.812c5.522,0,10-4.477,10-10V10 C290.887,4.478,286.409,0,280.887,0z"/>'+'<path d="M108.113,38.854h58.813c5.522,0,10-4.477,10-10V10c0-5.523-4.478-10-10-10h-58.813c-5.522,0-10,4.477-10,10v18.854 C98.113,34.377,102.591,38.854,108.113,38.854z"/>'+'<path d="M379,0h-42.965c-5.522,0-10,4.477-10,10v18.854c0,5.523,4.478,10,10,10h14.113v14.113c0,5.523,4.478,10,10,10H379 c5.522,0,10-4.477,10-10V10C389,4.478,384.522,0,379,0z"/>'+'<path d="M379,212.074h-18.852c-5.522,0-10,4.477-10,10v58.812c0,5.522,4.478,10,10,10H379c5.522,0,10-4.478,10-10v-58.812 C389,216.551,384.522,212.074,379,212.074z"/>'+'<path d="M379,98.114h-18.852c-5.522,0-10,4.477-10,10v58.812c0,5.523,4.478,10,10,10H379c5.522,0,10-4.477,10-10v-58.812 C389,102.591,384.522,98.114,379,98.114z"/>'+"</svg>",blackout:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 293 293">'+'<path d="M229.4,251.178c-19.485,26.574-49.635,41.816-82.72,41.822c-0.001,0-0.002,0-0.003,0h-0.007h-0.008 c-0.108,0-0.217,0-0.327,0c-33.089,0-63.244-15.242-82.732-41.817c-19.377-26.423-25.15-60.584-15.445-91.381  c2.279-7.231,5.394-14.269,9.257-20.916c0.107-0.184,0.218-0.364,0.332-0.543c3.795-5.935,7.626-11.86,11.462-17.793  C92.11,85.13,115.79,48.504,131.608,9.378c2.256-5.581,7.631-9.272,13.649-9.376c0.422-0.006,0.836,0.003,1.249,0.03  c0.414-0.027,0.829-0.034,1.248-0.03c6.019,0.104,11.394,3.795,13.649,9.376c15.825,39.146,39.517,75.789,62.428,111.226  c3.823,5.915,7.644,11.822,11.427,17.738c0.114,0.18,0.226,0.361,0.332,0.546c3.857,6.638,6.971,13.675,9.252,20.915  C254.547,190.595,248.775,224.755,229.4,251.178z"/>'+"</svg>",draw:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 512 512">'+'<path d="m455.1,137.9l-32.4,32.4-81-81.1 32.4-32.4c6.6-6.6 18.1-6.6 24.7,0l56.3,56.4c6.8,6.8 6.8,17.9 0,24.7zm-270.7,271l-81-81.1 209.4-209.7 81,81.1-209.4,209.7zm-99.7-42l60.6,60.7-84.4,23.8 23.8-84.5zm399.3-282.6l-56.3-56.4c-11-11-50.7-31.8-82.4,0l-285.3,285.5c-2.5,2.5-4.3,5.5-5.2,8.9l-43,153.1c-2,7.1 0.1,14.7 5.2,20 5.2,5.3 15.6,6.2 20,5.2l153-43.1c3.4-0.9 6.4-2.7 8.9-5.2l285.1-285.5c22.7-22.7 22.7-59.7 0-82.5z"/>'+"</svg>",line:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 23.369 23.369">'+'<path d="M0.5,23.369c-0.128,0-0.256-0.049-0.354-0.146c-0.195-0.195-0.195-0.512,0-0.707L22.515,0.147 c0.195-0.195,0.512-0.195,0.707,0s0.195,0.512,0,0.707L0.854,23.222C0.756,23.32,0.628,23.369,0.5,23.369z"/>'+"</svg>",eraser:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 774.266 774.266">'+'<path d="M640.35,91.169H536.971V23.991C536.971,10.469,526.064,0,512.543,0c-1.312,0-2.187,0.438-2.614,0.875 C509.491,0.438,508.616,0,508.179,0H265.212h-1.74h-1.75c-13.521,0-23.99,10.469-23.99,23.991v67.179H133.916    c-29.667,0-52.783,23.116-52.783,52.783v38.387v47.981h45.803v491.6c0,29.668,22.679,52.346,52.346,52.346h415.703    c29.667,0,52.782-22.678,52.782-52.346v-491.6h45.366v-47.981v-38.387C693.133,114.286,670.008,91.169,640.35,91.169z     M285.713,47.981h202.84v43.188h-202.84V47.981z M599.349,721.922c0,3.061-1.312,4.363-4.364,4.363H179.282 c-3.052,0-4.364-1.303-4.364-4.363V230.32h424.431V721.922z M644.715,182.339H129.551v-38.387c0-3.053,1.312-4.802,4.364-4.802 H640.35c3.053,0,4.365,1.749,4.365,4.802V182.339z" />'+'<rect x="475.031" y="286.593" width="48.418" height="396.942" />'+'<rect x="363.361" y="286.593" width="48.418" height="396.942" />'+'<rect x="251.69" y="286.593" width="48.418" height="396.942" />'+"</svg>",help:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32">'+'<path d="M15 0v0c8.284 0 15 5.435 15 12.139s-6.716 12.139-15 12.139c-0.796 0-1.576-0.051-2.339-0.147-3.222 3.209-6.943 3.785-10.661 3.869v-0.785c2.008-0.98 3.625-2.765 3.625-4.804 0-0.285-0.022-0.564-0.063-0.837-3.392-2.225-5.562-5.625-5.562-9.434 0-6.704 6.716-12.139 15-12.139zM31.125 27.209c0 1.748 1.135 3.278 2.875 4.118v0.673c-3.223-0.072-6.181-0.566-8.973-3.316-0.661 0.083-1.337 0.126-2.027 0.126-2.983 0-5.732-0.805-7.925-2.157 4.521-0.016 8.789-1.464 12.026-4.084 1.631-1.32 2.919-2.87 3.825-4.605 0.961-1.84 1.449-3.799 1.449-5.825 0-0.326-0.014-0.651-0.039-0.974 2.268 1.873 3.664 4.426 3.664 7.24 0 3.265-1.88 6.179-4.82 8.086-0.036 0.234-0.055 0.474-0.055 0.718z"/>'+"</svg>",camera:'<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100">'+'<path d="M50,40c-8.285,0-15,6.718-15,15c0,8.285,6.715,15,15,15c8.283,0,15-6.715,15-15 C65,46.718,58.283,40,50,40z M90,25H78c-1.65,0-3.428-1.28-3.949-2.846l-3.102-9.309C70.426,11.28,68.65,10,67,10H33 c-1.65,0-3.428,1.28-3.949,2.846l-3.102,9.309C25.426,23.72,23.65,25,22,25H10C4.5,25,0,29.5,0,35v45c0,5.5,4.5,10,10,10h80 c5.5,0,10-4.5,10-10V35C100,29.5,95.5,25,90,25z M50,80c-13.807,0-25-11.193-25-25c0-13.806,11.193-25,25-25 c13.805,0,25,11.194,25,25C75,68.807,63.805,80,50,80z M86.5,41.993c-1.932,0-3.5-1.566-3.5-3.5c0-1.932,1.568-3.5,3.5-3.5 c1.934,0,3.5,1.568,3.5,3.5C90,40.427,88.433,41.993,86.5,41.993z"/>'+"</svg>",arrow:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 55 55">'+'<path d="M18.071,37.929c-0.256,0-0.512-0.098-0.707-0.293c-0.391-0.391-0.391-1.023,0-1.414L53.293,0.293 c0.391-0.391,1.023-0.391,1.414,0s0.391,1.023,0,1.414L18.778,37.636C18.583,37.831,18.327,37.929,18.071,37.929z"/>'+'<path d="M54,20.546c-0.553,0-1-0.447-1-1V1c0-0.553,0.447-1,1-1s1,0.447,1,1v18.546 C55,20.099,54.553,20.546,54,20.546z"/>'+'<path d="M54,2H35.455c-0.552,0-1-0.447-1-1s0.448-1,1-1H54c0.553,0,1,0.447,1,1S54.553,2,54,2z"/>'+"<g>"+'<circle style="fill:#FF0000;" cx="11" cy="44" r="10"/>'+"</g>"+"</svg>",comment:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 67.025 67.026">'+'<polygon points="41.441,29.477 44.576,31.269 50.848,27.685 41.441,22.086" />'+'<path d="M60.48,18.052l2.24-4.031c1.791-3.137-3.359-6.721-5.824-8.063c-2.465-1.345-8.063-4.257-9.855-0.896l-3.137,5.376 c-3.137-0.672-6.721-1.12-10.304-1.12C15.008,9.317,0,19.398,0,31.718c0,12.318,15.008,22.398,33.6,22.398c0,0,0,0,0.225,0     c0.224,2.688-2.912,7.168-7.393,9.407c17.698,0,25.761-13.216,25.761-13.216c8.959-4.032,14.783-10.752,14.783-18.592     C67.424,26.565,64.736,21.861,60.48,18.052z M15.455,37.99c-1.792,0-3.136-1.346-3.136-3.138c0-1.792,1.344-3.136,3.136-3.136     s3.136,1.344,3.136,3.136C18.591,36.644,17.025,37.99,15.455,37.99z M23.743,37.99c-1.792,0-3.136-1.346-3.136-3.138 c0-1.792,1.344-3.136,3.136-3.136s3.136,1.344,3.136,3.136C26.879,36.644,25.535,37.99,23.743,37.99z M32.032,37.99 c-1.792,0-3.137-1.346-3.137-3.138c0-1.792,1.345-3.136,3.137-3.136s3.136,1.344,3.136,3.136     C35.168,36.644,33.824,37.99,32.032,37.99z M51.969,28.357l-6.496,3.584l-5.377,2.911v-6.047v-7.392l8.961-15.456     c0.447-0.896,3.584,0,6.943,1.792s5.6,4.031,4.928,4.928L51.969,28.357z" />'+"</svg>",list:'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 231 231">'+'<rect width="181" x="50" y="164.5" height="33"/>'+'<rect width="181" x="50" y="99.5" height="33"/>'+'<rect width="181" x="50" y="32.5" height="33"/>'+'<rect width="33" y="165.5" height="33"/>'+'<rect width="33" y="99.5" height="33"/>'+'<rect width="33" y="32.5" height="33"/>'+"</svg>",search:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 483.083 483.083">'+'<path d="M332.74,315.35c30.883-33.433,50.15-78.2,50.15-127.5C382.89,84.433,298.74,0,195.04,0S7.19,84.433,7.19,187.85 S91.34,375.7,195.04,375.7c42.217,0,81.033-13.883,112.483-37.4l139.683,139.683c3.4,3.4,7.65,5.1,11.9,5.1s8.783-1.7,11.9-5.1 c6.517-6.517,6.517-17.283,0-24.083L332.74,315.35z M41.19,187.85C41.19,103.133,110.04,34,195.04,34 c84.717,0,153.85,68.85,153.85,153.85S280.04,341.7,195.04,341.7S41.19,272.567,41.19,187.85z"/>'+"</svg>",paperclip:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" viewBox="0 0 436.256 436.257">'+'<path d="M389.428,290.661l-165.879-165.88c-11.613-11.992-25.792-17.987-42.541-17.987c-15.608,0-28.833,5.424-39.684,16.274 c-10.854,10.848-16.277,24.078-16.277,39.687c0,16.75,5.996,30.931,17.987,42.541l117.06,117.058 c1.902,1.903,4.001,2.854,6.283,2.854c3.046,0,7.519-2.953,13.415-8.85c5.899-5.899,8.846-10.376,8.846-13.422 c0-2.279-0.947-4.374-2.851-6.279L168.731,179.599c-4.758-5.14-7.137-10.754-7.137-16.844c0-5.523,1.807-10.09,5.424-13.706 c3.615-3.617,8.186-5.424,13.706-5.424c6.471,0,12.18,2.281,17.131,6.849l165.875,165.88 c11.998,11.988,17.994,25.786,17.994,41.392c0,12.189-4.001,22.274-11.992,30.266c-8,7.994-18.082,11.998-30.269,11.998 c-15.608,0-29.406-6.003-41.391-17.994L76.513,160.178c-14.466-14.465-21.695-31.692-21.695-51.678 c0-20.177,6.945-37.404,20.841-51.678c13.894-14.272,30.928-21.411,51.106-21.411c19.412,0,36.636,7.328,51.673,21.979 l173.018,173.302c1.902,1.906,4.09,2.851,6.567,2.851c3.046,0,7.474-2.902,13.274-8.706c5.808-5.804,8.703-10.229,8.703-13.274 c0-2.281-0.948-4.377-2.848-6.28L204.419,32.264C182.531,10.756,156.552,0,126.478,0c-30.264,0-55.863,10.566-76.8,31.693 C28.739,52.821,18.271,78.518,18.271,108.78c0,29.692,10.752,55.483,32.26,77.372l221.842,221.557 c19.033,19.027,41.394,28.548,67.091,28.548c22.269,0,40.926-7.521,55.959-22.559c15.037-15.03,22.562-33.688,22.562-55.963 C417.979,331.662,408.458,309.302,389.428,290.661z"/>'+"</svg>",
star:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 53.867 53.867">'+'<polygon class="star" points="26.934,1.318 35.256,18.182 53.867,20.887 40.4,34.013 43.579,52.549 26.934,43.798 10.288,52.549 13.467,34.013 0,20.887 18.611,18.182 "/>'+"</svg>",heart:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 507.9 507.9">'+"<g>"+'<path class="heart-shine" d="M254,0c-3.1,0-5.6,2.5-5.6,5.6v30.5c0,3.1,2.5,5.6,5.6,5.6s5.6-2.5,5.6-5.6V5.6 C259.6,2.5,257.1,0,254,0z"/>'+'<path class="heart-shine" d="M254,466.2c-3.1,0-5.6,2.5-5.6,5.6v30.5c0,3.1,2.5,5.6,5.6,5.6s5.6-2.5,5.6-5.6v-30.5 C259.6,468.7,257.1,466.2,254,466.2z"/>'+'<path class="heart-shine" d="M156.8,19.3c-2.9,1.2-4.2,4.5-3.1,7.4l11.7,28.2c1.2,2.9,4.5,4.2,7.4,3.1c2.9-1.2,4.2-4.5,3.1-7.4 l-11.7-28.2C163,19.5,159.7,18.1,156.8,19.3z"/>'+'<path class="heart-shine" d="M335.2,450.1c-2.9,1.2-4.2,4.5-3.1,7.4l11.7,28.2c1.2,2.9,4.5,4.2,7.4,3.1c2.9-1.2,4.2-4.5,3.1-7.4 l-11.7-28.2C341.4,450.2,338.1,448.9,335.2,450.1z"/>'+'<path class="heart-shine" d="M74.4,74.4c-2.2,2.2-2.2,5.8,0,8L96,103.9c2.2,2.2,5.8,2.2,8,0s2.2-5.8,0-8L82.4,74.4 C80.2,72.2,76.6,72.2,74.4,74.4z"/>'+'<path class="heart-shine" d="M404.1,404.1c-2.2,2.2-2.2,5.8,0,8l21.6,21.6c2.2,2.2,5.8,2.2,8,0s2.2-5.8,0-8L412,404.1 C409.8,401.9,406.3,401.9,404.1,404.1z"/>'+'<path class="heart-shine" d="M19.3,156.8c-1.2,2.9,0.2,6.2,3.1,7.4l28.2,11.7c2.9,1.2,6.2-0.2,7.4-3.1c1.2-2.9-0.2-6.2-3.1-7.4 l-28.2-11.7C23.8,152.6,20.5,153.9,19.3,156.8z"/>'+'<path class="heart-shine" d="M450.1,335.2c-1.2,2.9,0.2,6.2,3.1,7.4l28.2,11.7c2.9,1.2,6.2-0.2,7.4-3.1c1.2-2.9-0.2-6.2-3.1-7.4 l-28.2-11.7C454.6,331,451.3,332.3,450.1,335.2z"/>'+'<path class="heart-shine" d="M0,254c0,3.1,2.5,5.6,5.6,5.6h30.5c3.1,0,5.6-2.5,5.6-5.6s-2.5-5.6-5.6-5.6H5.6 C2.5,248.4,0,250.9,0,254z"/>'+'<path class="heart-shine" d="M466.2,254c0,3.1,2.5,5.6,5.6,5.6h30.5c3.1,0,5.6-2.5,5.6-5.6s-2.5-5.6-5.6-5.6h-30.5 C468.7,248.4,466.2,250.9,466.2,254z"/>'+'<path class="heart-shine" d="M19.3,351.2c1.2,2.9,4.5,4.2,7.4,3.1l28.2-11.7c2.9-1.2,4.2-4.5,3.1-7.4c-1.2-2.9-4.5-4.2-7.4-3.1 l-28.2,11.7C19.5,345,18.1,348.3,19.3,351.2z"/>'+'<path class="heart-shine" d="M450.1,172.8c1.2,2.9,4.5,4.2,7.4,3.1l28.2-11.7c2.9-1.2,4.2-4.5,3.1-7.4c-1.2-2.9-4.5-4.2-7.4-3.1 l-28.2,11.7C450.2,166.6,448.9,169.9,450.1,172.8z"/>'+'<path class="heart-shine" d="M74.4,433.6c2.2,2.2,5.8,2.2,8,0L104,412c2.2-2.2,2.2-5.8,0-8s-5.8-2.2-8,0l-21.6,21.6 C72.2,427.8,72.2,431.4,74.4,433.6z"/>'+'<path class="heart-shine" d="M404.1,103.9c2.2,2.2,5.8,2.2,8,0l21.6-21.6c2.2-2.2,2.2-5.8,0-8s-5.8-2.2-8,0L404.1,96 C401.9,98.2,401.9,101.7,404.1,103.9z"/>'+'<path class="heart-shine" d="M156.8,488.7c2.9,1.2,6.2-0.2,7.4-3.1l11.7-28.2c1.2-2.9-0.2-6.2-3.1-7.4c-2.9-1.2-6.2,0.2-7.4,3.1 l-11.7,28.2C152.6,484.2,153.9,487.5,156.8,488.7z"/>'+'<path class="heart-shine" d="M335.2,57.9c2.9,1.2,6.2-0.2,7.4-3.1l11.7-28.2c1.2-2.9-0.2-6.2-3.1-7.4s-6.2,0.2-7.4,3.1 l-11.7,28.2C331,53.4,332.3,56.7,335.2,57.9z"/>'+"</g>"+'<path class="heart" d="M329.2,122c-30.6,0-57.7,14.4-75.2,36.7c-17.5-22.3-44.7-36.7-75.2-36.7c-52.8,0-95.7,42.8-95.7,95.7 c0,90.5,170.9,201.1,170.9,201.1s170.9-109.1,170.9-201.1C424.9,164.9,382.1,122,329.2,122z"/>'+"</svg>",face_neutral:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 42 42">'+'<circle class="main" cx="21" cy="21" r="21"/>'+'<path class="eye" d="M16,16H8c-0.553,0-1-0.447-1-1s0.447-1,1-1h8c0.553,0,1,0.447,1,1S16.553,16,16,16z"/>'+'<path class="eye" d="M34,16h-8c-0.553,0-1-0.447-1-1s0.447-1,1-1h8c0.553,0,1,0.447,1,1S34.553,16,34,16z"/>'+'<path class="mouse" d="M30,32H12c-0.553,0-1-0.447-1-1s0.447-1,1-1h18c0.553,0,1,0.447,1,1S30.553,32,30,32z"/>'+'<path class="mouse" d="M30,32H12c-0.553,0-1-0.447-1-1s0.447-1,1-1h18c0.553,0,1,0.447,1,1S30.553,32,30,32z"/>'+"</svg>",face_hate:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 42 42">'+'<circle class="main" cx="21" cy="21" r="21"/>'+'<path class="mouse" d="M32,35c-0.553,0-1-0.448-1-1c0-5.514-4.486-10-10-10s-10,4.486-10,10c0,0.552-0.447,1-1,1 s-1-0.448-1-1c0-6.617,5.383-12,12-12s12,5.383,12,12C33,34.552,32.553,35,32,35z"/>'+'<path class="eye" d="M17.001,15c-0.294,0-0.584-0.128-0.782-0.375l-4-5c-0.345-0.431-0.274-1.061,0.156-1.405 c0.433-0.346,1.06-0.274,1.406,0.156l4,5c0.345,0.431,0.274,1.061-0.156,1.405C17.44,14.928,17.22,15,17.001,15z"/>'+'<path class="eye" d="M24.999,15c-0.219,0-0.439-0.072-0.624-0.219c-0.431-0.345-0.501-0.974-0.156-1.405l4-5 c0.347-0.43,0.975-0.501,1.406-0.156c0.431,0.345,0.501,0.974,0.156,1.405l-4,5C25.583,14.872,25.293,15,24.999,15z"/>'+"</svg>",face_dislike:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 42 42">'+'<circle class="main" cx="21" cy="21" r="21"/>'+'<circle class="eye-ball" cx="13" cy="13.5" r="3.5"/>'+'<circle class="eye-ball" cx="29" cy="13.5" r="3.5"/>'+'<path class="mouse" d="M16.382,32.888c-2.421,0-4.984-1.077-7.089-3.181c-0.391-0.391-0.391-1.023,0-1.414 s1.023-0.391,1.414,0c1.43,1.43,3.177,2.339,4.919,2.56c1.261,0.163,3.089,0.019,4.667-1.56c3.51-3.511,9.904-3.511,13.414,0 c0.391,0.391,0.391,1.023,0,1.414s-1.023,0.391-1.414,0c-2.721-2.721-7.865-2.721-10.586,0 C20.244,32.17,18.36,32.888,16.382,32.888z"/>'+"</svg>",face_like:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 42 42">'+'<circle class="main" cx="21" cy="21" r="21"/>'+'<path class="mouse" d="M21,36c-6.617,0-12-5.383-12-12c0-0.552,0.448-1,1-1s1,0.448,1,1c0,5.514,4.486,10,10,10 s10-4.486,10-10c0-0.552,0.448-1,1-1s1,0.448,1,1C33,30.617,27.617,36,21,36z"/>'+'<path class="eye" d="M16,17c-0.552,0-1-0.448-1-1c0-1.654-1.346-3-3-3s-3,1.346-3,3c0,0.552-0.448,1-1,1s-1-0.448-1-1 c0-2.757,2.243-5,5-5s5,2.243,5,5C17,16.552,16.552,17,16,17z"/>'+'<path class="eye" d="M34,17c-0.552,0-1-0.448-1-1c0-1.654-1.346-3-3-3s-3,1.346-3,3c0,0.552-0.448,1-1,1s-1-0.448-1-1 c0-2.757,2.243-5,5-5s5,2.243,5,5C35,16.552,34.552,17,34,17z"/>'+"</svg>",face_love:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 42 42">'+'<circle class="main" cx="21" cy="21" r="21"/>'+'<path class="mouse" d="M21,36c-6.617,0-12-5.383-12-12c0-0.553,0.448-1,1-1s1,0.447,1,1c0,5.514,4.486,10,10,10 s10-4.486,10-10c0-0.553,0.448-1,1-1s1,0.447,1,1C33,30.617,27.617,36,21,36z"/>'+'<path class="eye-heart" d="M12.545,10.702C12.983,9.7,13.982,9,15.146,9c1.567,0,2.695,1.294,2.837,2.837 c0,0,0.077,0.383-0.092,1.072c-0.229,0.939-0.769,1.773-1.496,2.409l-3.85,3.317L8.76,15.319c-0.727-0.636-1.267-1.471-1.496-2.409 c-0.169-0.689-0.092-1.072-0.092-1.072C7.314,10.294,8.442,9,10.009,9C11.172,9,12.107,9.7,12.545,10.702z"/>'+'<path class="eye-heart" d="M29.39,10.702C29.828,9.7,30.828,9,31.991,9c1.567,0,2.695,1.294,2.837,2.837 c0,0,0.077,0.383-0.092,1.072c-0.229,0.939-0.769,1.773-1.496,2.409l-3.85,3.317l-3.785-3.317 c-0.727-0.636-1.267-1.471-1.496-2.409c-0.169-0.689-0.092-1.072-0.092-1.072C24.159,10.294,25.288,9,26.854,9 C28.018,9,28.952,9.7,29.39,10.702z"/>'+"</svg>",delete_icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAN+SURBVEhLndY7bFNnFAdwkMrAwICAhASTh2OSOHES27GxHdu5flw/4jgBxCPqQJFKUVt16NIqMBDGoCi82qo8pFoqYgKJBYlAeUmwgQQDCxECkoEBQdUUksHD/Q7/c1/1tW8iyif95KtzvvM/UezIWUVEKxrO5xtGCoVvR4vFK/AIXsFTuDYyPHysODTkLWSzq+1mmW2RDWUzDgyXoFwsFATDIpNRAwV3HmJJ2i6npsDymcyOQi77dyGXE8OGfJ5socf3QMEP9XtOTq+pzLIEs2w6/WNelpV8RhZDqgx9Cr6POZGT5cuZVNJcYgmXE4kcmuVsKiWAPgPmkgIZpZoFqXhsfVoafCMnJKGjzyTSkqSkBuM7LAuSsehEMh4TWARxMpyanqYH9+/Tnp07zdoKPXWWc5Kx2GwiOrBaDR+MhNdKA5E3KAggw9TkJAkhcIVofn6Odo+Omr3fzpwxe3Nzc5RJJrhuzAvkKSCrC2Kh7el4OKQMhkMCyHDp4p9mCJ95BO0aKdKvp0/rFe0sLS7ijZZ5xpxHnoCz6oJosH88GgyI2PYgmYIBkiJhunfntpain3fv3upP2uHw7w99Q5jnOTOD8+CJuiDi95Ui/T4R6ffTf3yqeChId2/f0tKqztLSEn138GvzrnXez3nv1QUhb28p5O0TQHYGAn6affZMS604R37+icI+r+0McJ5QFwR6PReCvR4BVC3Q46ETU8e1xKrz6uVLyqeShPmaOeC8f9QF/d1d4yCAKvm73TR9fFJLW+bwkqwUV+9WZfCz9h743B0SKCCAmBeOHh63fIoWP3ygQwe+ols3bugV7TyfncWvpIfnzHn9WfsU9XVsW9PX7noNAoj1wh/nz5kLOPzAl2OEu+Tv6qS/ZmbUOh/uRfE+VczzqwIJdQHrcTknPC6n0JGnrZW8ne10c+Y6LSws0P6xvWrNYO3t0+rGLF6R9xi0v2TW3dayrqu1+QUITZPJXfGMHq3cU+eVbmeLxLnmAuZuaYp2NjvKnU0OoaP/SWBeuJu3ThmZlgWsY+uW3e2OxnK7o0Ho6BPodxvZZSz6wsirWcC2bdmcdjXWz4NwNZhoGVq/sb6MuQkssHw/W4IrYWB92+ZNJ531G/8FBcQyuHfV1VDXZ5dTU6jmrN+0DgFjrXUbfoHrcFdXQv0HaLGbM9gWV9Jat3HZf1Fq0aqPipvPcPDBt8EAAAAASUVORK5CYII="};var Lang={language:"en",en:{draw_on_the_screen:"Draw on the Screen",draw_on_the_screen_help:"Provide feedback of specific areas of this page",general_feedback:"General Feedback",general_feedback_help:"Provide general feedback of this page",view_other_feedback:"View other Feedback",view_other_feedback_help:"All the other feedback of this page",your_email_address:"Your Email Address",select_a_category:"Select a Category",leave_us_your_comment:"Leave us your comment...",send:"Send",back:"back",remove:"Remove",close:"Close",highlight:"Highlight",blackout:"Blackout",pencil:"Pencil",line:"Line",arrow:"Arrow",add_a_comment:"Add a Comment",capture_screenshot:"Capture Screenshot",save:"Save",delete:"delete",add_your_comment_here:"Add your comment here...",receive_updates:"Receive updates",attach_a_file:"Attach a File",file_format_not_supported:"File format not supported",max:"Max",open_feedback:"feedback",search:"Search...",cancel:"Cancel",feedback_not_found:"Oops, no feedback could be found.",rating_hate:"Hate",rating_dislike:"Dislike",rating_neutral:"Neutral",rating_like:"Like",rating_love:"Love"},"zh-CN":{draw_on_the_screen:"",draw_on_the_screen_help:"",general_feedback:"",general_feedback_help:"",view_other_feedback:"",view_other_feedback_help:"",your_email_address:"",select_a_category:"",leave_us_your_comment:"...",send:"",back:"",remove:"",close:"",highlight:"",blackout:"",pencil:"",line:"",arrow:"",add_a_comment:"",capture_screenshot:"",save:"",delete:"",add_your_comment_here:"...",receive_updates:"",attach_a_file:"",file_format_not_supported:"",max:"",open_feedback:"",search:"...",cancel:"",feedback_not_found:"",rating_hate:"",rating_dislike:"",rating_neutral:"",rating_like:"",rating_love:""},"zh-TW":{},ko:{draw_on_the_screen:"  ",draw_on_the_screen_help:"      ",general_feedback:"  ",general_feedback_help:"     ",view_other_feedback:"  ",view_other_feedback_help:"       ",your_email_address:" ",select_a_category:" ",leave_us_your_comment:" ...",send:"",back:"",remove:"",close:"",save:"",delete:"",add_your_comment_here:" ...",receive_updates:" ",attach_a_file:" ",file_format_not_supported:"    ",max:"",open_feedback:"   ",search:"...",cancel:"",feedback_not_found:"   ",rating_hate:" ",rating_dislike:"",rating_neutral:" ",rating_like:"",rating_love:" "},fr:{draw_on_the_screen:"Dessiner sur l'ecran",draw_on_the_screen_help:"Commenter sur des domaines spcifiques de cette page",general_feedback:"Impressions generales",general_feedback_help:"Donnez une valuation gnrale de cette page *",view_other_feedback:"Voir d'autres commentaires",view_other_feedback_help:"Autres commentaires de cette page",your_email_address:"Votre addresse e-mail",select_a_category:"Selectionner une categorie",leave_us_your_comment:"Laisser votre commentaire...",send:"Envoyer",back:"Retour",remove:"Retirer",close:"Fermer",save:"Sauvegarder",delete:"Effacer",add_your_comment_here:"Ajouter votre commentaire ici...",receive_updates:"Recevoir des mises  jour",attach_a_file:"Attacher un fichier",file_format_not_supported:"Format de fichier non supporte",max:"Maximimum",open_feedback:"Commentaires libres",search:"Chercher...",cancel:"Annulation",feedback_not_found:"Oops, no feedback could be found.",rating_hate:"Dteste",rating_dislike:"N'aime pas",rating_neutral:"Neutre",rating_like:"Aime",rating_love:"Adore"},ru:{draw_on_the_screen:"  ",draw_on_the_screen_help:"       ",general_feedback:" ",general_feedback_help:"    ",view_other_feedback:"  ",view_other_feedback_help:"    ",your_email_address:" . ",select_a_category:" ",leave_us_your_comment:" ...",send:"",back:"",remove:"",close:"",save:"",delete:"",add_your_comment_here:"  ",receive_updates:" ",attach_a_file:" ",file_format_not_supported:"   ",max:"",open_feedback:"",search:"...",cancel:"",feedback_not_found:"!      ",rating_hate:"",rating_dislike:" ",rating_neutral:"",rating_like:"",rating_love:""},nl:{draw_on_the_screen:"Teken op het scherm",draw_on_the_screen_help:"Teken of markeer specifieke gedeelten op deze pagina",general_feedback:"Algemene feedback",general_feedback_help:"Geef je feedback voor deze pagina",view_other_feedback:"Bekijk andere feedback",view_other_feedback_help:"Alle andere feedback voor deze pagina",your_email_address:"Jouw e-mailadres",select_a_category:"Selecteer een categorie",leave_us_your_comment:"Laat hier uw feedback achter....",send:"Verzenden",back:"Terug",remove:"Verwijderen",close:"Dichtbij",save:"Opslaan",delete:"Verwijderen",add_your_comment_here:"Plaats je reactie hier...",receive_updates:"Krijg updates",attach_a_file:"Bijlage toevoegen",file_format_not_supported:"Bestandsformaat niet ondersteund",max:"Max",open_feedback:"feedback",search:"Zoeken...",cancel:"Annuleren",feedback_not_found:"Oeps, geen overeenkomende resultaten gevonden.",rating_hate:"Slecht",rating_dislike:"Matig",rating_neutral:"Neutraal",rating_like:"Goed",rating_love:"Geweldig"},pt:{draw_on_the_screen:"Desenhe no Ecr",draw_on_the_screen_help:"Escreva o seu comentrio sobre reas especficas desta pgina",general_feedback:"Comentrio Geral",general_feedback_help:"Escreva o seu comentrio geral sobre esta pgina",view_other_feedback:"Veja outros Comentrios",view_other_feedback_help:"Todos os outros Comentrios desta pgina",your_email_address:"O seu Email",select_a_category:"Escolha uma Categoria",leave_us_your_comment:"Deixe-nos o seu Comentrio...",send:"Envia",back:"Voltar",remove:"Remover",close:"Fechar",save:"Gravar",delete:"Apagar",add_your_comment_here:"Adicione o seu comentrio aqui...",receive_updates:"Receber atualizaes",attach_a_file:"Anexe o seu Ficheiro",file_format_not_supported:"Formato do Ficheiro no  suportado",max:"Max",open_feedback:"comentrios abertos",search:"Pesquisa...",cancel:"Cancelar",feedback_not_found:"Nenhums commentrios foram achados",rating_hate:"Odeio",rating_dislike:"No gosto",rating_neutral:"Neutro",rating_like:"Gosto",rating_love:"Adoro"},lt:{draw_on_the_screen:"Pieti ant ekrano",draw_on_the_screen_help:"Pateikite atsiliepim apie konkrei viet iame puslapyje",general_feedback:"Bendras atsiliepimas",general_feedback_help:"Pateikite io puslapio atsiliepim",view_other_feedback:"Perirti kit atsiliepim",view_other_feedback_help:"Visi io puslapio atsiliepimai",your_email_address:"Js el. pato adresas",select_a_category:"Pasirinkite kategorij",leave_us_your_comment:"Palikite mums savo komentar...",send:"Sisti",back:"Atgal",remove:"paalinti",close:"Udaryti",save:"Isaugoti",delete:"Itrinti",add_your_comment_here:"Pridkite komentar ia...",receive_updates:"Gauti atnaujinimus",attach_a_file:"Pridkite fail",file_format_not_supported:"Failo tipas nepalaikomas",max:"Maksimalus",open_feedback:"atidaryti atsiliepim",search:"Paieka...",cancel:"Ataukti",feedback_not_found:"Oi, nerasta atsiliepim pagal kriterijus",rating_hate:"Ienstu",rating_dislike:"Nepatika",rating_neutral:"Neitrla",rating_like:"Patika",rating_love:"Mlu"},pl:{draw_on_the_screen:"Wska na ekranie",draw_on_the_screen_help:"Przelij sugestie oznaczajc obszar na ekranie",general_feedback:"Sugestia oglna",general_feedback_help:"Przelij ogln sugestie dotyczc strony",view_other_feedback:"Zobacz inne sugestie",view_other_feedback_help:"Wszystkie sugestie dotyczce tej strony",your_email_address:"Twj adres Email",select_a_category:"Wybierz kategorie",leave_us_your_comment:"Pozostaw swj komentarz...",send:"Wylij",back:"wr",remove:"Usun",close:"Blisko",save:"Zapisz",delete:"Usu",add_your_comment_here:"Dodaj swj komentarz...",receive_updates:"Odbieraj aktualizacje",attach_a_file:"Dodaj plik",file_format_not_supported:"Typ pliku nie jest obsugiwany",max:"Max",open_feedback:"otwartych sugestii",search:"Search...",cancel:"Anuluj",feedback_not_found:"Ups, nie znaleziono pasujcych sugestii",rating_hate:"Okropnie",rating_dislike:"le",rating_neutral:"Neutralnie",rating_like:"Dobrze",rating_love:"wietnie"},es:{},de:{draw_on_the_screen:"Auf den Bildschirm zeichnen",draw_on_the_screen_help:"Feedback zu bestimmten Bereichen dieser Seite geben",general_feedback:"Allgemeines Feedback",general_feedback_help:"Allgemeines Feedback zu dieser Seite geben",view_other_feedback:"Weiteres Feedback ansehen",view_other_feedback_help:"Alle weiteren Feedbacks dieser Seite ansehen",your_email_address:"Ihre Email Adresse",select_a_category:"Eine Kategorie auswhlen",leave_us_your_comment:"Bitte geben Sie hier Ihr Feedback ein...",send:"Absenden",back:"Zurck",remove:"Entfernen",close:"Schlieen",save:"Speichern",delete:"Lschen",add_your_comment_here:"Add your comment here...",receive_updates:"Erhalte Updates",attach_a_file:"Eine Datei anhngen",file_format_not_supported:"Dateiformat wird nicht untersttzt",max:"Max",open_feedback:"Feedbacks",search:"Suchen...",cancel:"Abbrechen",feedback_not_found:"Ups, es gibt kein Feedback zu Ihrer Suche.",rating_hate:"Gefllt mir gar nicht",rating_dislike:"Gefllt mir nicht",rating_neutral:"Neutral",rating_like:"Gefllt mir",rating_love:"Gefllt mir sehr"},setLang:function(language){this.language=language},get:function(key,include_fallback){if(!Lang[Lang.language]){Lang.language="en"}if(Lang[Lang.language][key]){return Lang[Lang.language][key]}else{if(include_fallback){return Lang["en"][key]||""}else{return""}}}};var Feedback={request_url:"https://api.userback.io",host_url:"https://app.userback.io",proxy_url:"https://proxy.userback.io",static_url:"https://static.userback.io",preview_mode:false,access_token:"",load_type:"web",is_loaded:false,configs:{categories:[],is_live:true,language:"en",display_category:false,display_feedback:false,display_attachment:false,display_powered_by:true,display_receive_updates:true,rating_type:"",rating_help_message:"How would you rate your experience?",style:"text",position:"se",autohide:false,feedback:[],main_button_text:"FEEDBACK",main_button_text_colour:"#FFFFFF",main_button_background_colour:"#3E3F3A",send_button_text_colour:"#FFFFFF",send_button_background_colour:"#74A26E"},widget_settings:{},ui:{element:null,button:null,overlay:null,controls:null,feedback_view:null},mime_type:"image/jpeg",compression_rate:1,has_touch:function(){return"ontouchstart"in window}(),email:"",categories:"",custom_data:{},before_send:null,after_send:null,on_open:null,on_close:null,screenshot_data_uri:"",screenshot_ratio:"landscape",attachment_data_uri:"",attachment_file_name:"",comments:[],init:function(){if(this.loaded){return}else{this.loaded=true}if(Userback.preview_mode!==undefined){this.preview_mode=!!Userback.preview_mode}if(Userback.request_url!==undefined){this.request_url=Userback.request_url}if(Userback.host_url!==undefined){this.host_url=Userback.host_url}if(Userback.access_token!==undefined){this.access_token=Userback.access_token}if(Userback.load_type!==undefined){this.load_type=Userback.load_type}if(Userback.custom_data!==undefined){Userback.setData(Userback.custom_data)}if(Userback.before_send!==undefined){this.before_send=Userback.before_send}if(Userback.after_send!==undefined){this.after_send=Userback.after_send}if(Userback.on_open!==undefined){this.on_open=Userback.on_open}if(Userback.on_close!==undefined){this.on_close=Userback.on_close}if(Userback.email!==undefined){Userback.setEmail(Userback.email)}if(Userback.categories!==undefined){Userback.setCategories(Userback.categories)}if(Userback.widget_settings!==undefined){this.widget_settings=Userback.widget_settings}this.loadConfigs()},loadConfigs:function(){if(!Userback||this.load_type==="web"&&!this.access_token){return}if($(".userback-button-container").length){return}$.ajax(this.request_url+"/?loadWidgetConfig",{data:{action:"widget/loadConfig",domain:document.domain,load_type:this.load_type,access_token:this.access_token},crossDomain:true,dataType:"json",type:"POST",context:this,success:function(response){if(response){this.is_loaded=true;if(response.allow_customize===true){this.configs=$.extend(this.configs,response,this.widget_settings)}else{this.configs=$.extend(this.configs,response)}Lang.setLang(this.configs.language);this.addCSS(this.addButton)}}})},isMobile:function(){var temp_element=$("<div>").addClass("userback-mobile-only").appendTo($(document.body));var is_mobile=temp_element.is(":visible")?true:false;temp_element.remove();return is_mobile},addCSS:function(callback){var parent_node=document.head||document.body;$("<link>").attr({rel:"stylesheet",href:this.static_url+"/widget/v1.css"}).appendTo($(parent_node));var self=this;var _interval_id=setInterval(function(){var detector=$("<div>").addClass("userback-load-detector").appendTo($(document.body));if(detector.css("z-index")==1999){callback.call(self);clearInterval(_interval_id)}detector.remove()},10)},addButton:function(){if(this.ui.button){return}this.ui.element=$("<div>").addClass("userback-button-container").attr("data-html2canvas-ignore","true").appendTo($(document.body));this.ui.button=$("<div>").addClass("userback-button userback-button-"+this.configs.position);this.ui.button.attr("wstyle",this.configs.style);if(this.configs.autohide){this.ui.button.hide()}if(this.configs.style==="circle"){this.ui.button.attr("title",this.configs.main_button_text);this.ui.button.html(Svg_Icons.help);this.ui.button.find("svg").css("fill",this.configs.main_button_text_colour)}else{this.ui.button.text(this.configs.main_button_text);this.ui.button.css("color",this.configs.main_button_text_colour)}this.ui.button.css("background-color",this.configs.main_button_background_colour);this.ui.button.appendTo(this.ui.element);this.ui.button.on("click",$.proxy(this.openControls,this));this.ui.button.on("click mouseup mousedown",function(e){e.stopPropagation()})},addOverlay:function(){if(this.ui.overlay){return}this.ui.overlay=$("<div>").addClass("userback-overlay").attr("data-html2canvas-ignore","true").attr("tooltype",this.Tools.type);this.ui.overlay.width($(document).width());this.ui.overlay.height($(document).height());this.ui.overlay.appendTo($(document.body));this.ui.overlay.append('<svg id="snap_svg" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%">');this.Tools.init();this.removeComments();this.ui.overlay.on("click mouseup mousedown mouseout mousemove mouseenter mouseleave touchstart touchmove touchcancel touchend",$.proxy(function(e){if(this.Tools.dragging_obj||this.Tools.dragging_toolbar||this.Tools.draw_started){return}e.stopPropagation()},this));$(window).on("resize",$.proxy(this.windowResize,this))},Tools:{type:"square",colour:{options:["#FF0000","#FFFF00","#008000","#0000FF","#FFFFFF","#000000"],square:docCookies.getItem("userback_tool_colour_square")||"#FF0000",blackout:docCookies.getItem("userback_tool_colour_blackout")||"#000000",path:docCookies.getItem("userback_tool_colour_path")||"#FFFF00",arrow:docCookies.getItem("userback_tool_colour_arrow")||"#FF0000",line:docCookies.getItem("userback_tool_colour_line")||"#FF0000"},start_x:0,start_y:0,stop_x:0,stop_y:0,svg_delete_icons:[],svg_obj_arrow_group:false,svg_obj_new_arrow:false,svg_obj_new_arrow_1:false,svg_obj_new_arrow_2:false,svg_obj_line:false,svg_obj_rectangular:false,svg_obj_path:false,draw_started:false,dragging_obj:false,dragging_toolbar:false,toolbar:null,init:function(){this.snap=Snap("#snap_svg");var timeout;var _commentStart=function(e){clearTimeout(timeout);timeout=setTimeout(function(){Feedback.commentStart.call(Feedback,e)},10)};this.snap.click(_commentStart);this.snap.touchend(_commentStart);this.snap.drag($.proxy(this.dragMove,this),$.proxy(this.dragStart,this),$.proxy(this.dragStop,this));this.snap.touchstart($.proxy(this.dragStart,this));this.snap.touchmove($.proxy(this.dragMove,this));this.snap.touchcancel($.proxy(this.dragStop,this));this.snap.touchend($.proxy(this.dragStop,this));this.addTools()},addTools:function(){Feedback.disableScroll();if(this.toolbar){return}var tool_colour_indicator="";tool_colour_indicator+='<div class="userback-toolbar-tool-colour-indicator">';tool_colour_indicator+="<div>";$.each(this.colour.options,function(index,colour){tool_colour_indicator+='<div class="userback-toolbar-tool-colour-indicator-option" style="background-color:'+colour+';" data-colour="'+colour+'"></div>'});tool_colour_indicator+="</div>";tool_colour_indicator+="</div>";var tools='<div class="userback-toolbar-tool userback-toolbar-tool-square" data-type="square" title="'+Lang.get("highlight",false)+'">'+Svg_Icons.square+tool_colour_indicator+"</div>"+'<div class="userback-toolbar-tool userback-toolbar-tool-blackout" data-type="blackout" title="'+Lang.get("blackout",false)+'">'+Svg_Icons.blackout+tool_colour_indicator+"</div>"+'<div class="userback-toolbar-tool userback-toolbar-tool-path" data-type="path" title="'+Lang.get("pencil",false)+'">'+Svg_Icons.draw+tool_colour_indicator+"</div>"+'<div class="userback-toolbar-tool userback-toolbar-tool-line" data-type="line" title="'+Lang.get("line",false)+'">'+Svg_Icons.line+tool_colour_indicator+"</div>"+'<div class="userback-toolbar-tool userback-toolbar-tool-arrow" data-type="arrow" title="'+Lang.get("arrow",false)+'">'+Svg_Icons.arrow+tool_colour_indicator+"</div>"+'<div class="userback-toolbar-tool userback-toolbar-tool-comment" data-type="comment" title="'+Lang.get("add_a_comment",false)+'">'+Svg_Icons.comment+"</div>"+'<button class="userback-toolbar-tool-done userback-button-input" title="'+Lang.get("capture_screenshot",false)+'">'+Svg_Icons.camera+"</button>"+'<a href="#" class="userback-toolbar-close" title="'+Lang.get("close")+'"></a>';this.toolbar=$("<div>").addClass("userback-toolbar").attr("data-html2canvas-ignore","true");this.toolbar.html(tools);this.setToolColour();this.toolbar.appendTo($(document.body));this.toolbar.draggable({addClasses:false,scroll:false,iframeFix:true,start:$.proxy(function(){this.dragging_toolbar=true},this),stop:$.proxy(function(){this.dragging_toolbar=false},this)});this.toolbar.on("mouseenter",$.proxy(function(){if(this.draw_started||this.dragging_obj){this.toolbar.css("opacity","0.5")}},this));this.toolbar.on("mouseleave",$.proxy(function(){this.toolbar.css("opacity","")},this));this.toolbar.find('.userback-toolbar-tool[data-type="'+this.type+'"]').addClass("userback-toolbar-tool-active");this.toolbar.find(".userback-toolbar-tool").on("click",$.proxy(function(e){var tool_type=$(e.currentTarget).data("type");Feedback.closeEmptyComment();this.type=tool_type;this.toolbar.find(".userback-toolbar-tool").removeClass("userback-toolbar-tool-active");$(e.currentTarget).addClass("userback-toolbar-tool-active");Feedback.ui.overlay.attr("tooltype",this.type)},this));this.toolbar.find(".userback-toolbar-tool-done").on("click",function(e){var camera_button=$(e.currentTarget);Feedback.closeEmptyComment();if(Userback.screen_capture||Feedback.configs.is_live){Feedback.Tools.removeTools();Feedback.hideComments()}else{camera_button.prop("disabled",true).text("Wait")}setTimeout(function(){Feedback.capture(function(data_uri){if(!Userback.screen_capture){camera_button.prop("disabled",false).text("Done")}Feedback.screenshot_data_uri=data_uri;Feedback.setControlsStep(2);Feedback.showControls();if(Userback.screen_capture){Lib.getImageSize(data_uri,function(image_width,image_height){if(Math.abs(image_width-$(window).width())>30){Lib.resizeImage(data_uri,$(window).width(),"image/png",function(data){Feedback.screenshot_data_uri=data})}})}setTimeout(function(){Feedback.addScreenshotPreview();Feedback.removeOverlay();Feedback.Tools.removeTools();Feedback.hideComments()},400)})},Userback.screen_capture?20:0)});this.toolbar.find(".userback-toolbar-close").on("click",$.proxy(function(e){e.preventDefault();Feedback.showControls();Feedback.removeOverlay();Feedback.removeComments();this.removeTools()},this));this.toolbar.find(".userback-toolbar-tool-colour-indicator-option").on("click",$.proxy(function(e){var colour=$(e.currentTarget).data("colour");var tool_type=$(e.currentTarget).parents(".userback-toolbar-tool:first").data("type");this.colour[tool_type]=colour;this.setToolColour();docCookies.setItem("userback_tool_colour_"+tool_type,colour)},this));this.toolbar.on("click",function(e){e.stopPropagation()})},removeTools:function(){Feedback.enableScroll();if(!this.toolbar){return}this.toolbar.remove();this.toolbar=null},removeDeleteIcons:function(){$(this.svg_delete_icons).each(function(){this.remove()});this.svg_delete_icons=[]},setToolColour:function(){this.toolbar.find(".userback-toolbar-tool-square .userback-toolbar-tool-colour-indicator").css("background-color",this.colour.square);this.toolbar.find(".userback-toolbar-tool-square .userback-toolbar-tool-colour-indicator-option").removeClass("active");this.toolbar.find('.userback-toolbar-tool-square .userback-toolbar-tool-colour-indicator-option[data-colour="'+this.colour.square+'"]').addClass("active");this.toolbar.find(".userback-toolbar-tool-blackout .userback-toolbar-tool-colour-indicator").css("background-color",this.colour.blackout);this.toolbar.find(".userback-toolbar-tool-blackout .userback-toolbar-tool-colour-indicator-option").removeClass("active");this.toolbar.find('.userback-toolbar-tool-blackout .userback-toolbar-tool-colour-indicator-option[data-colour="'+this.colour.blackout+'"]').addClass("active");this.toolbar.find(".userback-toolbar-tool-path .userback-toolbar-tool-colour-indicator").css("background-color",this.colour.path);this.toolbar.find(".userback-toolbar-tool-path .userback-toolbar-tool-colour-indicator-option").removeClass("active");this.toolbar.find('.userback-toolbar-tool-path .userback-toolbar-tool-colour-indicator-option[data-colour="'+this.colour.path+'"]').addClass("active");this.toolbar.find(".userback-toolbar-tool-line .userback-toolbar-tool-colour-indicator").css("background-color",this.colour.line);this.toolbar.find(".userback-toolbar-tool-line .userback-toolbar-tool-colour-indicator-option").removeClass("active");this.toolbar.find('.userback-toolbar-tool-line .userback-toolbar-tool-colour-indicator-option[data-colour="'+this.colour.line+'"]').addClass("active");this.toolbar.find(".userback-toolbar-tool-arrow .userback-toolbar-tool-colour-indicator").css("background-color",this.colour.arrow);this.toolbar.find(".userback-toolbar-tool-arrow .userback-toolbar-tool-colour-indicator-option").removeClass("active");this.toolbar.find('.userback-toolbar-tool-arrow .userback-toolbar-tool-colour-indicator-option[data-colour="'+this.colour.arrow+'"]').addClass("active")},dragStart:function(){var x,y,event;if(typeof arguments[0]==="object"){event=arguments[0]}else{event=arguments[2]}if(event.changedTouches&&event.changedTouches.length){x=event.changedTouches[0].pageX;y=event.changedTouches[0].pageY}else{x=event.pageX;y=event.pageY}if(this.dragging_obj){if(this.dragging_obj.data("drag_started")){
return}this.dragging_obj.appendTo(self.snap);this.dragging_obj.data("drag_started",true);this.dragging_obj.data("original_x",x);this.dragging_obj.data("original_y",y);if(!this.dragging_obj.data("transform_x")){this.dragging_obj.data("transform_x",0);this.dragging_obj.data("transform_y",0)}}else{if(this.draw_started){return}if(event.changedTouches&&event.changedTouches.length){x=event.changedTouches[0].pageX;y=event.changedTouches[0].pageY}else{x=event.pageX;y=event.pageY}this.draw_started=true;switch(this.type){case"arrow":this.svg_obj_new_arrow=this.snap.line(x,y,x,y);this.svg_obj_new_arrow_1=this.snap.line(x,y,x,y);this.svg_obj_new_arrow_2=this.snap.line(x,y,x,y);this.svg_obj_arrow_group=this.snap.group(this.svg_obj_new_arrow,this.svg_obj_new_arrow_1,this.svg_obj_new_arrow_2);this.svg_obj_arrow_group.attr({stroke:this.colour.arrow,"stroke-width":6,"stroke-linecap":"round","stroke-linejoin":"round"});break;case"line":this.svg_obj_line=this.snap.line(x,y,x,y);this.svg_obj_line.attr({stroke:this.colour.line,"stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round"});break;case"square":this.svg_obj_rectangular=this.snap.rect(x,y,1,1,3,3);this.svg_obj_rectangular.attr({stroke:this.colour.square,"stroke-width":4,"stroke-linecap":"round","stroke-linejoin":"round","stroke-dasharray":"10 10 10 10",fill:"transparent"});break;case"path":case"blackout":this.svg_obj_path=this.snap.path("M"+x+","+y);this.svg_obj_path.attr({stroke:this.type==="path"?this.colour.path:this.colour.blackout,"stroke-width":this.type==="path"?15:50,"stroke-linecap":"round","stroke-linejoin":"round",fill:"transparent",opacity:this.type==="path"?.6:1});break}}this.start_x=x;this.start_y=y;this.stop_x=x;this.stop_y=y},dragStop:function(event){var x,y;if(event.changedTouches&&event.changedTouches.length){x=event.changedTouches[0].pageX;y=event.changedTouches[0].pageY}else{x=event.pageX;y=event.pageY}if(this.dragging_obj){if(!this.dragging_obj.data("drag_started")){return}this.dragging_obj.data("drag_started",false);this.dragging_obj.data("transform_x",this.dragging_obj.data("transform_x_temp"));this.dragging_obj.data("transform_y",this.dragging_obj.data("transform_y_temp"));this.dragging_obj=false;if(Math.abs(x-this.start_x)>10||Math.abs(y-this.start_y)>10){this.dragging_obj_stop_time=(new Date).getTime()}else{this.dragging_obj_stop_time=0}this.start_x=0;this.start_y=0;this.stop_x=0;this.stop_y=0}else{if(!this.draw_started){return}var direction_x=x-this.start_x>0?"right":"left";var direction_y=y-this.start_y>0?"down":"up";if(Math.abs(this.stop_x-this.start_x)<10&&Math.abs(this.stop_y-this.start_y)<10){switch(this.type){case"arrow":this.svg_obj_arrow_group.remove();break;case"line":this.svg_obj_line.remove();break;case"square":this.svg_obj_rectangular.remove();break;case"path":this.svg_obj_path.remove();break}}else{var icon_x=x-12;var icon_y=y-12;var icon=this.snap.image(Svg_Icons.delete_icon,icon_x,icon_y,24,24).attr({cursor:"pointer",display:"none"});this.svg_delete_icons.push(icon);switch(this.type){case"arrow":this.svg_obj_arrow_group=this.snap.group(this.svg_obj_arrow_group,icon);this.hoverable(this.svg_obj_arrow_group,icon);this.draggable(this.svg_obj_arrow_group);break;case"line":this.svg_obj_line=this.snap.group(this.svg_obj_line,icon);this.hoverable(this.svg_obj_line,icon);this.draggable(this.svg_obj_line);break;case"square":this.svg_obj_rectangular=this.snap.group(this.svg_obj_rectangular,icon);this.hoverable(this.svg_obj_rectangular,icon);this.draggable(this.svg_obj_rectangular);break;case"path":case"blackout":this.svg_obj_path=this.snap.group(this.svg_obj_path,icon);this.hoverable(this.svg_obj_path,icon);this.draggable(this.svg_obj_path);break}if(this.type==="arrow"||this.type==="line"||this.type==="square"||this.type==="path"){Feedback.addComment(this.stop_x,this.stop_y)}}this.draw_started=false;this.start_x=0;this.start_y=0;this.stop_x=0;this.stop_y=0;this.svg_obj_arrow_group=false;this.svg_obj_new_arrow_2=false;this.svg_obj_new_arrow_1=false;this.svg_obj_new_arrow=false;this.svg_obj_line=false;this.svg_obj_rectangular=false;this.svg_obj_path=false}},dragMove:function(){var x,y,event;if(typeof arguments[0]==="object"){event=arguments[0]}else{event=arguments[4]}if(this.dragging_obj){if(!this.dragging_obj.data("drag_started")){return}if(event.changedTouches&&event.changedTouches.length){x=event.changedTouches[0].pageX;y=event.changedTouches[0].pageY}else{x=event.pageX;y=event.pageY}var t=new Snap.Matrix;var mouse_movement_x=x-this.dragging_obj.data("original_x");var mouse_movement_y=y-this.dragging_obj.data("original_y");var transform_x=mouse_movement_x+this.dragging_obj.data("transform_x");var transform_y=mouse_movement_y+this.dragging_obj.data("transform_y");this.dragging_obj.data("transform_x_temp",transform_x);this.dragging_obj.data("transform_y_temp",transform_y);t.translate(transform_x,transform_y);this.dragging_obj.transform(t)}else{if(!this.draw_started){return}if(event.changedTouches&&event.changedTouches.length){x=event.changedTouches[0].pageX;y=event.changedTouches[0].pageY}else{x=event.pageX;y=event.pageY}var direction_x=x-this.start_x>0?"right":"left";var direction_y=y-this.start_y>0?"down":"up";this.stop_x=x;this.stop_y=y;switch(this.type){case"arrow":var path_string="M"+this.stop_x+","+this.stop_y+"L"+this.start_x+","+this.start_y;var arrow_points=Snap.path.getPointAtLength(path_string,25);this.svg_obj_new_arrow.attr({x2:this.stop_x,y2:this.stop_y});this.svg_obj_new_arrow_1.attr({x1:this.stop_x,y1:this.stop_y,x2:arrow_points.x,y2:arrow_points.y});this.svg_obj_new_arrow_2.attr({x1:this.stop_x,y1:this.stop_y,x2:arrow_points.x,y2:arrow_points.y});var arrow_1_matrix=new Snap.Matrix;arrow_1_matrix.rotate(35,this.stop_x,this.stop_y);this.svg_obj_new_arrow_1.transform(arrow_1_matrix);var arrow_2_matrix=new Snap.Matrix;arrow_2_matrix.rotate(-35,this.stop_x,this.stop_y);this.svg_obj_new_arrow_2.transform(arrow_2_matrix);break;case"line":this.svg_obj_line.attr({x2:this.stop_x,y2:this.stop_y});break;case"square":this.svg_obj_rectangular.attr({x:direction_x==="right"?this.start_x:this.stop_x,y:direction_y==="down"?this.start_y:this.stop_y,width:Math.abs(this.stop_x-this.start_x),height:Math.abs(this.stop_y-this.start_y)});break;case"path":case"blackout":var current_path=this.svg_obj_path.attr("path");var new_path=current_path+"L"+this.stop_x+","+this.stop_y;this.svg_obj_path.attr("path",new_path);break}}},hoverable:function(obj,delete_icon){var shadow_filter=this.snap.filter(Snap.filter.shadow(0,0,5,"black",.7));var timeout_id=false;var self=this;delete_icon.click(function(){obj.remove()});obj.mouseover(function(){if(self.draw_started){return}clearTimeout(timeout_id);delete_icon.attr("display","");this.attr({filter:shadow_filter})});obj.mouseout(function(){timeout_id=setTimeout($.proxy(function(){delete_icon.attr("display","none");this.attr({filter:""})},this),200)});if(Feedback.has_touch){delete_icon.touchend(function(){setTimeout(function(){obj.remove()},0)});obj.touchstart(function(){if(delete_icon.attr("display")==="none"){delete_icon.attr("display","")}else{delete_icon.attr("display","none")}})}},draggable:function(obj){var dragStart=$.proxy(function(event,x,y){this.dragging_obj=obj},this);obj.attr({cursor:"move"});obj.mousedown($.proxy(dragStart,this));obj.touchstart($.proxy(dragStart,this))}},removeOverlay:function(){if(!this.ui.overlay){return}this.ui.overlay.remove();this.ui.overlay=null;$(window).off("resize",$.proxy(this.windowResize,this))},windowResize:function(e){if(this.ui.overlay){this.ui.overlay.hide();this.ui.overlay.width($(document).width());this.ui.overlay.height($(document).height());this.ui.overlay.show()}},_mouseScroll:function(e){e.preventDefault()},_scrollKeyDown:function(e){var tag_name=$(e.target).prop("tagName");if(tag_name!=="TEXTAREA"){var keys={37:1,38:1,39:1,40:1};if(keys[e.keyCode]){e.preventDefault()}}},_scrollWindow:function(e){$(window).scrollTop(this._scroll_top)},disableScroll:function(){this._scroll_top=$(window).scrollTop();$(window).on("scroll",$.proxy(this._scrollWindow,this));$(window).on("mousewheel DOMMouseScroll touchmove",this._mouseScroll);$(document).on("keydown",this._scrollKeyDown)},enableScroll:function(){$(window).off("scroll",$.proxy(this._scrollWindow,this));$(window).off("mousewheel DOMMouseScroll touchmove",this._mouseScroll);$(document).off("keydown",this._scrollKeyDown)},addComment:function(x,y){this.closeEmptyComment();var comment=new Comment({x:x,y:y,counter:this.comments.length,onOpen:$.proxy(function(counter){this.closeEmptyComment();$.each(this.comments,function(index,comment){if(index!==counter){comment.hideForm()}})},this),onDelete:$.proxy(function(counter){this.comments.splice(counter,1);$.each(this.comments,function(index,comment){comment.setCounter(index)})},this)});comment.add();this.comments.push(comment)},hideComments:function(){$.each(this.comments,function(index,comment){comment.hide()})},removeComments:function(){$.each(this.comments,function(index,comment){comment.destroy()});this.comments=[]},addFeedbackView:function(){if(this.ui.feedback_view){return}if(!this.configs.display_feedback){return}var feedbackHTML=function(feedback){return'<div class="userback-feedback">'+'<a href="'+feedback.url+'" target="viewer" style="background-image:url(\''+Lib.htmlEntities(feedback.screenshot)+"');\">"+"<div>"+'<div class="userback-feedback-description">'+Lib.htmlEntities(feedback.description,true)+"</div>"+"</div>"+"</a>"+'<div class="userback-feedback-page" title="'+Lib.htmlEntities(feedback.page)+'">'+Lib.htmlEntities(feedback.page)+"</div>"+"</div>"};var html='<a class="userback-feedback-view-close userback-button-close" href="#"></a>';html+='<div class="userback-feedback-view-scroller userback-feedback-view-scroller-loading"></div>';html+='<form class="userback-feedback-view-search-form"><input type="text" placeholder="'+Lang.get("search")+'"><a href="#">'+Lang.get("cancel")+"</a></form>";this.ui.feedback_view=$("<div>").addClass("userback-feedback-view userback-feedback-view-"+this.configs.position);this.ui.feedback_view.html(html);this.ui.feedback_view.appendTo($(document.body));setTimeout($.proxy(function(){$.ajax(this.request_url+"/?loadWidgetFeedback",{data:{action:"widget/loadFeedback",domain:document.domain,load_type:this.load_type,access_token:this.access_token},crossDomain:true,dataType:"json",type:"POST",context:this,success:function(response){var feedback_html="";if(response){this.configs.feedback=response;if(response.length){$.each(response,function(index,feedback){feedback_html+=feedbackHTML(feedback)});this.ui.feedback_view.append('<div class="userback-feedback-view-title">'+'<div class="userback-feedback-view-search">'+Svg_Icons.search+"</div>"+'<span class="userback-feedback-view-search-total">'+response.length+" "+Lang.get("open_feedback")+"</span>"+"</div>")}else{feedback_html+='<div class="userback-feedback-view-empty">'+Lang.get("feedback_not_found")+"</div>"}}else{feedback_html+='<div class="userback-feedback-view-empty">'+Lang.get("feedback_not_found")+"</div>"}this.ui.feedback_view.find(".userback-feedback-view-scroller").html(feedback_html);this.ui.feedback_view.find(".userback-feedback-view-search").on("click",$.proxy(function(e){this.ui.feedback_view.find(".userback-feedback-view-search-form").show().find("input").focus()},this))},complete:function(){this.ui.feedback_view.find(".userback-feedback-view-scroller").removeClass("userback-feedback-view-scroller-loading")}})},this),200);this.ui.feedback_view.find(".userback-feedback-view-close").on("click",$.proxy(function(e){e.preventDefault();this.reset()},this));this.ui.feedback_view.find(".userback-feedback-view-search-form a").on("click",$.proxy(function(e){e.preventDefault();this.ui.feedback_view.find(".userback-feedback-view-search-form").hide()},this));this.ui.feedback_view.find(".userback-feedback-view-search-form").on("submit",$.proxy(function(e){e.preventDefault();var search_string=this.ui.feedback_view.find(".userback-feedback-view-search-form input").val();var regex=new RegExp(search_string,"i");var html="";var count=0;$.each(this.configs.feedback,function(index,feedback){if(search_string){if(regex.test(feedback.page)||regex.test(feedback.description)){count++;html+=feedbackHTML(feedback)}}else{count++;html+=feedbackHTML(feedback)}});if(html===""){html+='<div class="userback-feedback-view-empty">'+Lang.get("feedback_not_found")+"</div>"}this.ui.feedback_view.find(".userback-feedback-view-search-total").text(count+" open feedabck");this.ui.feedback_view.find(".userback-feedback-view-scroller").html(html);this.ui.feedback_view.find(".userback-feedback-view-search-form").hide()},this))},removeFeedbackView:function(){if(!this.ui.feedback_view){return}this.ui.feedback_view.remove();this.ui.feedback_view=null},addControls:function(){if(this.ui.controls){return}this.ui.controls=$("<div>").addClass("userback-controls userback-controls-"+this.configs.position);this.ui.controls.attr("wstyle",this.configs.style);if(this.configs.autohide){this.ui.controls.attr("autohide","true")}this.setControlsStep(1);this.ui.controls.appendTo(this.ui.element);this.ui.controls.on("click",".userback-controls-close",$.proxy(this.reset,this));this.ui.controls.on("click",".userback-button-feedback-type",$.proxy(this.feedbackTypeSelect,this));this.ui.controls.on("click",".userback-controls-screenshot-label a",$.proxy(this.removeScreenshot,this));this.ui.controls.on("click",".userback-controls-add-attachment",$.proxy(this.selectAttachment,this));this.ui.controls.on("click",".userback-controls-rating > div",$.proxy(this.selectRating,this));this.ui.controls.on("mouseenter",".userback-controls-rating > div",$.proxy(this.previewRating,this));this.ui.controls.on("mouseleave",".userback-controls-rating > div",$.proxy(this.unPreviewRating,this));this.ui.controls.on("click",".userback-controls-remove-attachment",$.proxy(this.removeAttachment,this));this.ui.controls.on("change",".userback-controls-attachment",$.proxy(this.uploadAttachment,this));this.ui.controls.on("submit",".userback-controls-options",$.proxy(this.send,this));this.ui.controls.on("click",".userback-controls-back",$.proxy(this.back,this));this.ui.controls.on("change",'select[name="category"]',$.proxy(this.changeCategory,this));this.ui.controls.on("click mouseup mousedown",function(e){e.stopPropagation()})},removeControls:function(){if(!this.ui.controls){return}this.ui.controls.remove();this.ui.controls=null},setControlsStep:function(step){var html='<a href="#" class="userback-controls-close userback-button-close" title="'+Lang.get("close")+'"></a>';if(step===1){html+='<div class="userback-controls-step" data-step="1">'+'<div class="userback-button-feedback-type" data-type="screenshot">'+Svg_Icons.camera+'<div class="userback-feedback-type-title">'+Lang.get("draw_on_the_screen")+"</div>"+'<div class="userback-feedback-type-description">'+Lang.get("draw_on_the_screen_help")+"</div>"+"</div>"+'<div class="userback-button-feedback-type" data-type="form">'+Svg_Icons.comment+'<div class="userback-feedback-type-title">'+Lang.get("general_feedback")+"</div>"+'<div class="userback-feedback-type-description">'+Lang.get("general_feedback_help")+"</div>"+"</div>"+(this.configs.display_feedback?'<div class="userback-button-feedback-type" data-type="list">'+Svg_Icons.list+'<div class="userback-feedback-type-title">'+Lang.get("view_other_feedback")+"</div>"+'<div class="userback-feedback-type-description">'+Lang.get("view_other_feedback_help")+"</div>"+"</div>":"")+"</div>"}else if(step===2){var category_options="";if(this.configs.display_category){$(this.configs.categories).each(function(index,category){category_options+="<option>"+category+"</option>"})}var rating_icons="";if(this.configs.rating_type==="emoji"){rating_icons+='<div data-rating="hate">'+Svg_Icons.face_hate+"<span>"+Lang.get("rating_hate")+"</span></div>"+'<div data-rating="dislike">'+Svg_Icons.face_dislike+"<span>"+Lang.get("rating_dislike")+"</span></div>"+'<div data-rating="neutral" class="selected">'+Svg_Icons.face_neutral+"<span>"+Lang.get("rating_neutral")+"</span></div>"+'<div data-rating="like">'+Svg_Icons.face_like+"<span>"+Lang.get("rating_like")+"</span></div>"+'<div data-rating="love">'+Svg_Icons.face_love+"<span>"+Lang.get("rating_love")+"</span></div>"}else if(this.configs.rating_type==="star"){rating_icons+='<div data-rating="star_1">'+Svg_Icons.star+"</div>"+'<div data-rating="star_2">'+Svg_Icons.star+"</div>"+'<div data-rating="star_3">'+Svg_Icons.star+"</div>"+'<div data-rating="star_4">'+Svg_Icons.star+"</div>"+'<div data-rating="star_5">'+Svg_Icons.star+"</div>"}else if(this.configs.rating_type==="heart"){rating_icons+='<div data-rating="heart_1">'+Svg_Icons.heart+"</div>"+'<div data-rating="heart_2">'+Svg_Icons.heart+"</div>"+'<div data-rating="heart_3">'+Svg_Icons.heart+"</div>"+'<div data-rating="heart_4">'+Svg_Icons.heart+"</div>"+'<div data-rating="heart_5">'+Svg_Icons.heart+"</div>"}html+='<div class="userback-controls-step" data-step="2">'+'<form class="userback-controls-options">'+(this.configs.rating_help_message?'<div class="userback-controls-help-message">'+Lib.htmlEntities(this.configs.rating_help_message)+"</div>":"")+(this.configs.rating_type?'<div class="userback-controls-rating">'+rating_icons+"</div>":"")+'<input type="email" placeholder="'+Lang.get("your_email_address")+'" required autofocus>'+(this.configs.display_category?'<select name="category"><option value="">'+Lang.get("select_a_category")+"</option>"+category_options+"</select>":"")+'<div class="userback-controls-comment">'+'<textarea placeholder="'+Lang.get("leave_us_your_comment")+'" required></textarea>'+(this.screenshot_data_uri?'<div class="userback-controls-screenshot-label"><span>screenshot.jpg</span><a href="#">&times;</a></div>':"")+"</div>"+(this.configs.display_receive_updates?'<div class="userback-receive-updates"><label><input type="checkbox"><span>'+Lang.get("receive_updates")+"</span></label></div>":"")+(this.configs.display_attachment&&typeof FileReader!=="undefined"?'<div class="userback-controls-attachment-actions">'+'<a href="#" class="userback-controls-add-attachment" title="'+Lang.get("attach_a_file")+" ("+Lang.get("max")+': 2MB)">'+Svg_Icons.paperclip+"<span>"+Lang.get("attach_a_file")+"</span></a>"+'<a href="#" class="userback-controls-remove-attachment" title="'+Lang.get("attach_a_file")+'">&times;</a>'+"</div>"+'<input type="file" class="userback-controls-attachment">':"")+'<button class="userback-controls-send userback-button-input">'+Lang.get("send")+"</button>"+'<a class="userback-controls-back" href="#">'+Lang.get("back")+"</a>"+"</form>"+"</div>"}html+='<div class="userback-footer">';html+='<div class="userback-feedback-step-indicator">'+step+" / 2</div>";if(this.configs.display_powered_by){html+='<div class="userback-powered-by"><span>Powered by</span> <a href="//www.userback.io">Userback</a></div>'}html+="</div>";this.ui.controls.html(html);if(step===2){var email=Userback.email||docCookies.getItem(this.access_token+"_email");if(email){this.ui.controls.find('input[type="email"]').val(email)}this.ui.controls.find(".userback-controls-send").css({color:this.configs.send_button_text_colour,"background-color":this.configs.send_button_background_colour});if(this.preview_mode===true){this.ui.controls.find(".userback-controls-send").prop("disabled",true).attr("title","Disabled in Widget Preview")}}},hideControls:function(){this.ui.button.hide();this.ui.controls.hide()},showControls:function(){if(!this.configs.autohide){this.ui.button.show()}this.ui.controls.show()},openControls:function(e){this.addControls();if(this.on_open){this.on_open.call(Userback_Api)}var page_jquery=window.$||window.jQuery;if(page_jquery&&page_jquery()&&page_jquery().off){page_jquery(document).off("focusin.bs.modal")}},feedbackTypeSelect:function(e){var feedback_type=$(e.currentTarget).data("type");if(feedback_type==="screenshot"){this.hideControls();this.addOverlay()}else if(feedback_type==="form"){this.setControlsStep(2)}else if(feedback_type==="list"){this.hideControls();this.addFeedbackView()}},changeCategory:function(e){this.categories=this.ui.controls.find('select[name="category"]').val()},selectAttachment:function(e){e.preventDefault();this.ui.controls.find(".userback-controls-attachment").click()},selectRating:function(e){this.ui.controls.find(".userback-controls-rating > div").removeClass("selected");if(this.configs.rating_type==="emoji"){$(e.currentTarget).addClass("selected")}else if(this.configs.rating_type==="star"||this.configs.rating_type==="heart"){$(e.currentTarget).prevAll().addClass("selected");$(e.currentTarget).addClass("selected")}},previewRating:function(e){if(this.configs.rating_type==="star"||this.configs.rating_type==="heart"){this.ui.controls.find(".userback-controls-rating > div").removeClass("highlight").addClass("preview");$(e.currentTarget).prevAll().addClass("highlight");$(e.currentTarget).addClass("highlight")}},unPreviewRating:function(e){if(this.configs.rating_type==="star"||this.configs.rating_type==="heart"){this.ui.controls.find(".userback-controls-rating > div").removeClass("highlight preview")}},removeAttachment:function(e){e.preventDefault();this.attachment_data_uri="";this.attachment_file_name="";this.ui.controls.find(".userback-controls-add-attachment span").text(Lang.get("attach_a_file"));this.ui.controls.find(".userback-controls-remove-attachment").hide()},uploadAttachment:function(e){if(!e.target.files||!e.target.files.length){return}var file=e.target.files[0];var reader=new FileReader;var size_limit=2;var error=false;if($.inArray(Lib.fileExtension(file.name),["zip","pdf","doc","docx","xls","xlsx","ppt","pptx","txt","log","csv","png","gif","jpg","jpeg"])===-1){error=Lang.get("file_format_not_supported")}if(file.size>size_limit*1024*1024){error=Lang.get("max")+": "+size_limit+"MB"}if(error){this.ui.controls.find(".userback-controls-add-attachment span").text(error)}else{this.ui.controls.find(".userback-controls-add-attachment span").text(Lib.baseName(file.name));this.ui.controls.find(".userback-controls-remove-attachment").show();reader.onload=$.proxy(function(){this.attachment_data_uri=reader.result;this.attachment_file_name=file.name},this);reader.readAsDataURL(file)}},addScreenshotPreview:function(){var camera="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuM4zml1AAAAGsSURBVEhLxZU7bsJAEIaNkhTpUucU5iEQHY25AR20SRspDSfgGNS5QFC4hpMWUXMAJCQIk/1WHuTHGEIEzkiftZqZnd8z60cgIpVgOq+B6czT7XbvwzB8sCBm7cljOpXBYHDTaDRmzWZTTvBOrlVDMZ2KE3kyipqQa9VQio4gqDGSer3+6Aqs8gWPsGIPe63u/MUl3TleHV+Ob4dV6Bx2jrjVaj1z416o1+vdOudHkrBNyG/8M07sDTHO4SVxbp2yt3a7nUmOokim06ksFgvZbDYe1viIpXMtfGdu8Zk4TKHxeCzr9TqJFI0YOZpfQowQ81RHZnQU2O/3vuByuZTJZCLD4dDDGh9GzgmxHUJWQPr9/qGT+XwunU6nkIOPGEYue/I5SqkQ88e4a0tEIaadscfKgVIhDhtjRFY8DTkYe6w4lArxZGGchxVPQw7GHisO/y9U2egqexiu8XinX9gM1gs7Go08rLWT376wcc6ZgQLamWXETohAHPDBMwIZGAnz57B5soA1vmPjUpLfRVDjU24lXILDb8J1r2J0xhhLz+wMij8+LlVgOi+PBD/0dr0I+PwOPQAAAABJRU5ErkJggg==";var screenshot_preview=$("<img>").attr({src:this.configs.is_live?camera:this.screenshot_data_uri,wstyle:this.configs.style});screenshot_preview.addClass("userback-screenshot-preview userback-screenshot-preview-"+this.configs.position);screenshot_preview.appendTo($(document.body));setTimeout(function(){screenshot_preview.remove()},1e3)},removeScreenshot:function(e){e.preventDefault();this.screenshot_data_uri="";this.ui.controls.find(".userback-controls-screenshot-label").remove()},getData:function(){var comments=[];$.each(this.comments,function(key,comment){comments.push(comment.getData())});var rating="";if(this.configs.rating_type){var selected_icon=this.ui.controls.find(".userback-controls-rating > div.selected:last");if(selected_icon.length){rating=selected_icon.data("rating")}}return{action:"feedback/new",load_type:this.load_type,access_token:this.access_token,domain:document.domain,page:window.location.href,email:this.ui.controls.find('input[type="email"]').val(),description:this.ui.controls.find("textarea").val(),update_reporter:this.configs.display_receive_updates&&this.ui.controls.find(".userback-receive-updates input").prop("checked"),comments:comments,screenshot:this.screenshot_data_uri,attachment:this.attachment_data_uri||"",attachment_file_name:this.attachment_file_name||"",user_agent:window.navigator.userAgent,window_x:$(window).width(),window_y:$(window).height(),resolution_x:window.screen.width,resolution_y:window.screen.height,categories:this.categories,custom_data:this.custom_data,rating:rating}},reset:function(e){if(e&&e.type==="click"){e.preventDefault()}if(!this.configs.autohide){this.ui.button.show()}this.screenshot_data_uri="";this.attachment_data_uri="";this.attachment_file_name="";this.removeOverlay();this.removeControls();this.removeFeedbackView();if(this.on_close){this.on_close.call(Userback_Api)}},back:function(e){e.preventDefault();this.setControlsStep(1)},send:function(e){e.preventDefault();if(this.preview_mode===true){return}var send_button=this.ui.controls.find(".userback-controls-send");send_button.addClass("userback-controls-send-loading").prop("disabled",true);var _post=function(){var post_data=this.getData();$.ajax(this.request_url+"/?postWidget",{data:post_data,crossDomain:true,dataType:"json",type:"POST",complete:$.proxy(function(){this.reset.call(this);if(this.after_send){var callback_data=$.extend({},post_data);delete callback_data.action;delete callback_data.access_token;if(!Userback.screen_capture&&this.configs.is_live){delete callback_data.screenshot}this.after_send.call(Userback_Api,callback_data)}},this)});if(post_data.access_token&&post_data.email){docCookies.setItem(post_data.access_token+"_email",post_data.email)}};var _send=function(){_post.call(this)};if(this.before_send){this.before_send.call(Userback_Api)}_send.call(this)},getEventCoordinates:function(e){var x,y;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length){x=e.originalEvent.changedTouches[0].pageX;y=e.originalEvent.changedTouches[0].pageY}else{x=e.pageX;y=e.pageY}return{x:x,y:y}},closeEmptyComment:function(){if(this.comments.length&&this.comments[this.comments.length-1].isEmpty()){this.comments[this.comments.length-1].destroy();this.comments.splice(this.comments.length-1,1)}},commentStart:function(e){if(this.Tools.type!=="comment"){return}if(this.Tools.dragging_obj_stop_time&&(new Date).getTime()-this.Tools.dragging_obj_stop_time<10){return}var pin_x,pin_y;if(e.changedTouches&&e.changedTouches.length){pin_x=e.changedTouches[0].pageX;pin_y=e.changedTouches[0].pageY}else{pin_x=e.pageX;pin_y=e.pageY}if(this.comments.length&&this.comments[this.comments.length-1].isOpen()){this.comments[this.comments.length-1].setPosition(pin_x,pin_y)}else{$.each(this.comments,function(index,comment){comment.hideForm()});this.addComment(pin_x,pin_y)}},capture:function(callback){if(Userback.screen_capture){Userback.screen_capture($.proxy(callback,this))}else if(this.configs.is_live){this.html2imageCapture($.proxy(callback,this))}else{this.html2canvasCapture($.proxy(callback,this))}},html2imageCapture:function(callback){var doctype="";var node=document.doctype;if(node){doctype="<!DOCTYPE "+node.name+(node.publicId?' PUBLIC "'+node.publicId+'"':"")+(!node.publicId&&node.systemId?" SYSTEM":"")+(node.systemId?' "'+node.systemId+'"':"")+">"}$("body *").each(function(){var element=$(this);var tag_name=element.prop("tagName");var scroll_top=element.scrollTop();var scroll_left=element.scrollLeft();if(scroll_top>0){element.attr("data-scrolltop",scroll_top)}if(scroll_left>0){element.attr("data-scrollleft",scroll_left)}if(tag_name==="SELECT"||tag_name==="TEXTAREA"||tag_name==="INPUT"){element.attr("data-value",element.val());if(element.prop("type")==="checkbox"||element.prop("type")==="radio"){if(element.prop("checked")===true){element.attr("data-checked","true")}}}if(tag_name==="VIDEO"||tag_name==="PICTURE"||tag_name==="SELECT"){if(element.css("box-sizing")==="border-box"){element.attr("data-height",element.outerHeight())}else{element.attr("data-height",element.height())}}else if(tag_name==="BASE"){element.attr("href",element.get(0).href)}});if($(document).scrollTop()>0){$("body").attr("data-scrolltop",$(document).scrollTop())}var document_html=doctype+"\r\n"+document.documentElement.outerHTML;$("[data-scrolltop]").removeAttr("data-scrolltop");$("[data-scrollleft]").removeAttr("data-scrollleft");$("[data-value]").removeAttr("data-value");$("[data-checked]").removeAttr("data-checked");$("[data-height]").removeAttr("data-height");var canvas_data="";var canvas_array=document.getElementsByTagName("canvas");for(var i=0;i<canvas_array.length;i++){var canvas_data_url;try{canvas_data_url=canvas_array[i].toDataURL("image/png",1)}catch(e){canvas_data_url=""}canvas_data+='<span style="display:none;" class="canvasdata_'+i+'">'+canvas_data_url+"</span>"}var video_data="";var video_array=document.getElementsByTagName("video");for(var i=0;i<video_array.length;i++){var poster=video_array[i].getAttribute("poster");video_data+='<span style="display:none;" class="videodata_'+i+'">'+(poster?poster:"")+"</span>"}document_html=document_html.replace(/<\/body>/i,canvas_data+video_data+"</body>");callback(document_html)},html2canvasCapture:function(callback){var svg_image_onload=$.proxy(function(svg_img_load_success){Feedback.Tools.snap.remove();var scroll_top=$(window).scrollTop();var scroll_left=$(window).scrollLeft();html2canvas(document.body,{proxy:this.proxy_url,onrendered:$.proxy(function(html2canvas){if(!this.ui.controls){return}var error_count=0;var imageOnload=function(){var canvas=$("<canvas>").get(0);canvas.width=html2canvas.width;canvas.height=html2canvas.height;var context=canvas.getContext("2d");context.drawImage(html2canvas_image,0,0);if(svg_img_load_success){context.drawImage(svg_img,0,0)}$(window).scrollTop(scroll_top);$(window).scrollLeft(scroll_left);try{var image_data_uri=canvas.toDataURL(this.mime_type,this.compression_rate)}catch(e){if(error_count>0){callback("");return}error_count++;var canvg_canvas=$(canvas).clone().hide().appendTo($(document.body)).get(0);canvg(canvg_canvas,svg_string);var canvg_data_url=canvg_canvas.toDataURL("image/png",1);$(canvg_canvas).remove();svg_img=new Image;svg_img.onload=$.proxy(function(e){imageOnload.call(this,true)},this);svg_img.onerror=$.proxy(function(e){imageOnload.call(this,false)},this);svg_img.src=canvg_data_url}var temp_canvas=$("<canvas>").get(0);var context=temp_canvas.getContext("2d");var image=new Image;var image_height=$(window).height();temp_canvas.width=canvas.width;temp_canvas.height=image_height;image.onload=function(){var sourceX=0;var sourceY=$(window).scrollTop();var sourceWidth=canvas.width;var sourceHeight=image_height;var destWidth=canvas.width;var destHeight=image_height;var destX=0;var destY=0;context.drawImage(image,sourceX,sourceY,sourceWidth,sourceHeight,destX,destY,destWidth,destHeight);callback(temp_canvas.toDataURL(this.mime_type,this.compression_rate))};image.src=image_data_uri};var html2canvas_image=new Image;html2canvas_image.onload=imageOnload;html2canvas_image.src=html2canvas.toDataURL(this.mime_type,this.compression_rate)},this)})},this);this.Tools.removeDeleteIcons();$("#snap_svg").attr({width:$("#snap_svg").width(),height:$("#snap_svg").height()});var svg_string=this.Tools.snap.outerSVG();svg_string=$("<div>").html(svg_string).html();var svg_img=new Image;var svg=new Blob([svg_string],{type:"image/svg+xml;charset=utf-8"});var url=URL.createObjectURL(svg);svg_img.onload=$.proxy(function(e){svg_image_onload.call(this,true)},this);svg_img.onerror=$.proxy(function(e){svg_image_onload.call(this,false)},this);svg_img.src=url}};var Userback_Api={open:function(mode){Feedback.ui.element.show();Feedback.openControls();if(mode==="capture"){Feedback.hideControls();Feedback.addOverlay()}else if(mode==="form"){Feedback.setControlsStep(2)}else if(mode==="feedback"){Feedback.hideControls();Feedback.addFeedbackView();
}},close:function(){Feedback.ui.element.hide()},setEmail:function(email){if(typeof email==="string"){Feedback.email=$.trim(email)}},setCategories:function(categories){if(typeof categories==="string"){Feedback.categories=$.trim(categories)}},setData:function(data){if(typeof data==="object"){$.each(data,function(key,value){if(typeof value!=="number"&&typeof value!=="string"&&typeof value!=="boolean"){delete data[key]}});Feedback.custom_data=data;return data}else{return false}},start:function(){Feedback.init.call(Feedback)}};Userback=$.extend(Userback,Userback_Api);var Comment=function(options){"use strict";this.x=options.x;this.y=options.y;this.counter=options.counter;this.onDelete=options.onDelete;this.onOpen=options.onOpen;var element=$("<div>").addClass("userback-comment").attr("data-html2canvas-ignore","true");var comment_message="";element.on("click mouseup mousedown",function(e){e.stopPropagation()});this._getHTML=function(){return'<div class="userback-comment-pin">'+(this.counter+1)+"</div>"+'<form class="userback-comment-form">'+'<textarea placeholder="'+Lang.get("add_your_comment_here")+'" required></textarea>'+'<span class="userback-comment-form-shortcut">ctrl + enter</span>'+'<button class="userback-button-input" type="submit">'+Lang.get("save")+"</button>"+'<a class="userback-comment-form-delete" href="#">'+Lang.get("delete")+"</a>"+"</form>"};this.isOpen=function(){return element.find(".userback-comment-form").is(":visible")};this.isEmpty=function(){return comment_message?false:true};this.setCounter=function(counter){this.counter=counter;element.find(".userback-comment-pin").text(counter+1)};this.show=function(){element.show()};this.hide=function(){element.hide()};this.showForm=function(){element.find(".userback-comment-form").show();element.find("textarea").focus()};this.hideForm=function(){element.find(".userback-comment-form").hide()};this.setPosition=function(x,y){this.x=x;this.y=y;this.setFormDirection();element.css({top:this.y,left:this.x})};this.setFormDirection=function(){var is_mobile=Feedback.isMobile();var form_width=is_mobile?230:430;var form_height=is_mobile?150:200;if($(window).scrollLeft()+$(window).width()-this.x>=form_width){element.find(".userback-comment-form").attr("xdirection","right")}else{element.find(".userback-comment-form").attr("xdirection","left")}if($(window).scrollTop()+$(window).height()-this.y>=form_height){element.find(".userback-comment-form").attr("ydirection","down")}else{element.find(".userback-comment-form").attr("ydirection","top")}};this.add=function(){element.css({top:this.y,left:this.x});element.html(this._getHTML());this.setFormDirection();element.find(".userback-comment-pin").on("click",$.proxy(function(e){this.showForm();this.onOpen(this.counter)},this));element.find(".userback-comment-form-delete").on("click",$.proxy(function(e){e.preventDefault();e.stopPropagation();this.destroy();this.onDelete(this.counter)},this));element.find("textarea").on("keydown",function(e){if(e.which===13){if(e.ctrlKey||e.metaKey){element.find('button[type="submit"]').click()}}});element.find("form").on("submit",$.proxy(function(e){e.preventDefault();comment_message=element.find("textarea").val();this.hideForm()},this));element.appendTo($(document.body));element.find("textarea").focus()};this.getData=function(){return{screen_x:parseInt(this.x-$(window).scrollLeft(),10),screen_y:parseInt(this.y-$(window).scrollTop(),10),screen_number:this.counter+1,message:comment_message}};this.destroy=function(){element.remove();element=undefined;comment_message=""}};if(Userback.auto_start!==false){$(document).ready($.proxy(Feedback.init,Feedback))}})()})();